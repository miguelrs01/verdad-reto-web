(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function K0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kf={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function vA(){if(Z_)return Pl;Z_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var J_;function EA(){return J_||(J_=1,Kf.exports=vA()),Kf.exports}var E=EA(),Yf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function TA(){if(ev)return Ie;ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function G(O,J,ae){this.props=O,this.context=J,this.refs=Y,this.updater=ae||k}G.prototype.isReactComponent={},G.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},G.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=G.prototype;function re(O,J,ae){this.props=O,this.context=J,this.refs=Y,this.updater=ae||k}var ie=re.prototype=new ne;ie.constructor=re,B(ie,G.prototype),ie.isPureReactComponent=!0;var me=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function N(O,J,ae,ee,pe,Ce){return ae=Ce.ref,{$$typeof:i,type:O,key:J,ref:ae!==void 0?ae:null,props:Ce}}function S(O,J){return N(O.type,J,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return J[ae]})}var P=/\/+/g;function V(O,J){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):J.toString(36)}function I(){}function Ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Le(O,J,ae,ee,pe){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case i:case e:be=!0;break;case T:return be=O._init,Le(be(O._payload),J,ae,ee,pe)}}if(be)return pe=pe(O),be=ee===""?"."+V(O,0):ee,me(pe)?(ae="",be!=null&&(ae=be.replace(P,"$&/")+"/"),Le(pe,J,ae,"",function(Rn){return Rn})):pe!=null&&(x(pe)&&(pe=S(pe,ae+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+be)),J.push(pe)),1;be=0;var vt=ee===""?".":ee+":";if(me(O))for(var Ze=0;Ze<O.length;Ze++)ee=O[Ze],Ce=vt+V(ee,Ze),be+=Le(ee,J,ae,Ce,pe);else if(Ze=A(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(ee=O.next()).done;)ee=ee.value,Ce=vt+V(ee,Ze++),be+=Le(ee,J,ae,Ce,pe);else if(Ce==="object"){if(typeof O.then=="function")return Le(Ue(O),J,ae,ee,pe);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(O,J,ae){if(O==null)return O;var ee=[],pe=0;return Le(O,ee,"","",function(Ce){return J.call(ae,Ce,pe++)}),ee}function se(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function He(){}return Ie.Children={map:Q,forEach:function(O,J,ae){Q(O,function(){J.apply(this,arguments)},ae)},count:function(O){var J=0;return Q(O,function(){J++}),J},toArray:function(O){return Q(O,function(J){return J})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=G,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=re,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return he.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,J,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=B({},O.props),pe=O.key,Ce=void 0;if(J!=null)for(be in J.ref!==void 0&&(Ce=void 0),J.key!==void 0&&(pe=""+J.key),J)!_e.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ee[be]=J[be]);var be=arguments.length-2;if(be===1)ee.children=ae;else if(1<be){for(var vt=Array(be),Ze=0;Ze<be;Ze++)vt[Ze]=arguments[Ze+2];ee.children=vt}return N(O.type,pe,void 0,void 0,Ce,ee)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,J,ae){var ee,pe={},Ce=null;if(J!=null)for(ee in J.key!==void 0&&(Ce=""+J.key),J)_e.call(J,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(pe[ee]=J[ee]);var be=arguments.length-2;if(be===1)pe.children=ae;else if(1<be){for(var vt=Array(be),Ze=0;Ze<be;Ze++)vt[Ze]=arguments[Ze+2];pe.children=vt}if(O&&O.defaultProps)for(ee in be=O.defaultProps,be)pe[ee]===void 0&&(pe[ee]=be[ee]);return N(O,Ce,void 0,void 0,null,pe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=x,Ie.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:se}},Ie.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Ie.startTransition=function(O){var J=he.T,ae={};he.T=ae;try{var ee=O(),pe=he.S;pe!==null&&pe(ae,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(He,de)}catch(Ce){de(Ce)}finally{he.T=J}},Ie.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ie.use=function(O){return he.H.use(O)},Ie.useActionState=function(O,J,ae){return he.H.useActionState(O,J,ae)},Ie.useCallback=function(O,J){return he.H.useCallback(O,J)},Ie.useContext=function(O){return he.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,J){return he.H.useDeferredValue(O,J)},Ie.useEffect=function(O,J,ae){var ee=he.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(O,J)},Ie.useId=function(){return he.H.useId()},Ie.useImperativeHandle=function(O,J,ae){return he.H.useImperativeHandle(O,J,ae)},Ie.useInsertionEffect=function(O,J){return he.H.useInsertionEffect(O,J)},Ie.useLayoutEffect=function(O,J){return he.H.useLayoutEffect(O,J)},Ie.useMemo=function(O,J){return he.H.useMemo(O,J)},Ie.useOptimistic=function(O,J){return he.H.useOptimistic(O,J)},Ie.useReducer=function(O,J,ae){return he.H.useReducer(O,J,ae)},Ie.useRef=function(O){return he.H.useRef(O)},Ie.useState=function(O){return he.H.useState(O)},Ie.useSyncExternalStore=function(O,J,ae){return he.H.useSyncExternalStore(O,J,ae)},Ie.useTransition=function(){return he.H.useTransition()},Ie.version="19.1.1",Ie}var tv;function qm(){return tv||(tv=1,Yf.exports=TA()),Yf.exports}var le=qm();const wA=K0(le);var Xf={exports:{}},Ml={},$f={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function bA(){return nv||(nv=1,(function(i){function e(Q,se){var de=Q.length;Q.push(se);e:for(;0<de;){var He=de-1>>>1,O=Q[He];if(0<o(O,se))Q[He]=se,Q[de]=O,de=He;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],de=Q.pop();if(de!==se){Q[0]=de;e:for(var He=0,O=Q.length,J=O>>>1;He<J;){var ae=2*(He+1)-1,ee=Q[ae],pe=ae+1,Ce=Q[pe];if(0>o(ee,de))pe<O&&0>o(Ce,ee)?(Q[He]=Ce,Q[pe]=de,He=pe):(Q[He]=ee,Q[ae]=de,He=ae);else if(pe<O&&0>o(Ce,de))Q[He]=Ce,Q[pe]=de,He=pe;else break e}}return se}function o(Q,se){var de=Q.sortIndex-se.sortIndex;return de!==0?de:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],y=[],T=1,R=null,A=3,k=!1,B=!1,Y=!1,G=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function me(Q){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Q)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function he(Q){if(Y=!1,me(Q),!B)if(n(p)!==null)B=!0,_e||(_e=!0,V());else{var se=n(y);se!==null&&Le(he,se.startTime-Q)}}var _e=!1,N=-1,S=5,x=-1;function D(){return G?!0:!(i.unstable_now()-x<S)}function P(){if(G=!1,_e){var Q=i.unstable_now();x=Q;var se=!0;try{e:{B=!1,Y&&(Y=!1,re(N),N=-1),k=!0;var de=A;try{t:{for(me(Q),R=n(p);R!==null&&!(R.expirationTime>Q&&D());){var He=R.callback;if(typeof He=="function"){R.callback=null,A=R.priorityLevel;var O=He(R.expirationTime<=Q);if(Q=i.unstable_now(),typeof O=="function"){R.callback=O,me(Q),se=!0;break t}R===n(p)&&s(p),me(Q)}else s(p);R=n(p)}if(R!==null)se=!0;else{var J=n(y);J!==null&&Le(he,J.startTime-Q),se=!1}}break e}finally{R=null,A=de,k=!1}se=void 0}}finally{se?V():_e=!1}}}var V;if(typeof ie=="function")V=function(){ie(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ue=I.port2;I.port1.onmessage=P,V=function(){Ue.postMessage(null)}}else V=function(){ne(P,0)};function Le(Q,se){N=ne(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var de=A;A=se;try{return Q()}finally{A=de}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return se()}finally{A=de}},i.unstable_scheduleCallback=function(Q,se,de){var He=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,Q={id:T++,callback:se,priorityLevel:Q,startTime:de,expirationTime:O,sortIndex:-1},de>He?(Q.sortIndex=de,e(y,Q),n(p)===null&&Q===n(y)&&(Y?(re(N),N=-1):Y=!0,Le(he,de-He))):(Q.sortIndex=O,e(p,Q),B||k||(B=!0,_e||(_e=!0,V()))),Q},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Q){var se=A;return function(){var de=A;A=se;try{return Q.apply(this,arguments)}finally{A=de}}}})(Wf)),Wf}var rv;function AA(){return rv||(rv=1,$f.exports=bA()),$f.exports}var Zf={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function SA(){if(iv)return Wt;iv=1;var i=qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:T}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Wt.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:A,fetchPriority:k}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:A,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,y){return p(y)},Wt.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var sv;function RA(){if(sv)return Zf.exports;sv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zf.exports=SA(),Zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function xA(){if(av)return Ml;av=1;var i=AA(),e=qm(),n=RA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,w=h.child;w;){if(w===a){v=!0,a=h,l=f;break}if(w===l){v=!0,l=h,a=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===a){v=!0,a=f,l=h;break}if(w===l){v=!0,l=f,a=h;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case G:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case _e:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Ue(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Ue(t(r))}catch{}}return null}var Le=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],O=-1;function J(t){return{current:t}}function ae(t){0>O||(t.current=He[O],He[O]=null,O--)}function ee(t,r){O++,He[O]=t.current,t.current=r}var pe=J(null),Ce=J(null),be=J(null),vt=J(null);function Ze(t,r){switch(ee(be,r),ee(Ce,t),ee(pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=R_(r),t=x_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(pe),ee(pe,t)}function Rn(){ae(pe),ae(Ce),ae(be)}function Jn(t){t.memoizedState!==null&&ee(vt,t);var r=pe.current,a=x_(r,t.type);r!==a&&(ee(Ce,t),ee(pe,a))}function qn(t){Ce.current===t&&(ae(pe),ae(Ce)),vt.current===t&&(ae(vt),Il._currentValue=de)}var Nr=Object.prototype.hasOwnProperty,Dr=i.unstable_scheduleCallback,er=i.unstable_cancelCallback,ds=i.unstable_shouldYield,ia=i.unstable_requestPaint,sn=i.unstable_now,Ro=i.unstable_getCurrentPriorityLevel,fs=i.unstable_ImmediatePriority,pi=i.unstable_UserBlockingPriority,ge=i.unstable_NormalPriority,Se=i.unstable_LowPriority,tr=i.unstable_IdlePriority,xo=i.log,Eu=i.unstable_setDisableYieldValue,dt=null,Xe=null;function pn(t){if(typeof xo=="function"&&Eu(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(dt,t)}catch{}}var Xt=Math.clz32?Math.clz32:ms,Tu=Math.log,Yh=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(Tu(t)/Yh|0)|0}var gs=256,ps=4194304;function Hn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?h=Hn(l):(v&=w,v!==0?h=Hn(v):a||(a=w&~t,a!==0&&(h=Hn(a))))):(w=l&~f,w!==0?h=Hn(w):v!==0?h=Hn(v):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function ys(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Io(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),t}function No(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function Or(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Pr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Do(t,r,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Xt(a),W=1<<K;w[K]=0,C[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&nr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~r))}function nr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Xt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Oo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Xt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function aa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _i(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function wu(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var lt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+lt,Et="__reactProps$"+lt,xn="__reactContainer$"+lt,Po="__reactEvents$"+lt,Xh="__reactListeners$"+lt,vi="__reactHandles$"+lt,bu="__reactResources$"+lt,_s="__reactMarker$"+lt;function Ei(t){delete t[Ct],delete t[Et],delete t[Po],delete t[Xh],delete t[vi]}function Mr(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[xn]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=D_(t);t!==null;){if(a=t[Ct])return a;t=D_(t)}return r}t=a,a=t.parentNode}return null}function rr(t){if(t=t[Ct]||t[xn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ir(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function an(t){var r=t[bu];return r||(r=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[_s]=!0}var Mo=new Set,oa={};function Fn(t,r){Vr(t,r),Vr(t+"Capture",r)}function Vr(t,r){for(oa[t]=r,t=0;t<r.length;t++)Mo.add(r[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},vs={};function Ru(t){return Nr.call(vs,t)?!0:Nr.call(Su,t)?!1:Au.test(t)?vs[t]=!0:(Su[t]=!0,!1)}function Ti(t,r,a){if(Ru(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function sr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Bt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Es,xu;function kr(t){if(Es===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Es=r&&r[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+xu}var la=!1;function ua(t,r){if(!t||la)return"";la=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var q=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){q=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){q=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var C=v.split(`
`),z=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{la=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?kr(a):""}function Vo(t){switch(t.tag){case 26:case 27:case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 15:return ua(t.type,!1);case 11:return ua(t.type.render,!1);case 1:return ua(t.type,!0);case 31:return kr("Activity");default:return""}}function ca(t){try{var r="";do r+=Vo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $h(t){var r=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ha(t){t._valueTracker||(t._valueTracker=$h(t))}function Lo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function Tt(t){return t.replace(Wh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(t,r,a,l,h,f,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?wi(t,v,on(r)):a!=null?wi(t,v,on(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function ws(t,r,a,l,h,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function wi(t,r,a){r==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Je(t,r,a){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+on(a):""}function bs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||As.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Uo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Iu(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Iu(t,f,r[f])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ur=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,zr=null;function zo(t){var r=rr(t);if(r&&(t=r.stateNode)){var a=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Lo(l)}break e;case"textarea":Je(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Lr(t,!!a.multiple,r,!1)}}}var ar=!1;function Cu(t,r,a){if(ar)return t(r,a);ar=!0;try{var l=t(r);return l}finally{if(ar=!1,(jr!==null||zr!==null)&&(wc(),jr&&(r=jr,t=zr,zr=jr=null,zo(r),t)))for(r=0;r<t.length;r++)zo(t[r])}}function Ss(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Gn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Nn=!1}var or=null,bi=null,Br=null;function Bo(){if(Br)return Br;var t,r=bi,a=r.length,l,h="value"in or?or.value:or.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function lr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ur(){return!0}function qo(){return!1}function Vt(t){function r(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ur:qo,this.isPropagationStopped=qo,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Vt(Ke),xs=T({},Ke,{view:0,detail:0}),Nu=Vt(xs),ma,ga,cr,Is=T({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(ma=t.screenX-cr.screenX,ga=t.screenY-cr.screenY):ga=ma=0,cr=t),ma)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Dn=Vt(Is),Du=T({},Is,{dataTransfer:0}),ed=Vt(Du),Cs=T({},xs,{relatedTarget:0}),pa=Vt(Cs),Ho=T({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=Vt(Ho),Ou=T({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_a=Vt(Ou),td=T({},Ke,{data:0}),Fo=Vt(td),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Mu[t])?!!r[t]:!1}function Ds(){return Go}var Vu=T({},xs,{key:function(t){if(t.key){var r=Ns[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=Vt(Vu),ku=T({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Vt(ku),qr=T({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Lu=Vt(qr),Uu=T({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Vt(Uu),zu=T({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ea=Vt(zu),ln=T({},Ke,{newState:0,oldState:0}),Bu=Vt(ln),qu=[9,13,27,32],hr=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var g=Gn&&"TextEvent"in window&&!c,_=Gn&&(!hr||c&&8<c&&11>=c),b=" ",U=!1;function F(t,r){switch(t){case"keyup":return qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function te(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Nt(t,r){switch(t){case"compositionend":return te(r);case"keypress":return r.which!==32?null:(U=!0,b);case"textInput":return t=r.data,t===b&&U?null:t;default:return null}}function ze(t,r){if(je)return t==="compositionend"||!hr&&F(t,r)?(t=Bo(),Br=bi=or=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!kt[t.type]:r==="textarea"}function Hr(t,r,a,l){jr?zr?zr.push(l):zr=[l]:jr=l,r=Ic(r,"onChange"),0<r.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var qt=null,dr=null;function Ko(t){T_(t,0)}function Hu(t){var r=ir(t);if(Lo(r))return t}function qg(t,r){if(t==="change")return r}var Hg=!1;if(Gn){var nd;if(Gn){var rd="oninput"in document;if(!rd){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),rd=typeof Fg.oninput=="function"}nd=rd}else nd=!1;Hg=nd&&(!document.documentMode||9<document.documentMode)}function Gg(){qt&&(qt.detachEvent("onpropertychange",Qg),dr=qt=null)}function Qg(t){if(t.propertyName==="value"&&Hu(dr)){var r=[];Hr(r,dr,t,Cn(t)),Cu(Ko,r)}}function Xw(t,r,a){t==="focusin"?(Gg(),qt=r,dr=a,qt.attachEvent("onpropertychange",Qg)):t==="focusout"&&Gg()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(dr)}function Ww(t,r){if(t==="click")return Hu(r)}function Zw(t,r){if(t==="input"||t==="change")return Hu(r)}function Jw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:Jw;function Yo(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Nr.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function Kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,r){var a=Kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ts(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ts(t.document)}return r}function id(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var eb=Gn&&"documentMode"in document&&11>=document.documentMode,Ta=null,sd=null,Xo=null,ad=!1;function Wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ad||Ta==null||Ta!==Ts(l)||(l=Ta,"selectionStart"in l&&id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Ic(sd,"onSelect"),0<l.length&&(r=new fa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ta)))}function Os(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var wa={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},od={},Zg={};Gn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ps(t){if(od[t])return od[t];if(!wa[t])return t;var r=wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return od[t]=r[a];return t}var Jg=Ps("animationend"),ep=Ps("animationiteration"),tp=Ps("animationstart"),tb=Ps("transitionrun"),nb=Ps("transitionstart"),rb=Ps("transitioncancel"),np=Ps("transitionend"),rp=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function Qn(t,r){rp.set(t,r),Fn(r,[t])}var ip=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=ip.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ca(r)},ip.set(t,r),r)}return{value:t,source:r,stack:ca(r)}}var Pn=[],ba=0,ud=0;function Fu(){for(var t=ba,r=ud=ba=0;r<t;){var a=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var h=Pn[r];Pn[r++]=null;var f=Pn[r];if(Pn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&sp(a,h,f)}}function Gu(t,r,a,l){Pn[ba++]=t,Pn[ba++]=r,Pn[ba++]=a,Pn[ba++]=l,ud|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function cd(t,r,a,l){return Gu(t,r,a,l),Qu(t)}function Aa(t,r){return Gu(t,null,null,r),Qu(t)}function sp(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-Xt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Qu(t){if(50<El)throw El=0,yf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Sa={};function ib(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,l){return new ib(t,r,a,l)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ap(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ku(t,r,a,l,h,f){var v=0;if(l=t,typeof t=="function")hd(t)&&(v=1);else if(typeof t=="string")v=aA(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=vn(31,a,r,h),t.elementType=x,t.lanes=f,t;case B:return Ms(a.children,h,f,r);case Y:v=8,h|=24;break;case G:return t=vn(12,a,r,h|2),t.elementType=G,t.lanes=f,t;case he:return t=vn(13,a,r,h),t.elementType=he,t.lanes=f,t;case _e:return t=vn(19,a,r,h),t.elementType=_e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case ie:v=10;break e;case re:v=9;break e;case me:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=vn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Ms(t,r,a,l){return t=vn(7,t,l,r),t.lanes=a,t}function dd(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function fd(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ra=[],xa=0,Yu=null,Xu=0,Mn=[],Vn=0,Vs=null,Gr=1,Qr="";function ks(t,r){Ra[xa++]=Xu,Ra[xa++]=Yu,Yu=t,Xu=r}function op(t,r,a){Mn[Vn++]=Gr,Mn[Vn++]=Qr,Mn[Vn++]=Vs,Vs=t;var l=Gr;t=Qr;var h=32-Xt(l)-1;l&=~(1<<h),a+=1;var f=32-Xt(r)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gr=1<<32-Xt(r)+h|a<<h|l,Qr=f+t}else Gr=1<<f|a<<h|l,Qr=t}function md(t){t.return!==null&&(ks(t,1),op(t,1,0))}function gd(t){for(;t===Yu;)Yu=Ra[--xa],Ra[xa]=null,Xu=Ra[--xa],Ra[xa]=null;for(;t===Vs;)Vs=Mn[--Vn],Mn[Vn]=null,Qr=Mn[--Vn],Mn[Vn]=null,Gr=Mn[--Vn],Mn[Vn]=null}var un=null,ft=null,Qe=!1,Ls=null,fr=!1,pd=Error(s(519));function Us(t){var r=Error(s(418,""));throw Zo(On(r,t)),pd}function lp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[Et]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)Pe(wl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ws(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ha(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),bs(r,l.value,l.defaultValue,l.children),ha(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||S_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Cc),r=!0):r=!1,r||Us(t)}function up(t){for(un=t.return;un;)switch(un.tag){case 5:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:un=un.return}}function $o(t){if(t!==un)return!1;if(!Qe)return up(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pf(t.type,t.memoizedProps)),a=!a),a&&ft&&Us(t),up(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ft=Yn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,ji(t.type)?(t=Lf,Lf=null,ft=t):ft=r):ft=un?Yn(t.stateNode.nextSibling):null;return!0}function Wo(){ft=un=null,Qe=!1}function cp(){var t=Ls;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ls=null),t}function Zo(t){Ls===null?Ls=[t]:Ls.push(t)}var yd=J(null),js=null,Kr=null;function Ai(t,r,a){ee(yd,r._currentValue),r._currentValue=a}function Yr(t){t._currentValue=yd.current,ae(yd)}function _d(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function vd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=h;for(var C=0;C<r.length;C++)if(w.context===r[C]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),_d(f.return,a,t),l||(v=null);break e}f=w.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),_d(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=h.type;_n(h.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(h===vt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}h=h.return}t!==null&&vd(r,t,a,l),r.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return hp(js,t)}function Wu(t,r){return js===null&&zs(t),hp(t,r)}function hp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Kr===null){if(t===null)throw Error(s(308));Kr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Kr=Kr.next=r;return a}var sb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ab=i.unstable_scheduleCallback,ob=i.unstable_NormalPriority,Ot={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new sb,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&ab(ob,function(){t.controller.abort()})}var tl=null,Td=0,Ia=0,Ca=null;function lb(t,r){if(tl===null){var a=tl=[];Td=0,Ia=Af(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Td++,r.then(dp,dp),r}function dp(){if(--Td===0&&tl!==null){Ca!==null&&(Ca.status="fulfilled");var t=tl;tl=null,Ia=0,Ca=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ub(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var fp=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lb(t,r),fp!==null&&fp(t,r)};var Bs=J(null);function wd(){var t=Bs.current;return t!==null?t:st.pooledCache}function Zu(t,r){r===null?ee(Bs,Bs.current):ee(Bs,r.pool)}function mp(){var t=wd();return t===null?null:{parent:Ot._currentValue,pool:t}}var nl=Error(s(460)),gp=Error(s(474)),Ju=Error(s(542)),bd={then:function(){}};function pp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function yp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ec,ec),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vp(t),t;default:if(typeof r.status=="string")r.then(ec,ec);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vp(t),t}throw rl=r,nl}}var rl=null;function _p(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}function vp(t){if(t===nl||t===Ju)throw Error(s(483))}var Si=!1;function Ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ri(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Qu(t),sp(t,null,a),r}return Gu(t,l,r,a),Qu(t)}function il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}function Rd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var xd=!1;function sl(){if(xd){var t=Ca;if(t!==null)throw t}}function al(t,r,a,l){xd=!1;var h=t.updateQueue;Si=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,z=C.next;C.next=null,v===null?f=z:v.next=z,v=C;var K=t.alternate;K!==null&&(K=K.updateQueue,w=K.lastBaseUpdate,w!==v&&(w===null?K.firstBaseUpdate=z:w.next=z,K.lastBaseUpdate=C))}if(f!==null){var W=h.baseState;v=0,K=z=C=null,w=f;do{var q=w.lane&-536870913,H=q!==w.lane;if(H?(Be&q)===q:(l&q)===q){q!==0&&q===Ia&&(xd=!0),K!==null&&(K=K.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=t,ve=w;q=r;var nt=a;switch(ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){W=Ae.call(nt,W,q);break e}W=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,q=typeof Ae=="function"?Ae.call(nt,W,q):Ae,q==null)break e;W=T({},W,q);break e;case 2:Si=!0}}q=w.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},K===null?(z=K=H,C=W):K=K.next=H,v|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;H=w,w=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=W),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Vi|=v,t.lanes=v,t.memoizedState=W}}function Ep(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Tp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ep(a[t],r)}var Na=J(null),tc=J(0);function wp(t,r){t=ti,ee(tc,t),ee(Na,r),ti=t|r.baseLanes}function Id(){ee(tc,ti),ee(Na,Na.current)}function Cd(){ti=tc.current,ae(Na),ae(tc)}var Ii=0,Ne=null,et=null,wt=null,nc=!1,Da=!1,qs=!1,rc=0,ol=0,Oa=null,cb=0;function pt(){throw Error(s(321))}function Nd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function Dd(t,r,a,l,h,f){return Ii=f,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?sy:ay,qs=!1,f=a(l,h),qs=!1,Da&&(f=Ap(r,a,l,h)),bp(t),f}function bp(t){Q.H=uc;var r=et!==null&&et.next!==null;if(Ii=0,wt=et=Ne=null,nc=!1,ol=0,Oa=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&$u(t)&&(Lt=!0))}function Ap(t,r,a,l){Ne=t;var h=0;do{if(Da&&(Oa=null),ol=0,Da=!1,25<=h)throw Error(s(301));if(h+=1,wt=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=yb,f=r(a,l)}while(Da);return f}function hb(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?ll(r):r,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Od(){var t=rc!==0;return rc=0,t}function Pd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Md(t){if(nc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}nc=!1}Ii=0,wt=et=Ne=null,Da=!1,ol=rc=0,Oa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=t:wt=wt.next=t,wt}function bt(){if(et===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var r=wt===null?Ne.memoizedState:wt.next;if(r!==null)wt=r,et=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},wt===null?Ne.memoizedState=wt=t:wt=wt.next=t}return wt}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var r=ol;return ol+=1,Oa===null&&(Oa=[]),t=yp(Oa,t,r),r=Ne,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?sy:ay),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ie)return $t(t)}throw Error(s(438,String(t)))}function kd(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Vd(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function Xr(t,r){return typeof r=="function"?r(t):r}function sc(t){var r=bt();return Ld(r,et,t)}function Ld(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var w=v=null,C=null,z=r,K=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Be&W)===W:(Ii&W)===W){var q=z.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Ia&&(K=!0);else if((Ii&q)===q){z=z.next,q===Ia&&(K=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=W,v=f):C=C.next=W,Ne.lanes|=q,Vi|=q;W=z.action,qs&&a(f,W),f=z.hasEagerState?z.eagerState:a(f,W)}else q={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(w=C=q,v=f):C=C.next=q,Ne.lanes|=W,Vi|=W;z=z.next}while(z!==null&&z!==r);if(C===null?v=f:C.next=w,!_n(f,t.memoizedState)&&(Lt=!0,K&&(a=Ca,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ud(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);_n(f,r.memoizedState)||(Lt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Sp(t,r,a){var l=Ne,h=bt(),f=Qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!_n((et||h).memoizedState,a);v&&(h.memoizedState=a,Lt=!0),h=h.queue;var w=Ip.bind(null,l,h,t);if(ul(2048,8,w,[t]),h.getSnapshot!==r||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,ac(),xp.bind(null,l,h,a,r),null),st===null)throw Error(s(349));f||(Ii&124)!==0||Rp(l,r,a)}return a}function Rp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Vd(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function xp(t,r,a,l){r.value=a,r.getSnapshot=l,Cp(r)&&Np(t)}function Ip(t,r,a){return a(function(){Cp(r)&&Np(t)})}function Cp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function Np(t){var r=Aa(t,2);r!==null&&An(r,t,2)}function jd(t){var r=cn();if(typeof t=="function"){var a=t;if(t=a(),qs){pn(!0);try{a()}finally{pn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:t},r}function Dp(t,r,a,l){return t.baseState=a,Ld(t,et,typeof l=="function"?l:Xr)}function db(t,r,a,l,h){if(lc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Op(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Op(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Q.T,v={};Q.T=v;try{var w=a(h,l),C=Q.S;C!==null&&C(v,w),Pp(t,r,w)}catch(z){zd(t,r,z)}finally{Q.T=f}}else try{f=a(h,l),Pp(t,r,f)}catch(z){zd(t,r,z)}}function Pp(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mp(t,r,l)},function(l){return zd(t,r,l)}):Mp(t,r,a)}function Mp(t,r,a){r.status="fulfilled",r.value=a,Vp(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Op(t,a)))}function zd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Vp(r),r=r.next;while(r!==l)}t.action=null}function Vp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function kp(t,r){return r}function Lp(t,r){if(Qe){var a=st.formState;if(a!==null){e:{var l=Ne;if(Qe){if(ft){t:{for(var h=ft,f=fr;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=Yn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kp,lastRenderedState:r},a.queue=l,a=ny.bind(null,Ne,l),l.dispatch=a,l=jd(!1),f=Gd.bind(null,Ne,!1,l.queue),l=cn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=db.bind(null,Ne,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Up(t){var r=bt();return jp(r,et,t)}function jp(t,r,a){if(r=Ld(t,r,kp)[0],t=sc(Xr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(v){throw v===nl?Ju:v}else l=r;r=bt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,Pa(9,ac(),fb.bind(null,h,a),null)),[l,f,t]}function fb(t,r){t.action=r}function zp(t){var r=bt(),a=et;if(a!==null)return jp(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Vd(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function Bp(){return bt().memoizedState}function oc(t,r,a,l){var h=cn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=Pa(1|r,ac(),a,l)}function ul(t,r,a,l){var h=bt();l=l===void 0?null:l;var f=h.memoizedState.inst;et!==null&&l!==null&&Nd(l,et.memoizedState.deps)?h.memoizedState=Pa(r,f,a,l):(Ne.flags|=t,h.memoizedState=Pa(1|r,f,a,l))}function qp(t,r){oc(8390656,8,t,r)}function Hp(t,r){ul(2048,8,t,r)}function Fp(t,r){return ul(4,2,t,r)}function Gp(t,r){return ul(4,4,t,r)}function Qp(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Kp(t,r,a){a=a!=null?a.concat([t]):null,ul(4,4,Qp.bind(null,r,t),a)}function Bd(){}function Yp(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Nd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Xp(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Nd(r,l[1]))return l[0];if(l=t(),qs){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,r],l}function qd(t,r,a){return a===void 0||(Ii&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Zy(),Ne.lanes|=t,Vi|=t,a)}function $p(t,r,a,l){return _n(a,r)?a:Na.current!==null?(t=qd(t,a,l),_n(t,r)||(Lt=!0),t):(Ii&42)===0?(Lt=!0,t.memoizedState=a):(t=Zy(),Ne.lanes|=t,Vi|=t,r)}function Wp(t,r,a,l,h){var f=se.p;se.p=f!==0&&8>f?f:8;var v=Q.T,w={};Q.T=w,Gd(t,!1,r,a);try{var C=h(),z=Q.S;if(z!==null&&z(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=ub(C,l);cl(t,r,K,bn(t))}else cl(t,r,l,bn(t))}catch(W){cl(t,r,{then:function(){},status:"rejected",reason:W},bn())}finally{se.p=f,Q.T=v}}function mb(){}function Hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Zp(t).queue;Wp(t,h,r,de,a===null?mb:function(){return Jp(t),a(l)})}function Zp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Jp(t){var r=Zp(t).next.queue;cl(t,r,{},bn())}function Fd(){return $t(Il)}function ey(){return bt().memoizedState}function ty(){return bt().memoizedState}function gb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=Ri(a);var l=xi(r,t,a);l!==null&&(An(l,r,a),il(l,r,a)),r={cache:Ed()},t.payload=r;return}r=r.return}}function pb(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?ry(r,a):(a=cd(t,r,a,l),a!==null&&(An(a,t,l),iy(a,r,l)))}function ny(t,r,a){var l=bn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))ry(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,w=f(v,a);if(h.hasEagerState=!0,h.eagerState=w,_n(w,v))return Gu(t,r,h,0),st===null&&Fu(),!1}catch{}finally{}if(a=cd(t,r,h,l),a!==null)return An(a,t,l),iy(a,r,l),!0}return!1}function Gd(t,r,a,l){if(l={lane:2,revertLane:Af(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(r)throw Error(s(479))}else r=cd(t,a,l,2),r!==null&&An(r,t,2)}function lc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function ry(t,r){Da=nc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function iy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Oo(t,a)}}var uc={readContext:$t,use:ic,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},sy={readContext:$t,use:ic,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:qp,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,oc(4194308,4,Qp.bind(null,r,t),a)},useLayoutEffect:function(t,r){return oc(4194308,4,t,r)},useInsertionEffect:function(t,r){oc(4,2,t,r)},useMemo:function(t,r){var a=cn();r=r===void 0?null:r;var l=t();if(qs){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=cn();if(a!==void 0){var h=a(r);if(qs){pn(!0);try{a(r)}finally{pn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=pb.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=jd(t);var r=t.queue,a=ny.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Bd,useDeferredValue:function(t,r){var a=cn();return qd(a,t,r)},useTransition:function(){var t=jd(!1);return t=Wp.bind(null,Ne,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=cn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(Be&124)!==0||Rp(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,qp(Ip.bind(null,l,f,t),[t]),l.flags|=2048,Pa(9,ac(),xp.bind(null,l,f,a,r),null),a},useId:function(){var t=cn(),r=st.identifierPrefix;if(Qe){var a=Qr,l=Gr;a=(l&~(1<<32-Xt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=rc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=cb++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Fd,useFormState:Lp,useActionState:Lp,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Gd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:kd,useCacheRefresh:function(){return cn().memoizedState=gb.bind(null,Ne)}},ay={readContext:$t,use:ic,useCallback:Yp,useContext:$t,useEffect:Hp,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:sc,useRef:Bp,useState:function(){return sc(Xr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=bt();return $p(a,et.memoizedState,t,r)},useTransition:function(){var t=sc(Xr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Sp,useId:ey,useHostTransitionStatus:Fd,useFormState:Up,useActionState:Up,useOptimistic:function(t,r){var a=bt();return Dp(a,et,t,r)},useMemoCache:kd,useCacheRefresh:ty},yb={readContext:$t,use:ic,useCallback:Yp,useContext:$t,useEffect:Hp,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:Ud,useRef:Bp,useState:function(){return Ud(Xr)},useDebugValue:Bd,useDeferredValue:function(t,r){var a=bt();return et===null?qd(a,t,r):$p(a,et.memoizedState,t,r)},useTransition:function(){var t=Ud(Xr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:Sp,useId:ey,useHostTransitionStatus:Fd,useFormState:zp,useActionState:zp,useOptimistic:function(t,r){var a=bt();return et!==null?Dp(a,et,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kd,useCacheRefresh:ty},Ma=null,hl=0;function cc(t){var r=hl;return hl+=1,Ma===null&&(Ma=[]),yp(Ma,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function hc(t,r){throw r.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function oy(t){var r=t._init;return r(t._payload)}function ly(t){function r(L,M){if(t){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Fr(L,M),L.index=0,L.sibling=null,L}function f(L,M,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=67108866,M):j):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,M,j,X){return M===null||M.tag!==6?(M=dd(j,L.mode,X),M.return=L,M):(M=h(M,j),M.return=L,M)}function C(L,M,j,X){var ce=j.type;return ce===B?K(L,M,j.props.children,X,j.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&oy(ce)===M.type)?(M=h(M,j.props),dl(M,j),M.return=L,M):(M=Ku(j.type,j.key,j.props,null,L.mode,X),dl(M,j),M.return=L,M)}function z(L,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=fd(j,L.mode,X),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function K(L,M,j,X,ce){return M===null||M.tag!==7?(M=Ms(j,L.mode,X,ce),M.return=L,M):(M=h(M,j),M.return=L,M)}function W(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=dd(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return j=Ku(M.type,M.key,M.props,null,L.mode,j),dl(j,M),j.return=L,j;case k:return M=fd(M,L.mode,j),M.return=L,M;case S:var X=M._init;return M=X(M._payload),W(L,M,j)}if(Le(M)||V(M))return M=Ms(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return W(L,cc(M),j);if(M.$$typeof===ie)return W(L,Wu(L,M),j);hc(L,M)}return null}function q(L,M,j,X){var ce=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:w(L,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return j.key===ce?C(L,M,j,X):null;case k:return j.key===ce?z(L,M,j,X):null;case S:return ce=j._init,j=ce(j._payload),q(L,M,j,X)}if(Le(j)||V(j))return ce!==null?null:K(L,M,j,X,null);if(typeof j.then=="function")return q(L,M,cc(j),X);if(j.$$typeof===ie)return q(L,M,Wu(L,j),X);hc(L,j)}return null}function H(L,M,j,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(j)||null,w(M,L,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return L=L.get(X.key===null?j:X.key)||null,C(M,L,X,ce);case k:return L=L.get(X.key===null?j:X.key)||null,z(M,L,X,ce);case S:var De=X._init;return X=De(X._payload),H(L,M,j,X,ce)}if(Le(X)||V(X))return L=L.get(j)||null,K(M,L,X,ce,null);if(typeof X.then=="function")return H(L,M,j,cc(X),ce);if(X.$$typeof===ie)return H(L,M,j,Wu(M,X),ce);hc(M,X)}return null}function Ae(L,M,j,X){for(var ce=null,De=null,fe=M,Ee=M=0,jt=null;fe!==null&&Ee<j.length;Ee++){fe.index>Ee?(jt=fe,fe=null):jt=fe.sibling;var Fe=q(L,fe,j[Ee],X);if(Fe===null){fe===null&&(fe=jt);break}t&&fe&&Fe.alternate===null&&r(L,fe),M=f(Fe,M,Ee),De===null?ce=Fe:De.sibling=Fe,De=Fe,fe=jt}if(Ee===j.length)return a(L,fe),Qe&&ks(L,Ee),ce;if(fe===null){for(;Ee<j.length;Ee++)fe=W(L,j[Ee],X),fe!==null&&(M=f(fe,M,Ee),De===null?ce=fe:De.sibling=fe,De=fe);return Qe&&ks(L,Ee),ce}for(fe=l(fe);Ee<j.length;Ee++)jt=H(fe,L,Ee,j[Ee],X),jt!==null&&(t&&jt.alternate!==null&&fe.delete(jt.key===null?Ee:jt.key),M=f(jt,M,Ee),De===null?ce=jt:De.sibling=jt,De=jt);return t&&fe.forEach(function(Fi){return r(L,Fi)}),Qe&&ks(L,Ee),ce}function ve(L,M,j,X){if(j==null)throw Error(s(151));for(var ce=null,De=null,fe=M,Ee=M=0,jt=null,Fe=j.next();fe!==null&&!Fe.done;Ee++,Fe=j.next()){fe.index>Ee?(jt=fe,fe=null):jt=fe.sibling;var Fi=q(L,fe,Fe.value,X);if(Fi===null){fe===null&&(fe=jt);break}t&&fe&&Fi.alternate===null&&r(L,fe),M=f(Fi,M,Ee),De===null?ce=Fi:De.sibling=Fi,De=Fi,fe=jt}if(Fe.done)return a(L,fe),Qe&&ks(L,Ee),ce;if(fe===null){for(;!Fe.done;Ee++,Fe=j.next())Fe=W(L,Fe.value,X),Fe!==null&&(M=f(Fe,M,Ee),De===null?ce=Fe:De.sibling=Fe,De=Fe);return Qe&&ks(L,Ee),ce}for(fe=l(fe);!Fe.done;Ee++,Fe=j.next())Fe=H(fe,L,Ee,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ee:Fe.key),M=f(Fe,M,Ee),De===null?ce=Fe:De.sibling=Fe,De=Fe);return t&&fe.forEach(function(_A){return r(L,_A)}),Qe&&ks(L,Ee),ce}function nt(L,M,j,X){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case A:e:{for(var ce=j.key;M!==null;){if(M.key===ce){if(ce=j.type,ce===B){if(M.tag===7){a(L,M.sibling),X=h(M,j.props.children),X.return=L,L=X;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&oy(ce)===M.type){a(L,M.sibling),X=h(M,j.props),dl(X,j),X.return=L,L=X;break e}a(L,M);break}else r(L,M);M=M.sibling}j.type===B?(X=Ms(j.props.children,L.mode,X,j.key),X.return=L,L=X):(X=Ku(j.type,j.key,j.props,null,L.mode,X),dl(X,j),X.return=L,L=X)}return v(L);case k:e:{for(ce=j.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(L,M.sibling),X=h(M,j.children||[]),X.return=L,L=X;break e}else{a(L,M);break}else r(L,M);M=M.sibling}X=fd(j,L.mode,X),X.return=L,L=X}return v(L);case S:return ce=j._init,j=ce(j._payload),nt(L,M,j,X)}if(Le(j))return Ae(L,M,j,X);if(V(j)){if(ce=V(j),typeof ce!="function")throw Error(s(150));return j=ce.call(j),ve(L,M,j,X)}if(typeof j.then=="function")return nt(L,M,cc(j),X);if(j.$$typeof===ie)return nt(L,M,Wu(L,j),X);hc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(L,M.sibling),X=h(M,j),X.return=L,L=X):(a(L,M),X=dd(j,L.mode,X),X.return=L,L=X),v(L)):a(L,M)}return function(L,M,j,X){try{hl=0;var ce=nt(L,M,j,X);return Ma=null,ce}catch(fe){if(fe===nl||fe===Ju)throw fe;var De=vn(29,fe,null,L.mode);return De.lanes=X,De.return=L,De}finally{}}}var Va=ly(!0),uy=ly(!1),kn=J(null),mr=null;function Ci(t){var r=t.alternate;ee(Pt,Pt.current&1),ee(kn,t),mr===null&&(r===null||Na.current!==null||r.memoizedState!==null)&&(mr=t)}function cy(t){if(t.tag===22){if(ee(Pt,Pt.current),ee(kn,t),mr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(mr=t)}}else Ni()}function Ni(){ee(Pt,Pt.current),ee(kn,kn.current)}function $r(t){ae(kn),mr===t&&(mr=null),ae(Pt)}var Pt=J(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kf(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Qd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),h=Ri(l);h.payload=r,a!=null&&(h.callback=a),r=xi(t,h,l),r!==null&&(An(r,t,l),il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),h=Ri(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=xi(t,h,l),r!==null&&(An(r,t,l),il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=Ri(a);l.tag=2,r!=null&&(l.callback=r),r=xi(t,l,a),r!==null&&(An(r,t,a),il(r,t,a))}};function hy(t,r,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,f):!0}function dy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Kd.enqueueReplaceState(r,r.state,null)}function Hs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fy(t){fc(t)}function my(t){console.error(t)}function gy(t){fc(t)}function mc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function py(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yd(t,r,a){return a=Ri(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,r)},a}function yy(t){return t=Ri(t),t.tag=3,t}function _y(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){py(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){py(r,a,l),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function _b(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return mr===null?vf():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Tf(t,l,h)),!1;case 22:return a.flags|=65536,l===bd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Tf(t,l,h)),!1}throw Error(s(435,a.tag))}return Tf(t,l,h),vf(),!1}if(Qe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==pd&&(t=Error(s(422),{cause:l}),Zo(On(t,a)))):(l!==pd&&(r=Error(s(423),{cause:l}),Zo(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Yd(t.stateNode,l,h),Rd(t,h),mt!==4&&(mt=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),vl===null?vl=[f]:vl.push(f),mt!==4&&(mt=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yd(a.stateNode,l,t),Rd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ki===null||!ki.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),Rd(a,h),!1}a=a.return}while(a!==null);return!1}var vy=Error(s(461)),Lt=!1;function Ht(t,r,a,l){r.child=t===null?uy(r,null,a,l):Va(r,t.child,a,l)}function Ey(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return zs(r),l=Dd(t,r,a,v,f,h),w=Od(),t!==null&&!Lt?(Pd(t,r,h),Wr(t,r,h)):(Qe&&w&&md(r),r.flags|=1,Ht(t,r,l,h),r.child)}function Ty(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!hd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,wy(t,r,f,l,h)):(t=Ku(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!nf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&t.ref===r.ref)return Wr(t,r,h)}return r.flags|=1,t=Fr(f,l),t.ref=r.ref,t.return=r,r.child=t}function wy(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(Yo(f,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=f,nf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,Wr(t,r,h)}return Xd(t,r,a,l,h)}function by(t,r,a){var l=r.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Ay(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(r,f!==null?f.cachePool:null),f!==null?wp(r,f):Id(),cy(r);else return r.lanes=r.childLanes=536870912,Ay(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(Zu(r,f.cachePool),wp(r,f),Ni(),r.memoizedState=null):(t!==null&&Zu(r,null),Id(),Ni());return Ht(t,r,h,a),r.child}function Ay(t,r,a,l){var h=wd();return h=h===null?null:{parent:Ot._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(r,null),Id(),cy(r),t!==null&&Jo(t,r,l,!0),null}function gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Xd(t,r,a,l,h){return zs(r),a=Dd(t,r,a,l,void 0,h),l=Od(),t!==null&&!Lt?(Pd(t,r,h),Wr(t,r,h)):(Qe&&l&&md(r),r.flags|=1,Ht(t,r,a,h),r.child)}function Sy(t,r,a,l,h,f){return zs(r),r.updateQueue=null,a=Ap(r,l,a,h),bp(t),l=Od(),t!==null&&!Lt?(Pd(t,r,f),Wr(t,r,f)):(Qe&&l&&md(r),r.flags|=1,Ht(t,r,a,f),r.child)}function Ry(t,r,a,l,h){if(zs(r),r.stateNode===null){var f=Sa,v=a.contextType;typeof v=="object"&&v!==null&&(f=$t(v)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kd,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Ad(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?$t(v):Sa,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Qd(r,a,v,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Kd.enqueueReplaceState(f,f.state,null),al(r,l,f,h),sl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var w=r.memoizedProps,C=Hs(a,w);f.props=C;var z=f.context,K=a.contextType;v=Sa,typeof K=="object"&&K!==null&&(v=$t(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||z!==v)&&dy(r,f,l,v),Si=!1;var q=r.memoizedState;f.state=q,al(r,l,f,h),sl(),z=r.memoizedState,w||q!==z||Si?(typeof W=="function"&&(Qd(r,a,W,l),z=r.memoizedState),(C=Si||hy(r,a,C,l,q,z,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),f.props=l,f.state=z,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Sd(t,r),v=r.memoizedProps,K=Hs(a,v),f.props=K,W=r.pendingProps,q=f.context,z=a.contextType,C=Sa,typeof z=="object"&&z!==null&&(C=$t(z)),w=a.getDerivedStateFromProps,(z=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||q!==C)&&dy(r,f,l,C),Si=!1,q=r.memoizedState,f.state=q,al(r,l,f,h),sl();var H=r.memoizedState;v!==W||q!==H||Si||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof w=="function"&&(Qd(r,a,w,l),H=r.memoizedState),(K=Si||hy(r,a,K,l,q,H,C)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),f.props=l,f.state=H,f.context=C,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,gc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Va(r,t.child,null,h),r.child=Va(r,null,a,h)):Ht(t,r,a,h),r.memoizedState=f.state,t=r.child):t=Wr(t,r,h),t}function xy(t,r,a,l){return Wo(),r.flags|=256,Ht(t,r,a,l),r.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(t){return{baseLanes:t,cachePool:mp()}}function Zd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Ln),t}function Iy(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Ci(r):Ni(),Qe){var w=ft,C;if(C=w){e:{for(C=w,w=fr;C.nodeType!==8;){if(!w){w=null;break e}if(C=Yn(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(r.memoizedState={dehydrated:w,treeContext:Vs!==null?{id:Gr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},C=vn(18,null,null,0),C.stateNode=w,C.return=r,r.child=C,un=r,ft=null,C=!0):C=!1}C||Us(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return kf(w)?r.lanes=32:r.lanes=536870912,null;$r(r)}return w=l.children,l=l.fallback,h?(Ni(),h=r.mode,w=pc({mode:"hidden",children:w},h),l=Ms(l,h,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,h=r.child,h.memoizedState=Wd(a),h.childLanes=Zd(t,v,a),r.memoizedState=$d,l):(Ci(r),Jd(r,w))}if(C=t.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(f)r.flags&256?(Ci(r),r.flags&=-257,r=ef(t,r,a)):r.memoizedState!==null?(Ni(),r.child=t.child,r.flags|=128,r=null):(Ni(),h=l.fallback,w=r.mode,l=pc({mode:"visible",children:l.children},w),h=Ms(h,w,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Va(r,t.child,null,a),l=r.child,l.memoizedState=Wd(a),l.childLanes=Zd(t,v,a),r.memoizedState=$d,r=h);else if(Ci(r),kf(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),r=ef(t,r,a)}else if(Lt||Jo(t,r,a,!1),v=(a&t.childLanes)!==0,Lt||v){if(v=st,v!==null&&(l=a&-a,l=(l&42)!==0?1:yi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Aa(t,l),An(v,t,l),vy;w.data==="$?"||vf(),r=ef(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ft=Yn(w.nextSibling),un=r,Qe=!0,Ls=null,fr=!1,t!==null&&(Mn[Vn++]=Gr,Mn[Vn++]=Qr,Mn[Vn++]=Vs,Gr=t.id,Qr=t.overflow,Vs=r),r=Jd(r,l.children),r.flags|=4096);return r}return h?(Ni(),h=l.fallback,w=r.mode,C=t.child,z=C.sibling,l=Fr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Fr(z,h):(h=Ms(h,w,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,w=t.child.memoizedState,w===null?w=Wd(a):(C=w.cachePool,C!==null?(z=Ot._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=mp(),w={baseLanes:w.baseLanes|a,cachePool:C}),h.memoizedState=w,h.childLanes=Zd(t,v,a),r.memoizedState=$d,l):(Ci(r),a=t.child,t=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Jd(t,r){return r=pc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function pc(t,r){return t=vn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ef(t,r,a){return Va(r,t.child,null,a),t=Jd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Cy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),_d(t.return,r,a)}function tf(t,r,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Ny(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Ht(t,r,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cy(t,a,r);else if(t.tag===19)Cy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ee(Pt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),tf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}tf(r,!0,a,null,f);break;case"together":tf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Jo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Fr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Fr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function nf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function vb(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Ai(r,Ot,t.memoizedState.cache),Wo();break;case 27:case 5:Jn(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Ai(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ci(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Iy(t,r,a):(Ci(r),t=Wr(t,r,a),t!==null?t.sibling:null);Ci(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Ny(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,by(t,r,a);case 24:Ai(r,Ot,t.memoizedState.cache)}return Wr(t,r,a)}function Dy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!nf(t,a)&&(r.flags&128)===0)return Lt=!1,vb(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,Qe&&(r.flags&1048576)!==0&&op(r,Xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")hd(l)?(t=Hs(l,t),r.tag=1,r=Ry(null,r,l,t,a)):(r.tag=0,r=Xd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===me){r.tag=11,r=Ey(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=Ty(null,r,l,t,a);break e}}throw r=Ue(l)||l,Error(s(306,r,""))}}return r;case 0:return Xd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Hs(l,r.pendingProps),Ry(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Sd(t,r),al(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Ai(r,Ot,l),l!==f.cache&&vd(r,[Ot],a,!0),sl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=xy(t,r,l,a);break e}else if(l!==h){h=On(Error(s(424)),r),Zo(h),r=xy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Yn(t.firstChild),un=r,Qe=!0,Ls=null,fr=!0,a=uy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=Wr(t,r,a);break e}Ht(t,r,l,a)}r=r.child}return r;case 26:return gc(t,r),t===null?(a=V_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=Nc(be.current).createElement(a),l[Ct]=r,l[Et]=t,Gt(l,a,t),gt(l),r.stateNode=l):r.memoizedState=V_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Jn(r),t===null&&Qe&&(l=r.stateNode=O_(r.type,r.pendingProps,be.current),un=r,fr=!0,h=ft,ji(r.type)?(Lf=h,ft=Yn(l.firstChild)):ft=h),Ht(t,r,r.pendingProps.children,a),gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=ft)&&(l=Kb(l,r.type,r.pendingProps,fr),l!==null?(r.stateNode=l,un=r,ft=Yn(l.firstChild),fr=!1,h=!0):h=!1),h||Us(r)),Jn(r),h=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Pf(h,f)?l=null:v!==null&&Pf(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Dd(t,r,hb,null,null,a),Il._currentValue=h),gc(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=ft)&&(a=Yb(a,r.pendingProps,fr),a!==null?(r.stateNode=a,un=r,ft=null,t=!0):t=!1),t||Us(r)),null;case 13:return Iy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Va(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return Ey(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ai(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,zs(r),h=$t(h),l=l(h),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return Ty(t,r,r.type,r.pendingProps,a);case 15:return wy(t,r,r.type,r.pendingProps,a);case 19:return Ny(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=pc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return by(t,r,a);case 24:return zs(r),l=$t(Ot),t===null?(h=wd(),h===null&&(h=st,f=Ed(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Ad(r),Ai(r,Ot,h)):((t.lanes&a)!==0&&(Sd(t,r),al(r,null,null,a),sl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ai(r,Ot,l)):(l=f.cache,Ai(r,Ot,l),l!==h.cache&&vd(r,[Ot],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zr(t){t.flags|=4}function Oy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z_(r)){if(r=kn.current,r!==null&&((Be&4194048)===Be?mr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==mr))throw rl=bd,gp;t.flags|=8192}}function yc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?No():536870912,t.lanes|=r,ja|=r)}function fl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Eb(t,r,a){var l=r.pendingProps;switch(gd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yr(Ot),Rn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($o(r)?Zr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,cp())),ct(r),null;case 26:return a=r.memoizedState,t===null?(Zr(r),a!==null?(ct(r),Oy(r,a)):(ct(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Zr(r),ct(r),Oy(r,a)):(ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&Zr(r),ct(r),r.flags&=-16777217),null;case 27:qn(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=pe.current,$o(r)?lp(r):(t=O_(h,l,a),r.stateNode=t,Zr(r))}return ct(r),null;case 5:if(qn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(t=pe.current,$o(r))lp(r);else{switch(h=Nc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ct]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,$o(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S_(t.nodeValue,a)),t||Us(r)}else t=Nc(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=$o(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),h=!1}else h=cp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?($r(r),r):($r(r),null)}if($r(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),yc(r,r.updateQueue),ct(r),null;case 4:return Rn(),t===null&&If(r.stateNode.containerInfo),ct(r),null;case 10:return Yr(r.type),ct(r),null;case 19:if(ae(Pt),h=r.memoizedState,h===null)return ct(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)fl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=dc(t),f!==null){for(r.flags|=128,fl(h,!1),t=f.updateQueue,r.updateQueue=t,yc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ap(a,t),a=a.sibling;return ee(Pt,Pt.current&1|2),r.child}t=t.sibling}h.tail!==null&&sn()>Ec&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304)}else{if(!l)if(t=dc(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,yc(r,t),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Qe)return ct(r),null}else 2*sn()-h.renderingStartTime>Ec&&a!==536870912&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=sn(),r.sibling=null,t=Pt.current,ee(Pt,l?t&1|2:t&1),r):(ct(r),null);case 22:case 23:return $r(r),Cd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&yc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ae(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yr(Ot),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Tb(t,r){switch(gd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Yr(Ot),Rn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return qn(r),null;case 13:if($r(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ae(Pt),null;case 4:return Rn(),null;case 10:return Yr(r.type),null;case 22:case 23:return $r(r),Cd(),t!==null&&ae(Bs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Yr(Ot),null;case 25:return null;default:return null}}function Py(t,r){switch(gd(r),r.tag){case 3:Yr(Ot),Rn();break;case 26:case 27:case 5:qn(r);break;case 4:Rn();break;case 13:$r(r);break;case 19:ae(Pt);break;case 10:Yr(r.type);break;case 22:case 23:$r(r),Cd(),t!==null&&ae(Bs);break;case 24:Yr(Ot)}}function ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(w){rt(r,r.return,w)}}function Di(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,h=r;var C=a,z=w;try{z()}catch(K){rt(h,C,K)}}}l=l.next}while(l!==f)}}catch(K){rt(r,r.return,K)}}function My(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Tp(r,a)}catch(l){rt(t,t.return,l)}}}function Vy(t,r,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,r,l)}}function gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){rt(t,r,h)}}function gr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){rt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,r,h)}else a.current=null}function ky(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function rf(t,r,a){try{var l=t.stateNode;qb(l,t.type,a,r),l[Et]=r}catch(h){rt(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ji(t.type)||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Cc));else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(af(t,r,a),t=t.sibling;t!==null;)af(t,r,a),t=t.sibling}function _c(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ji(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,r,a),t=t.sibling;t!==null;)_c(t,r,a),t=t.sibling}function Uy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gt(r,l,a),r[Ct]=t,r[Et]=a}catch(f){rt(t,t.return,f)}}var Jr=!1,yt=!1,of=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function wb(t,r){if(t=t.containerInfo,Df=kc,t=$g(t),id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,w=-1,C=-1,z=0,K=0,W=t,q=null;t:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(w=v+h),W!==f||l!==0&&W.nodeType!==3||(C=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(H=W.firstChild)!==null;)q=W,W=H;for(;;){if(W===t)break t;if(q===a&&++z===h&&(w=v),q===f&&++K===l&&(C=v),(H=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=H}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:t,selectionRange:a},kc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ae=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){rt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(t,a),l&4&&ml(5,a);break;case 1:if(Oi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){rt(a,a.return,v)}else{var h=Hs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){rt(a,a.return,v)}}l&64&&My(a),l&512&&gl(a,a.return);break;case 3:if(Oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Tp(t,r)}catch(v){rt(a,a.return,v)}}break;case 27:r===null&&l&4&&Uy(a);case 26:case 5:Oi(t,a),r===null&&l&4&&ky(a),l&512&&gl(a,a.return);break;case 12:Oi(t,a);break;case 13:Oi(t,a),l&4&&Hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Db.bind(null,a),Xb(t,a))));break;case 22:if(l=a.memoizedState!==null||Jr,!l){r=r!==null&&r.memoizedState!==null||yt,h=Jr;var f=yt;Jr=l,(yt=r)&&!f?Pi(t,a,(a.subtreeFlags&8772)!==0):Oi(t,a),Jr=h,yt=f}break;case 30:break;default:Oi(t,a)}}function By(t){var r=t.alternate;r!==null&&(t.alternate=null,By(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ei(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function ei(t,r,a){for(a=a.child;a!==null;)qy(t,r,a),a=a.sibling}function qy(t,r,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(dt,a)}catch{}switch(a.tag){case 26:yt||gr(a,r),ei(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||gr(a,r);var l=ut,h=hn;ji(a.type)&&(ut=a.stateNode,hn=!1),ei(t,r,a),Al(a.stateNode),ut=l,hn=h;break;case 5:yt||gr(a,r);case 6:if(l=ut,h=hn,ut=null,ei(t,r,a),ut=l,hn=h,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){rt(a,r,f)}else try{ut.removeChild(a.stateNode)}catch(f){rt(a,r,f)}break;case 18:ut!==null&&(hn?(t=ut,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ol(t)):N_(ut,a.stateNode));break;case 4:l=ut,h=hn,ut=a.stateNode.containerInfo,hn=!0,ei(t,r,a),ut=l,hn=h;break;case 0:case 11:case 14:case 15:yt||Di(2,a,r),yt||Di(4,a,r),ei(t,r,a);break;case 1:yt||(gr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,r,l)),ei(t,r,a);break;case 21:ei(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,ei(t,r,a),yt=l;break;default:ei(t,r,a)}}function Hy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(a){rt(r,r.return,a)}}function bb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new jy),r;default:throw Error(s(435,t.tag))}}function lf(t,r){var a=bb(t);r.forEach(function(l){var h=Ob.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(ji(w.type)){ut=w.stateNode,hn=!1;break e}break;case 5:ut=w.stateNode,hn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(ut===null)throw Error(s(160));qy(f,v,h),ut=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Fy(r,t),r=r.sibling}var Kn=null;function Fy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Tn(t),l&4&&(Di(3,t,t.return),ml(3,t),Di(5,t,t.return));break;case 1:En(r,t),Tn(t),l&512&&(yt||a===null||gr(a,a.return)),l&64&&Jr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(En(r,t),Tn(t),l&512&&(yt||a===null||gr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_s]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,a),f[Ct]=t,gt(f),l=f;break e;case"link":var v=U_("link","href",h).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;case"meta":if(v=U_("meta","content",h).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,gt(f),l=f}t.stateNode=l}else j_(h,t.type,t.stateNode);else t.stateNode=L_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?j_(h,t.type,t.stateNode):L_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rf(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Tn(t),l&512&&(yt||a===null||gr(a,a.return)),a!==null&&l&4&&rf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Tn(t),l&512&&(yt||a===null||gr(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(H){rt(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(of=!0);break;case 6:if(En(r,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){rt(t,t.return,H)}}break;case 3:if(Pc=null,h=Kn,Kn=Dc(r.containerInfo),En(r,t),Kn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(r.containerInfo)}catch(H){rt(t,t.return,H)}of&&(of=!1,Gy(t));break;case 4:l=Kn,Kn=Dc(t.stateNode.containerInfo),En(r,t),Tn(t),Kn=l;break;case 12:En(r,t),Tn(t);break;case 13:En(r,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mf=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Jr,K=yt;if(Jr=z||h,yt=K||C,En(r,t),yt=K,Jr=z,Tn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Jr||yt||Fs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=C.stateNode;var W=C.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){rt(C,C.return,H)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(H){rt(C,C.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lf(t,a))));break;case 19:En(r,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 30:break;case 21:break;default:En(r,t),Tn(t)}}function Tn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ly(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=sf(t);_c(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var w=sf(t);_c(t,w,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=sf(t);af(t,z,C);break;default:throw Error(s(161))}}catch(K){rt(t,t.return,K)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Gy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Oi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(t,r.alternate,r),r=r.sibling}function Fs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Di(4,r,r.return),Fs(r);break;case 1:gr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Vy(r,r.return,a),Fs(r);break;case 27:Al(r.stateNode);case 26:case 5:gr(r,r.return),Fs(r);break;case 22:r.memoizedState===null&&Fs(r);break;case 30:Fs(r);break;default:Fs(r)}t=t.sibling}}function Pi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(h,f,a),ml(4,f);break;case 1:if(Pi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ep(C[h],w)}catch(z){rt(l,l.return,z)}}a&&v&64&&My(f),gl(f,f.return);break;case 27:Uy(f);case 26:case 5:Pi(h,f,a),a&&l===null&&v&4&&ky(f),gl(f,f.return);break;case 12:Pi(h,f,a);break;case 13:Pi(h,f,a),a&&v&4&&Hy(h,f);break;case 22:f.memoizedState===null&&Pi(h,f,a),gl(f,f.return);break;case 30:break;default:Pi(h,f,a)}r=r.sibling}}function uf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function cf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function pr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Qy(t,r,a,l),r=r.sibling}function Qy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pr(t,r,a,l),h&2048&&ml(9,r);break;case 1:pr(t,r,a,l);break;case 3:pr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){pr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(r,r.return,C)}}else pr(t,r,a,l);break;case 13:pr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?pr(t,r,a,l):pl(t,r):f._visibility&2?pr(t,r,a,l):(f._visibility|=2,ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&uf(v,r);break;case 24:pr(t,r,a,l),h&2048&&cf(r.alternate,r);break;default:pr(t,r,a,l)}}function ka(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,v=r,w=a,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ka(f,v,w,C,h),ml(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ka(f,v,w,C,h):pl(f,v):(K._visibility|=2,ka(f,v,w,C,h)),h&&z&2048&&uf(v.alternate,v);break;case 24:ka(f,v,w,C,h),h&&z&2048&&cf(v.alternate,v);break;default:ka(f,v,w,C,h)}r=r.sibling}}function pl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&uf(l.alternate,l);break;case 24:pl(a,l),h&2048&&cf(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var yl=8192;function La(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 26:La(t),t.flags&yl&&t.memoizedState!==null&&lA(Kn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var r=Kn;Kn=Dc(t.stateNode.containerInfo),La(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,La(t),yl=r):La(t));break;default:La(t)}}function Yy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _l(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,$y(l,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Di(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,vc(t)):_l(t);break;default:_l(t)}}function vc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,$y(l,t)}Yy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Di(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}t=t.sibling}}function $y(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Di(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(By(l),l===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Ab={getCacheForType:function(t){var r=$t(Ot),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Sb=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,Oe=null,Be=0,We=0,wn=null,Mi=!1,Ua=!1,hf=!1,ti=0,mt=0,Vi=0,Gs=0,df=0,Ln=0,ja=0,vl=null,dn=null,ff=!1,mf=0,Ec=1/0,Tc=null,ki=null,Ft=0,Li=null,za=null,Ba=0,gf=0,pf=null,Wy=null,El=0,yf=null;function bn(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(Q.T!==null){var t=Ia;return t!==0?t:Af()}return _i()}function Zy(){Ln===0&&(Ln=(Be&536870912)===0||Qe?Co():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Ln}function An(t,r,a){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Ui(t,Be,Ln,!1)),Pr(t,a),(($e&2)===0||t!==st)&&(t===st&&(($e&2)===0&&(Gs|=a),mt===4&&Ui(t,Be,Ln,!1)),yr(t))}function Jy(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ys(t,r),h=l?Ib(t,r):Ef(t,r,!0),f=l;do{if(h===0){Ua&&!l&&Ui(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!Rb(a)){h=Ef(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;h=vl;var C=w.current.memoizedState.isDehydrated;if(C&&(qa(w,v).flags|=256),v=Ef(w,v,!1),v!==2){if(hf&&!C){w.errorRecoveryDisabledLanes|=f,Gs|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Ui(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ui(l,r,Ln,!Mi);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=mf+300-sn(),10<h)){if(Ui(l,r,Ln,!Mi),sa(l,0,!0)!==0)break e;l.timeoutHandle=I_(e_.bind(null,l,a,dn,Tc,ff,r,Ln,Gs,ja,Mi,f,2,-0,0),h);break e}e_(l,a,dn,Tc,ff,r,Ln,Gs,ja,Mi,f,0,-0,0)}}break}while(!0);yr(t)}function e_(t,r,a,l,h,f,v,w,C,z,K,W,q,H){if(t.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:oA},Ky(r),W=uA(),W!==null)){t.cancelPendingCommit=W(o_.bind(null,t,r,f,a,l,h,v,w,C,K,1,q,H)),Ui(t,f,v,!z);return}o_(t,r,f,a,l,h,v,w,C)}function Rb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ui(t,r,a,l){r&=~df,r&=~Gs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-Xt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&nr(t,a,r)}function wc(){return($e&6)===0?(Tl(0),!1):!0}function _f(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Kr=js=null,Md(t),Ma=null,hl=0,t=Oe;for(;t!==null;)Py(t.alternate,t),t=t.return;Oe=null}}function qa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Fb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_f(),st=t,Oe=a=Fr(t.current,null),Be=r,We=0,wn=null,Mi=!1,Ua=ys(t,r),hf=!1,ja=Ln=df=Gs=Vi=mt=0,dn=vl=null,ff=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Xt(l),f=1<<h;r|=t[h],l&=~f}return ti=r,Fu(),a}function t_(t,r){Ne=null,Q.H=uc,r===nl||r===Ju?(r=_p(),We=3):r===gp?(r=_p(),We=4):We=r===vy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Oe===null&&(mt=1,mc(t,On(r,t.current)))}function n_(){var t=Q.H;return Q.H=uc,t===null?uc:t}function r_(){var t=Q.A;return Q.A=Ab,t}function vf(){mt=4,Mi||(Be&4194048)!==Be&&kn.current!==null||(Ua=!0),(Vi&134217727)===0&&(Gs&134217727)===0||st===null||Ui(st,Be,Ln,!1)}function Ef(t,r,a){var l=$e;$e|=2;var h=n_(),f=r_();(st!==t||Be!==r)&&(Tc=null,qa(t,r)),r=!1;var v=mt;e:do try{if(We!==0&&Oe!==null){var w=Oe,C=wn;switch(We){case 8:_f(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var z=We;if(We=0,wn=null,Ha(t,w,C,z),a&&Ua){v=0;break e}break;default:z=We,We=0,wn=null,Ha(t,w,C,z)}}xb(),v=mt;break}catch(K){t_(t,K)}while(!0);return r&&t.shellSuspendCounter++,Kr=js=null,$e=l,Q.H=h,Q.A=f,Oe===null&&(st=null,Be=0,Fu()),v}function xb(){for(;Oe!==null;)i_(Oe)}function Ib(t,r){var a=$e;$e|=2;var l=n_(),h=r_();st!==t||Be!==r?(Tc=null,Ec=sn()+500,qa(t,r)):Ua=ys(t,r);e:do try{if(We!==0&&Oe!==null){r=Oe;var f=wn;t:switch(We){case 1:We=0,wn=null,Ha(t,r,f,1);break;case 2:case 9:if(pp(f)){We=0,wn=null,s_(r);break}r=function(){We!==2&&We!==9||st!==t||(We=7),yr(t)},f.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:pp(f)?(We=0,wn=null,s_(r)):(We=0,wn=null,Ha(t,r,f,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var w=Oe;if(!v||z_(v)){We=0,wn=null;var C=w.sibling;if(C!==null)Oe=C;else{var z=w.return;z!==null?(Oe=z,bc(z)):Oe=null}break t}}We=0,wn=null,Ha(t,r,f,5);break;case 6:We=0,wn=null,Ha(t,r,f,6);break;case 8:_f(),mt=6;break e;default:throw Error(s(462))}}Cb();break}catch(K){t_(t,K)}while(!0);return Kr=js=null,Q.H=l,Q.A=h,$e=a,Oe!==null?0:(st=null,Be=0,Fu(),mt)}function Cb(){for(;Oe!==null&&!ds();)i_(Oe)}function i_(t){var r=Dy(t.alternate,t,ti);t.memoizedProps=t.pendingProps,r===null?bc(t):Oe=r}function s_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Sy(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Sy(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Md(r);default:Py(a,r),r=Oe=ap(r,ti),r=Dy(a,r,ti)}t.memoizedProps=t.pendingProps,r===null?bc(t):Oe=r}function Ha(t,r,a,l){Kr=js=null,Md(r),Ma=null,hl=0;var h=r.return;try{if(_b(t,h,r,a,Be)){mt=1,mc(t,On(a,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;mt=1,mc(t,On(a,t.current)),Oe=null;return}r.flags&32768?(Qe||l===1?t=!0:Ua||(Be&536870912)!==0?t=!1:(Mi=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),a_(r,t)):bc(r)}function bc(t){var r=t;do{if((r.flags&32768)!==0){a_(r,Mi);return}t=r.return;var a=Eb(r.alternate,r,ti);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function a_(t,r){do{var a=Tb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function o_(t,r,a,l,h,f,v,w,C){t.cancelPendingCommit=null;do Ac();while(Ft!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=ud,Do(t,a,f,v,w,C),t===st&&(Oe=st=null,Be=0),za=r,Li=t,Ba=a,gf=f,pf=h,Wy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Pb(ge,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=se.p,se.p=2,v=$e,$e|=4;try{wb(t,r,a)}finally{$e=v,se.p=h,Q.T=l}}Ft=1,l_(),u_(),c_()}}function l_(){if(Ft===1){Ft=0;var t=Li,r=za,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{Fy(r,t);var f=Of,v=$g(t.containerInfo),w=f.focusedElem,C=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Xg(w.ownerDocument.documentElement,w)){if(C!==null&&id(w)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(K,w.value.length);else{var W=w.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var H=q.getSelection(),Ae=w.textContent.length,ve=Math.min(C.start,Ae),nt=C.end===void 0?ve:Math.min(C.end,Ae);!H.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var L=Yg(w,ve),M=Yg(w,nt);if(L&&M&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=W.createRange();j.setStart(L.node,L.offset),H.removeAllRanges(),ve>nt?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(W=[],H=w;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var X=W[w];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}kc=!!Df,Of=Df=null}finally{$e=h,se.p=l,Q.T=a}}t.current=r,Ft=2}}function u_(){if(Ft===2){Ft=0;var t=Li,r=za,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var h=$e;$e|=4;try{zy(t,r.alternate,r)}finally{$e=h,se.p=l,Q.T=a}}Ft=3}}function c_(){if(Ft===4||Ft===3){Ft=0,ia();var t=Li,r=za,a=Ba,l=Wy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,za=Li=null,h_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ki=null),aa(a),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(dt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{Q.T=r,se.p=h}}(Ba&3)!==0&&Ac(),yr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===yf?El++:(El=0,yf=t):El=0,Tl(0)}}function h_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function Ac(t){return l_(),u_(),c_(),d_()}function d_(){if(Ft!==5)return!1;var t=Li,r=gf;gf=0;var a=aa(Ba),l=Q.T,h=se.p;try{se.p=32>a?32:a,Q.T=null,a=pf,pf=null;var f=Li,v=Ba;if(Ft=0,za=Li=null,Ba=0,($e&6)!==0)throw Error(s(331));var w=$e;if($e|=4,Xy(f.current),Qy(f,f.current,v,a),$e=w,Tl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(dt,f)}catch{}return!0}finally{se.p=h,Q.T=l,h_(t,r)}}function f_(t,r,a){r=On(a,r),r=Yd(t.stateNode,r,2),t=xi(t,r,2),t!==null&&(Pr(t,2),yr(t))}function rt(t,r,a){if(t.tag===3)f_(t,t,a);else for(;r!==null;){if(r.tag===3){f_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){t=On(a,t),a=yy(2),l=xi(r,a,2),l!==null&&(_y(a,l,r,t),Pr(l,2),yr(l));break}}r=r.return}}function Tf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Sb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(hf=!0,h.add(a),t=Nb.bind(null,t,r,a),r.then(t,t))}function Nb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Be&a)===a&&(mt===4||mt===3&&(Be&62914560)===Be&&300>sn()-mf?($e&2)===0&&qa(t,0):df|=a,ja===Be&&(ja=0)),yr(t)}function m_(t,r){r===0&&(r=No()),t=Aa(t,r),t!==null&&(Pr(t,r),yr(t))}function Db(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),m_(t,a)}function Ob(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),m_(t,a)}function Pb(t,r){return Dr(t,r)}var Sc=null,Fa=null,wf=!1,Rc=!1,bf=!1,Qs=0;function yr(t){t!==Fa&&t.next===null&&(Fa===null?Sc=Fa=t:Fa=Fa.next=t),Rc=!0,wf||(wf=!0,Vb())}function Tl(t,r){if(!bf&&Rc){bf=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Xt(42|t)+1)-1,f&=h&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,__(l,f))}else f=Be,f=sa(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ys(l,f)||(a=!0,__(l,f));l=l.next}while(a);bf=!1}}function Mb(){g_()}function g_(){Rc=wf=!1;var t=0;Qs!==0&&(Hb()&&(t=Qs),Qs=0);for(var r=sn(),a=null,l=Sc;l!==null;){var h=l.next,f=p_(l,r);f===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(f&3)!==0)&&(Rc=!0)),l=h}Tl(t)}function p_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xt(f),w=1<<v,C=h[v];C===-1?((w&a)===0||(w&l)!==0)&&(h[v]=Io(w,r)):C<=r&&(t.expiredLanes|=w),f&=~w}if(r=st,a=Be,a=sa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&er(l),aa(a)){case 2:case 8:a=pi;break;case 32:a=ge;break;case 268435456:a=tr;break;default:a=ge}return l=y_.bind(null,t),a=Dr(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&er(l),t.callbackPriority=2,t.callbackNode=null,2}function y_(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Be;return l=sa(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jy(t,l,r),p_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?y_.bind(null,t):null)}function __(t,r){if(Ac())return null;Jy(t,r,!0)}function Vb(){Gb(function(){($e&6)!==0?Dr(fs,Mb):g_()})}function Af(){return Qs===0&&(Qs=Co()),Qs}function v_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function E_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=v_((h[Et]||null).action),v=l.submitter;v&&(r=(r=v[Et]||null)?v_(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var w=new fa("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var C=v?E_(h,v):new FormData(h);Hd(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(w.preventDefault(),C=v?E_(h,v):new FormData(h),Hd(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Sf=0;Sf<ld.length;Sf++){var Rf=ld[Sf],Lb=Rf.toLowerCase(),Ub=Rf[0].toUpperCase()+Rf.slice(1);Qn(Lb,"on"+Ub)}Qn(Jg,"onAnimationEnd"),Qn(ep,"onAnimationIteration"),Qn(tp,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(tb,"onTransitionRun"),Qn(nb,"onTransitionStart"),Qn(rb,"onTransitionCancel"),Qn(np,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function T_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],C=w.instance,z=w.currentTarget;if(w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=z;try{f(h)}catch(K){fc(K)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(w=l[v],C=w.instance,z=w.currentTarget,w=w.listener,C!==f&&h.isPropagationStopped())break e;f=w,h.currentTarget=z;try{f(h)}catch(K){fc(K)}h.currentTarget=null,f=C}}}}function Pe(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(w_(r,t,2,!1),a.add(l))}function xf(t,r,a){var l=0;r&&(l|=4),w_(a,t,l,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function If(t){if(!t[xc]){t[xc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||xf(a,!1,t),xf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xc]||(r[xc]=!0,xf("selectionchange",!1,r))}}function w_(t,r,a,l){switch(Q_(r)){case 2:var h=dA;break;case 8:h=fA;break;default:h=qf}a=h.bind(null,r,a,t),h=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Cf(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;w!==null;){if(v=Mr(w),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}w=w.parentNode}}l=l.return}Cu(function(){var z=f,K=Cn(a),W=[];e:{var q=rp.get(t);if(q!==void 0){var H=fa,Ae=t;switch(t){case"keypress":if(lr(a)===0)break e;case"keydown":case"keyup":H=va;break;case"focusin":Ae="focus",H=pa;break;case"focusout":Ae="blur",H=pa;break;case"beforeblur":case"afterblur":H=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Lu;break;case Jg:case ep:case tp:H=ya;break;case np:H=ju;break;case"scroll":case"scrollend":H=Nu;break;case"wheel":H=Ea;break;case"copy":case"cut":case"paste":H=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qo;break;case"toggle":case"beforetoggle":H=Bu}var ve=(r&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),L=ve?q!==null?q+"Capture":null:q;ve=[];for(var M=z,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||L===null||(X=Ss(M,L),X!=null&&ve.push(bl(M,X,j))),nt)break;M=M.return}0<ve.length&&(q=new H(q,Ae,null,a,K),W.push({event:q,listeners:ve}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ur&&(Ae=a.relatedTarget||a.fromElement)&&(Mr(Ae)||Ae[xn]))break e;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Ae=a.relatedTarget||a.toElement,H=z,Ae=Ae?Mr(Ae):null,Ae!==null&&(nt=u(Ae),ve=Ae.tag,Ae!==nt||ve!==5&&ve!==27&&ve!==6)&&(Ae=null)):(H=null,Ae=z),H!==Ae)){if(ve=Dn,X="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Qo,X="onPointerLeave",L="onPointerEnter",M="pointer"),nt=H==null?q:ir(H),j=Ae==null?q:ir(Ae),q=new ve(X,M+"leave",H,a,K),q.target=nt,q.relatedTarget=j,X=null,Mr(K)===z&&(ve=new ve(L,M+"enter",Ae,a,K),ve.target=j,ve.relatedTarget=nt,X=ve),nt=X,H&&Ae)t:{for(ve=H,L=Ae,M=0,j=ve;j;j=Ga(j))M++;for(j=0,X=L;X;X=Ga(X))j++;for(;0<M-j;)ve=Ga(ve),M--;for(;0<j-M;)L=Ga(L),j--;for(;M--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=Ga(ve),L=Ga(L)}ve=null}else ve=null;H!==null&&b_(W,q,H,ve,!1),Ae!==null&&nt!==null&&b_(W,nt,Ae,ve,!0)}}e:{if(q=z?ir(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ce=qg;else if(Dt(q))if(Hg)ce=Zw;else{ce=$w;var De=Xw}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&jo(z.elementType)&&(ce=qg):ce=Ww;if(ce&&(ce=ce(t,z))){Hr(W,ce,a,K);break e}De&&De(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&wi(q,"number",q.value)}switch(De=z?ir(z):window,t){case"focusin":(Dt(De)||De.contentEditable==="true")&&(Ta=De,sd=z,Xo=null);break;case"focusout":Xo=sd=Ta=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Wg(W,a,K);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":Wg(W,a,K)}var fe;if(hr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?F(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(fe=Bo()):(or=K,bi="value"in or?or.value:or.textContent,je=!0)),De=Ic(z,Ee),0<De.length&&(Ee=new Fo(Ee,t,null,a,K),W.push({event:Ee,listeners:De}),fe?Ee.data=fe:(fe=te(a),fe!==null&&(Ee.data=fe)))),(fe=g?Nt(t,a):ze(t,a))&&(Ee=Ic(z,"onBeforeInput"),0<Ee.length&&(De=new Fo("onBeforeInput","beforeinput",null,a,K),W.push({event:De,listeners:Ee}),De.data=fe)),kb(W,t,z,a,K)}T_(W,r)})}function bl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ic(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ss(t,a),h!=null&&l.unshift(bl(t,h,f)),h=Ss(t,r),h!=null&&l.push(bl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function b_(t,r,a,l,h){for(var f=r._reactName,v=[];a!==null&&a!==l;){var w=a,C=w.alternate,z=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||z===null||(C=z,h?(z=Ss(a,f),z!=null&&v.unshift(bl(a,z,C))):h||(z=Ss(a,f),z!=null&&v.push(bl(a,z,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace(Bb,"")}function S_(t,r){return r=A_(r),A_(t)===r}function Cc(){}function tt(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,a,l);break;case"style":Uo(t,l,f);break;case"data":if(r!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&tt(t,r,"name",h.name,h,null),tt(t,r,"formEncType",h.formEncType,h,null),tt(t,r,"formMethod",h.formMethod,h,null),tt(t,r,"formTarget",h.formTarget,h,null)):(tt(t,r,"encType",h.encType,h,null),tt(t,r,"method",h.method,h,null),tt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ti(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ti(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zh.get(a)||a,Ti(t,a,l))}}function Nf(t,r,a,l,h,f){switch(a){case"style":Uo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Et]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ti(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,f,v,a,null)}}h&&tt(t,r,"srcSet",a.srcSet,a,null),l&&tt(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var w=f=v=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:tt(t,r,l,K,a,null)}}ws(t,f,w,C,z,v,h,!1),ha(t);return;case"select":Pe("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:tt(t,r,h,w,a,null)}r=f,a=v,t.multiple=!!l,r!=null?Lr(t,!!l,r,!1):a!=null&&Lr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":h=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:tt(t,r,v,w,a,null)}bs(t,l,h,f),ha(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,r,C,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Pe(wl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(t,r,z,l,a,null)}return;default:if(jo(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Nf(t,r,K,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&tt(t,r,w,l,a,null))}function qb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,w=null,C=null,z=null,K=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(H)||tt(t,r,H,null,l,W)}}for(var q in l){var H=l[q];if(W=a[q],l.hasOwnProperty(q)&&(H!=null||W!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==W&&tt(t,r,q,H,l,W)}}yn(t,v,w,C,z,K,f,h);return;case"select":H=v=w=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||tt(t,r,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==C&&tt(t,r,h,f,l,C)}r=w,a=v,l=H,q!=null?Lr(t,!!a,q,!1):!!l!=!!a&&(r!=null?Lr(t,!!a,r,!0):Lr(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(t,r,w,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&tt(t,r,v,h,l,f)}Je(t,q,H);return;case"option":for(var Ae in a)if(q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:tt(t,r,Ae,null,l,q)}for(C in l)if(q=l[C],H=a[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(t,r,C,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(t,r,ve,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:tt(t,r,z,q,l,H)}return;default:if(jo(r)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&Nf(t,r,nt,void 0,l,q);for(K in l)q=l[K],H=a[K],!l.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||Nf(t,r,K,q,l,H);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&tt(t,r,L,null,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q==null&&H==null||tt(t,r,W,q,l,H)}var Df=null,Of=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Pf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mf=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===Mf?!1:(Mf=t,!0):(Mf=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(Qb)}:I_;function Qb(t){setTimeout(function(){throw t})}function ji(t){return t==="head"}function N_(t,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Al(v.documentElement),a&2&&Al(v.body),a&4)for(a=v.head,Al(a),v=a.firstChild;v;){var w=v.nextSibling,C=v.nodeName;v[_s]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=w}}if(h===0){t.removeChild(f),Ol(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ol(r)}function Vf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vf(a),Ei(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Kb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function Yb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xb(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Lf=null;function D_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function O_(t,r,a){switch(r=Nc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ei(t)}var Un=new Map,P_=new Set;function Dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ni=se.d;se.d={f:$b,r:Wb,D:Zb,C:Jb,L:eA,m:tA,X:rA,S:nA,M:iA};function $b(){var t=ni.f(),r=wc();return t||r}function Wb(t){var r=rr(t);r!==null&&r.tag===5&&r.type==="form"?Jp(r):ni.r(t)}var Qa=typeof document>"u"?null:document;function M_(t,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function Zb(t){ni.D(t),M_("dns-prefetch",t,null)}function Jb(t,r){ni.C(t,r),M_("preconnect",t,r)}function eA(t,r,a){ni.L(t,r,a);var l=Qa;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var f=h;switch(r){case"style":f=Ka(t);break;case"script":f=Ya(t)}Un.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Un.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(f))||r==="script"&&l.querySelector(Rl(f))||(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function tA(t,r){ni.m(t,r);var a=Qa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Un.has(f)&&(t=T({rel:"modulepreload",href:t},r),Un.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}l=a.createElement("link"),Gt(l,"link",t),gt(l),a.head.appendChild(l)}}}function nA(t,r,a){ni.S(t,r,a);var l=Qa;if(l&&t){var h=an(l).hoistableStyles,f=Ka(t);r=r||"default";var v=h.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(Sl(f)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Un.get(f))&&Uf(t,a);var C=v=l.createElement("link");gt(C),Gt(C,"link",t),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Oc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},h.set(f,v)}}}function rA(t,r){ni.X(t,r);var a=Qa;if(a&&t){var l=an(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(Rl(h)),f||(t=T({src:t,async:!0},r),(r=Un.get(h))&&jf(t,r),f=a.createElement("script"),gt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function iA(t,r){ni.M(t,r);var a=Qa;if(a&&t){var l=an(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(Rl(h)),f||(t=T({src:t,async:!0,type:"module"},r),(r=Un.get(h))&&jf(t,r),f=a.createElement("script"),gt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function V_(t,r,a,l){var h=(h=be.current)?Dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ka(a.href),a=an(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var f=an(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Sl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),f||sA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=an(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+Tt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function sA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),gt(r),t.head.appendChild(r))}function Ya(t){return'[src="'+Tt(t)+'"]'}function Rl(t){return"script[async]"+t}function L_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Gt(l,"style",h),Oc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ka(a.href);var f=t.querySelector(Sl(h));if(f)return r.state.loading|=4,r.instance=f,gt(f),f;l=k_(a),(h=Un.get(h))&&Uf(l,h),f=(t.ownerDocument||t).createElement("link"),gt(f);var v=f;return v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),Gt(f,"link",l),r.state.loading|=4,Oc(f,a.precedence,t),r.instance=f;case"script":return f=Ya(a.src),(h=t.querySelector(Rl(f)))?(r.instance=h,gt(h),h):(l=a,(h=Un.get(f))&&(l=T({},a),jf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),gt(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Oc(l,a.precedence,t));return r.instance}function Oc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)f=w;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Uf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function jf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Pc=null;function U_(t,r,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_s]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=t+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function j_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function aA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function oA(){}function lA(t,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(a.href),f=t.querySelector(Sl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,gt(f);return}f=t.ownerDocument||t,a=k_(a),(h=Un.get(h))&&Uf(a,h),f=f.createElement("link"),gt(f);var v=f;v._p=new Promise(function(w,C){v.onload=w,v.onerror=C}),Gt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function uA(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&zf(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function zf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(cA,t),Vc=null,Mc.call(t))}function cA(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Il={$$typeof:ie,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function hA(t,r,a,l,h,f,v,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function B_(t,r,a,l,h,f,v,w,C,z,K,W){return t=new hA(t,r,a,v,w,C,z,W),r=1,f===!0&&(r|=24),f=vn(3,null,null,r),t.current=f,f.stateNode=t,r=Ed(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Ad(f),t}function q_(t){return t?(t=Sa,t):Sa}function H_(t,r,a,l,h,f){h=q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ri(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=xi(t,l,r),a!==null&&(An(a,t,r),il(a,t,r))}function F_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Bf(t,r){F_(t,r),(t=t.alternate)&&F_(t,r)}function G_(t){if(t.tag===13){var r=Aa(t,67108864);r!==null&&An(r,t,67108864),Bf(t,67108864)}}var kc=!0;function dA(t,r,a,l){var h=Q.T;Q.T=null;var f=se.p;try{se.p=2,qf(t,r,a,l)}finally{se.p=f,Q.T=h}}function fA(t,r,a,l){var h=Q.T;Q.T=null;var f=se.p;try{se.p=8,qf(t,r,a,l)}finally{se.p=f,Q.T=h}}function qf(t,r,a,l){if(kc){var h=Hf(l);if(h===null)Cf(t,r,l,Lc,a),K_(t,l);else if(gA(h,t,r,a,l))l.stopPropagation();else if(K_(t,l),r&4&&-1<mA.indexOf(t)){for(;h!==null;){var f=rr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Hn(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var C=1<<31-Xt(v);w.entanglements[1]|=C,v&=~C}yr(f),($e&6)===0&&(Ec=sn()+500,Tl(0))}}break;case 13:w=Aa(f,2),w!==null&&An(w,f,2),wc(),Bf(f,2)}if(f=Hf(l),f===null&&Cf(t,r,l,Lc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Cf(t,r,l,null,a)}}function Hf(t){return t=Cn(t),Ff(t)}var Lc=null;function Ff(t){if(Lc=null,t=Mr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Lc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ro()){case fs:return 2;case pi:return 8;case ge:case Se:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Gf=!1,zi=null,Bi=null,qi=null,Cl=new Map,Nl=new Map,Hi=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,r){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(r.pointerId)}}function Dl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=rr(r),r!==null&&G_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function gA(t,r,a,l,h){switch(r){case"focusin":return zi=Dl(zi,t,r,a,l,h),!0;case"dragenter":return Bi=Dl(Bi,t,r,a,l,h),!0;case"mouseover":return qi=Dl(qi,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Dl(Cl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Dl(Nl.get(f)||null,t,r,a,l,h)),!0}return!1}function Y_(t){var r=Mr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,wu(t.priority,function(){if(a.tag===13){var l=bn();l=yi(l);var h=Aa(a,l);h!==null&&An(h,a,l),Bf(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Hf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ur=l,a.target.dispatchEvent(l),Ur=null}else return r=rr(a),r!==null&&G_(r),t.blockedOn=a,!1;r.shift()}return!0}function X_(t,r,a){Uc(t)&&a.delete(r)}function pA(){Gf=!1,zi!==null&&Uc(zi)&&(zi=null),Bi!==null&&Uc(Bi)&&(Bi=null),qi!==null&&Uc(qi)&&(qi=null),Cl.forEach(X_),Nl.forEach(X_)}function jc(t,r){t.blockedOn===r&&(t.blockedOn=null,Gf||(Gf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pA)))}var zc=null;function $_(t){zc!==t&&(zc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Ff(l||a)===null)continue;break}var f=rr(a);f!==null&&(t.splice(r,3),r-=3,Hd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(t){function r(C){return jc(C,t)}zi!==null&&jc(zi,t),Bi!==null&&jc(Bi,t),qi!==null&&jc(qi,t),Cl.forEach(r),Nl.forEach(r);for(var a=0;a<Hi.length;a++){var l=Hi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Hi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[Et]||null;if(typeof f=="function")v||$_(a);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Et]||null)w=v.formAction;else if(Ff(h)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),$_(a)}}}function Qf(t){this._internalRoot=t}Bc.prototype.render=Qf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();H_(a,l,t,r,null,null)},Bc.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;H_(t.current,2,null,t,null,null),wc(),r[xn]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var r=_i();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Hi.length&&r!==0&&r<Hi[a].priority;a++);Hi.splice(a,0,t),a===0&&Y_(t)}};var W_=e.version;if(W_!=="19.1.1")throw Error(s(527,W_,"19.1.1"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var yA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{dt=qc.inject(yA),Xe=qc}catch{}}return Ml.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=fy,f=my,v=gy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=B_(t,1,!1,null,null,a,l,h,f,v,w,null),t[xn]=r.current,If(t),new Qf(r)},Ml.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=fy,v=my,w=gy,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=B_(t,1,!0,r,a??null,l,h,f,v,w,C,z),r.context=q_(null),a=r.current,l=bn(),l=yi(l),h=Ri(l),h.callback=null,xi(a,h,l),a=l,r.current.lanes=a,Pr(r,a),yr(r),t[xn]=r.current,If(t),new Bc(r)},Ml.version="19.1.1",Ml}var ov;function IA(){if(ov)return Xf.exports;ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=xA(),Xf.exports}var CA=IA();const NA=K0(CA);var it=(i=>(i[i.Setup=0]="Setup",i[i.Login=1]="Login",i[i.Shop=2]="Shop",i[i.PackSelection=3]="PackSelection",i[i.RoundConfiguration=4]="RoundConfiguration",i[i.Game=5]="Game",i[i.RoundEnd=6]="RoundEnd",i[i.GameEnd=7]="GameEnd",i))(it||{});const zn=({children:i,className:e})=>E.jsx("div",{className:`bg-gray-800 border border-purple-500/30 rounded-2xl shadow-lg shadow-purple-900/20 p-6 sm:p-8 ${e}`,children:i}),DA=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),OA=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Y0=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),X0=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),eo=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),PA=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),$0=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),MA=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),VA=({className:i})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i||"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),kA=({players:i,setPlayers:e})=>{const[n,s]=le.useState(""),o=d=>{d.preventDefault(),n.trim()&&!i.includes(n.trim())&&(e([...i,n.trim()]),s(""))},u=d=>{e(i.filter((m,p)=>p!==d))};return E.jsxs(zn,{children:[E.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-pink-400",children:"Añadir Jugadores"}),E.jsxs("form",{onSubmit:o,className:"flex flex-col gap-2 mb-4",children:[E.jsx("input",{type:"text",value:n,onChange:d=>s(d.target.value),placeholder:"Nombre del jugador",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-base focus:outline-none focus:ring-2 focus:ring-purple-500"}),E.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-md transition text-base",children:"Añadir"})]}),E.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:i.map((d,m)=>E.jsxs("li",{className:"flex justify-between items-center bg-gray-700/50 p-2 rounded-md animate-fade-in",children:[E.jsx("span",{className:"font-medium",children:d}),E.jsx("button",{onClick:()=>u(m),className:"text-gray-400 hover:text-red-500 transition",children:E.jsx(DA,{className:"w-5 h-5"})})]},m))})]})},Ge=({children:i,variant:e="primary",className:n,...s})=>{const o="px-6 py-3 font-bold rounded-lg text-white transition-all duration-300 ease-in-out focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-purple-600 hover:bg-purple-700 focus:ring-purple-500/50 shadow-lg shadow-purple-600/30",secondary:"bg-pink-500 hover:bg-pink-600 focus:ring-pink-500/50 shadow-lg shadow-pink-500/30",danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500/50"};return E.jsx("button",{className:`${o} ${u[e]} ${n}`,...s,children:i})},LA=({availablePacks:i,purchasedPacks:e,adWatchedPacks:n,onContinue:s,onBack:o,onGoToShop:u,onPlayDemo:d})=>{const y=i.some(T=>T.id==="base")?i:[{id:"base",name:"Pack Base",description:"Preguntas y retos básicos incluidos",price:"INCLUIDO",icon:"🎮",questionsUrl:"",daresUrl:"",allowDemo:!1,demoPlaysCount:0},...i];return e.length>0,E.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 animate-fade-in",children:E.jsxs(zn,{className:"w-full max-w-2xl text-center",children:[E.jsx("h1",{className:"text-4xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:"Packs Disponibles"}),E.jsx("p",{className:"text-gray-400 mb-8",children:"Estos son los packs que tienes disponibles para jugar"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:y.map(T=>{const R=T.id==="base"||e.includes(T.id),A=T.id==="base",k=n.includes(T.id);return E.jsxs("div",{className:`relative p-4 rounded-lg border transition-all duration-200 ${R?"border-green-500 bg-green-500/10":k?"border-yellow-500 bg-yellow-500/10":"border-gray-600 bg-gray-800/50 opacity-60"}`,children:[E.jsx("div",{className:"absolute top-2 right-2",children:R?E.jsx(OA,{className:"w-6 h-6 text-green-500"}):E.jsx(eo,{className:"w-6 h-6 text-yellow-500"})}),E.jsx("div",{className:"text-4xl mb-2",children:T.icon}),E.jsx("h3",{className:`text-xl font-bold mb-2 ${R||k?"text-white":"text-gray-400"}`,children:T.name}),E.jsx("p",{className:`text-sm mb-3 ${R||k?"text-gray-300":"text-gray-500"}`,children:T.description}),E.jsx("div",{className:`text-lg font-semibold ${R?"text-green-400":"text-yellow-400"}`,children:A?"INCLUIDO":R?"DESBLOQUEADO":k?"DEMO VISTO":"PREMIUM"}),!R&&!k&&E.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx(eo,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),E.jsx("p",{className:"text-yellow-400 font-semibold text-sm mb-3",children:"PREMIUM"}),T.allowDemo&&E.jsx(Ge,{onClick:B=>{B.stopPropagation(),d(T.id)},variant:"secondary",className:"px-3 py-1 text-xs bg-yellow-500 hover:bg-yellow-600 text-white border border-yellow-400 shadow-md",children:"💎 Jugar Demo"})]})})]},T.id)})}),i.some(T=>!e.includes(T.id))&&E.jsx("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:E.jsxs("p",{className:"text-yellow-400 text-sm",children:[E.jsx(eo,{className:"w-4 h-4 inline mr-2"}),"Los packs premium están bloqueados. Visita la tienda para desbloquearlos."]})}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[E.jsx(Ge,{onClick:o,variant:"secondary",className:"px-6",children:"Volver"}),E.jsx(Ge,{onClick:u,variant:"secondary",className:"px-6 bg-yellow-600 hover:bg-yellow-700 text-white",children:"Ir a la Tienda"}),E.jsx(Ge,{onClick:s,className:"px-6",disabled:!1,children:"Continuar al Juego"})]})]})})},UA="modulepreload",jA=function(i,e){return new URL(i,e).href},lv={},W0=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let d=function(T){return Promise.all(T.map(R=>Promise.resolve(R).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};const m=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=d(n.map(T=>{if(T=jA(T,s),T in lv)return;lv[T]=!0;const R=T.endsWith(".css"),A=R?'[rel="stylesheet"]':"";if(!!s)for(let Y=m.length-1;Y>=0;Y--){const G=m[Y];if(G.href===T&&(!R||G.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${T}"]${A}`))return;const B=document.createElement("link");if(B.rel=R?"stylesheet":UA,R||(B.as="script"),B.crossOrigin="",B.href=T,y&&B.setAttribute("nonce",y),document.head.appendChild(B),R)return new Promise((Y,G)=>{B.addEventListener("load",Y),B.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ao;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(ao||(ao={}));class Jf extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const zA=i=>{var e,n;return i!=null&&i.androidBridge?"android":!((n=(e=i==null?void 0:i.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},BA=i=>{const e=i.CapacitorCustomPlatform||null,n=i.Capacitor||{},s=n.Plugins=n.Plugins||{},o=()=>e!==null?e.name:zA(i),u=()=>o()!=="web",d=R=>{const A=y.get(R);return!!(A!=null&&A.platforms.has(o())||m(R))},m=R=>{var A;return(A=n.PluginHeaders)===null||A===void 0?void 0:A.find(k=>k.name===R)},p=R=>i.console.error(R),y=new Map,T=(R,A={})=>{const k=y.get(R);if(k)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),k.proxy;const B=o(),Y=m(R);let G;const ne=async()=>(!G&&B in A?G=typeof A[B]=="function"?G=await A[B]():G=A[B]:e!==null&&!G&&"web"in A&&(G=typeof A.web=="function"?G=await A.web():G=A.web),G),re=(S,x)=>{var D,P;if(Y){const V=Y==null?void 0:Y.methods.find(I=>x===I.name);if(V)return V.rtype==="promise"?I=>n.nativePromise(R,x.toString(),I):(I,Ue)=>n.nativeCallback(R,x.toString(),I,Ue);if(S)return(D=S[x])===null||D===void 0?void 0:D.bind(S)}else{if(S)return(P=S[x])===null||P===void 0?void 0:P.bind(S);throw new Jf(`"${R}" plugin is not implemented on ${B}`,ao.Unimplemented)}},ie=S=>{let x;const D=(...P)=>{const V=ne().then(I=>{const Ue=re(I,S);if(Ue){const Le=Ue(...P);return x=Le==null?void 0:Le.remove,Le}else throw new Jf(`"${R}.${S}()" is not implemented on ${B}`,ao.Unimplemented)});return S==="addListener"&&(V.remove=async()=>x()),V};return D.toString=()=>`${S.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:S,writable:!1,configurable:!1}),D},me=ie("addListener"),he=ie("removeListener"),_e=(S,x)=>{const D=me({eventName:S},x),P=async()=>{const I=await D;he({eventName:S,callbackId:I},x)},V=new Promise(I=>D.then(()=>I({remove:P})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},V},N=new Proxy({},{get(S,x){switch(x){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Y?_e:me;case"removeListener":return he;default:return ie(x)}}});return s[R]=N,y.set(R,{name:R,proxy:N,platforms:new Set([...Object.keys(A),...Y?[B]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=R=>R),n.getPlatform=o,n.handleError=p,n.isNativePlatform=u,n.isPluginAvailable=d,n.registerPlugin=T,n.Exception=Jf,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},qA=i=>i.Capacitor=BA(i),en=qA(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hm=en.registerPlugin;class Z0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const u=this.windowListeners[e];u&&!u.registered&&this.addWindowListener(u),s&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,n);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const o=this.listeners[e];if(!o){if(s){let u=this.retainedEventArguments[e];u||(u=[]),u.push(n),this.retainedEventArguments[e]=u}return}o.forEach(u=>u(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new en.Exception(e,ao.Unimplemented)}unavailable(e="not available"){return new en.Exception(e,ao.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const o=s.indexOf(n);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const uv=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),cv=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class HA extends Z0{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[o,u]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=cv(o).trim(),u=cv(u).trim(),n[o]=u}),n}async setCookie(e){try{const n=uv(e.key),s=uv(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,u=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${o}; path=${u}; ${d};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Hm("CapacitorCookies",{web:()=>new HA});const FA=async i=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const o=s.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>n(o),s.readAsDataURL(i)}),GA=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(o=>o.toLocaleLowerCase()).reduce((o,u,d)=>(o[u]=i[e[d]],o),{})},QA=(i,e=!0)=>i?Object.entries(i).reduce((s,o)=>{const[u,d]=o;let m,p;return Array.isArray(d)?(p="",d.forEach(y=>{m=e?encodeURIComponent(y):y,p+=`${u}=${m}&`}),p.slice(0,-1)):(m=e?encodeURIComponent(d):d,p=`${u}=${m}`),`${s}&${p}`},"").substr(1):null,KA=(i,e={})=>{const n=Object.assign({method:i.method||"GET",headers:i.headers},e),o=GA(i.headers)["content-type"]||"";if(typeof i.data=="string")n.body=i.data;else if(o.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[d,m]of Object.entries(i.data||{}))u.set(d,m);n.body=u.toString()}else if(o.includes("multipart/form-data")||i.data instanceof FormData){const u=new FormData;if(i.data instanceof FormData)i.data.forEach((m,p)=>{u.append(p,m)});else for(const m of Object.keys(i.data))u.append(m,i.data[m]);n.body=u;const d=new Headers(n.headers);d.delete("content-type"),n.headers=d}else(o.includes("application/json")||typeof i.data=="object")&&(n.body=JSON.stringify(i.data));return n};class YA extends Z0{async request(e){const n=KA(e,e.webFetchExtra),s=QA(e.params,e.shouldEncodeUrlParams),o=s?`${e.url}?${s}`:e.url,u=await fetch(o,n),d=u.headers.get("content-type")||"";let{responseType:m="text"}=u.ok?e:{};d.includes("application/json")&&(m="json");let p,y;switch(m){case"arraybuffer":case"blob":y=await u.blob(),p=await FA(y);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const T={};return u.headers.forEach((R,A)=>{T[A]=R}),{data:p,headers:T,status:u.status,url:u.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Hm("CapacitorHttp",{web:()=>new YA});var hv;(function(i){i.General="General",i.ParentalGuidance="ParentalGuidance",i.Teen="Teen",i.MatureAudience="MatureAudience"})(hv||(hv={}));var dv;(function(i){i.SizeChanged="bannerAdSizeChanged",i.Loaded="bannerAdLoaded",i.FailedToLoad="bannerAdFailedToLoad",i.Opened="bannerAdOpened",i.Closed="bannerAdClosed",i.AdImpression="bannerAdImpression"})(dv||(dv={}));var fm;(function(i){i.TOP_CENTER="TOP_CENTER",i.CENTER="CENTER",i.BOTTOM_CENTER="BOTTOM_CENTER"})(fm||(fm={}));var mm;(function(i){i.BANNER="BANNER",i.FULL_BANNER="FULL_BANNER",i.LARGE_BANNER="LARGE_BANNER",i.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",i.LEADERBOARD="LEADERBOARD",i.ADAPTIVE_BANNER="ADAPTIVE_BANNER",i.SMART_BANNER="SMART_BANNER"})(mm||(mm={}));var Hl;(function(i){i.Loaded="interstitialAdLoaded",i.FailedToLoad="interstitialAdFailedToLoad",i.Showed="interstitialAdShowed",i.FailedToShow="interstitialAdFailedToShow",i.Dismissed="interstitialAdDismissed"})(Hl||(Hl={}));var fv;(function(i){i.Loaded="onRewardedInterstitialAdLoaded",i.FailedToLoad="onRewardedInterstitialAdFailedToLoad",i.Showed="onRewardedInterstitialAdShowed",i.FailedToShow="onRewardedInterstitialAdFailedToShow",i.Dismissed="onRewardedInterstitialAdDismissed",i.Rewarded="onRewardedInterstitialAdReward"})(fv||(fv={}));var Ja;(function(i){i.Loaded="onRewardedVideoAdLoaded",i.FailedToLoad="onRewardedVideoAdFailedToLoad",i.Showed="onRewardedVideoAdShowed",i.FailedToShow="onRewardedVideoAdFailedToShow",i.Dismissed="onRewardedVideoAdDismissed",i.Rewarded="onRewardedVideoAdReward"})(Ja||(Ja={}));var mv;(function(i){i.NOT_REQUIRED="NOT_REQUIRED",i.OBTAINED="OBTAINED",i.REQUIRED="REQUIRED",i.UNKNOWN="UNKNOWN"})(mv||(mv={}));var gv;(function(i){i[i.DISABLED=0]="DISABLED",i[i.EEA=1]="EEA",i[i.NOT_EEA=2]="NOT_EEA"})(gv||(gv={}));const Zt=Hm("AdMob",{web:()=>W0(()=>import("./web-Bk3NxP-B.js"),[],import.meta.url).then(i=>new i.AdMobWeb)});class XA{constructor(){this.isInitialized=!1,this.config=null}async initialize(e){if(this.isInitialized){this.config={...this.config,...e};return}try{this.config=e,en.isNativePlatform()?(await Zt.initialize({requestTrackingAuthorization:!0,testingDevices:e.testMode?["YOUR_DEVICE_ID"]:[],initializeForTesting:e.testMode||!1}),this.isInitialized=!0,console.log("AdMob initialized successfully")):console.log("AdMob not available on web platform")}catch(n){throw console.error("Failed to initialize AdMob:",n),n}}async showBannerAd(e){if(!this.isInitialized||!this.config)throw new Error("AdMob not initialized");if(!en.isNativePlatform())throw new Error("AdMob banners only available on native platforms");if(!this.config.bannerAdUnitId)throw new Error("bannerAdUnitId not configured");try{const n={adId:this.config.bannerAdUnitId,adSize:mm.ADAPTIVE_BANNER,position:fm.BOTTOM_CENTER,margin:0,isTesting:this.config.testMode||!1,...e};await Zt.showBanner(n),console.log("Banner ad shown successfully")}catch(n){throw console.error("Failed to show banner ad:",n),n}}async hideBannerAd(){if(this.isInitialized&&en.isNativePlatform())try{await Zt.hideBanner(),console.log("Banner ad hidden successfully")}catch(e){console.error("Failed to hide banner ad:",e)}}async resumeBannerAd(){if(this.isInitialized&&en.isNativePlatform())try{await Zt.resumeBanner(),console.log("Banner ad resumed successfully")}catch(e){console.error("Failed to resume banner ad:",e)}}async removeBannerAd(){if(this.isInitialized&&en.isNativePlatform())try{await Zt.removeBanner(),console.log("Banner ad removed successfully")}catch(e){console.error("Failed to remove banner ad:",e)}}async showInterstitial(){if(!this.isInitialized||!this.config)return console.warn("AdMob not initialized"),!1;if(!en.isNativePlatform())return console.warn("Interstitials are only available on native platforms"),!1;if(!this.config.interstitialAdUnitId)return console.warn("No interstitialAdUnitId configured"),!1;let e=null,n=null,s=null;try{const o=new Promise((m,p)=>{setTimeout(()=>p(new Error("Interstitial ad timeout")),3e4)}),u=new Promise(async(m,p)=>{try{e=await Zt.addListener(Hl.Loaded,A=>{console.log("Interstitial loaded")}),s=await Zt.addListener(Hl.FailedToLoad,A=>{console.error("Interstitial failed to load:",A),p(new Error("Failed to load interstitial"))});let y=null;const T=new Promise(A=>{y=A});n=await Zt.addListener(Hl.Dismissed,()=>{console.log("Interstitial dismissed"),y&&y()});const R={adId:this.config.interstitialAdUnitId,isTesting:this.config.testMode||!1};await Zt.prepareInterstitial(R),await Zt.showInterstitial(),await T,m(!0)}catch(y){p(y)}});return await Promise.race([u,o])}catch(o){return console.error("Failed to show interstitial ad:",o),!1}finally{try{e&&await e.remove(),n&&await n.remove(),s&&await s.remove()}catch(o){console.warn("Error cleaning up interstitial listeners:",o)}}}async showRewarded(){if(!this.isInitialized||!this.config)return console.warn("AdMob not initialized"),!1;if(!en.isNativePlatform())return console.warn("Rewarded ads are only available on native platforms"),!1;if(!this.config.rewardedAdUnitId)return console.warn("No rewardedAdUnitId configured"),!1;let e=null,n=null,s=null,o=null;try{const u=new Promise((p,y)=>{setTimeout(()=>y(new Error("Rewarded ad timeout")),3e4)}),d=new Promise(async(p,y)=>{try{let T=!1;e=await Zt.addListener(Ja.Loaded,B=>{console.log("Rewarded loaded")}),o=await Zt.addListener(Ja.FailedToLoad,B=>{console.error("Rewarded failed to load:",B),y(new Error("Failed to load rewarded ad"))}),n=await Zt.addListener(Ja.Rewarded,B=>{T=!0,console.log("User rewarded",B)});let R=null;const A=new Promise(B=>{R=B});s=await Zt.addListener(Ja.Dismissed,()=>{console.log("Rewarded dismissed"),R&&R()});const k={adId:this.config.rewardedAdUnitId,isTesting:this.config.testMode||!1};await Zt.prepareRewardVideoAd(k),await Zt.showRewardVideoAd(),await A,p(T)}catch(T){y(T)}});return await Promise.race([d,u])}catch(u){return console.error("Failed to show rewarded ad:",u),!1}finally{try{e&&await e.remove(),n&&await n.remove(),s&&await s.remove(),o&&await o.remove()}catch(u){console.warn("Error cleaning up rewarded listeners:",u)}}}async showBestMonetizingAd(){var e,n;return(e=this.config)!=null&&e.rewardedAdUnitId&&await this.showRewarded()?"rewarded":(n=this.config)!=null&&n.interstitialAdUnitId&&await this.showInterstitial()?"interstitial":"none"}isNativePlatform(){return en.isNativePlatform()}isWebPlatform(){return en.getPlatform()==="web"}getConfig(){return this.config}}const $i=new XA,$A=({pack:i,isOpen:e,onClose:n,onStartDemo:s,onAdWatched:o})=>{const[u,d]=le.useState(!1),[m,p]=le.useState(null);if(!e)return null;const y=async()=>{d(!0),p(null);try{await $i.showInterstitial()?(o&&o(i.id),s(),n()):p("No se pudo cargar el anuncio. Necesitas ver un anuncio para jugar el demo.")}catch(T){console.error("Error al mostrar anuncio:",T),p("Error al cargar el anuncio. Necesitas ver un anuncio para jugar el demo.")}finally{d(!1)}};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 animate-fade-in",children:E.jsxs(zn,{className:"w-full max-w-md relative",children:[E.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:E.jsx(MA,{className:"w-6 h-6"})}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-6xl mb-4",children:i.icon}),E.jsxs("h2",{className:"text-2xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500",children:["Demo: ",i.name]}),E.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:E.jsxs("div",{className:"flex items-start gap-3 text-left",children:[E.jsx(VA,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),E.jsxs("div",{className:"text-sm text-blue-300",children:[E.jsx("p",{className:"mb-2",children:E.jsx("strong",{children:"¿Qué incluye el demo?"})}),E.jsxs("ul",{className:"space-y-1 text-xs",children:[E.jsx("li",{children:"• Las preguntas y retos demo siempre son los mismos"}),E.jsx("li",{children:"• Puedes jugar de forma ilimitada"}),E.jsx("li",{children:"• Solo necesitas ver un anuncio antes de cada partida"}),E.jsx("li",{children:"• Perfecto para probar si te gusta el pack"})]})]})]})}),m&&E.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 mb-4",children:E.jsx("p",{className:"text-yellow-400 text-sm",children:m})}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx(Ge,{onClick:y,disabled:u,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:u?E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cargando anuncio..."]}):E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx("span",{role:"img","aria-label":"gem",children:"💎"}),"Ver anuncio y jugar demo"]})}),E.jsx(Ge,{onClick:n,variant:"secondary",className:"w-full",disabled:u,children:"Volver atrás"})]}),E.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"¿Te gusta el pack? Al final de la partida podrás comprarlo completo."})]})]})})},WA=({players:i,currentPlayerIndex:e,onNextPlayer:n,onNewGame:s,questions:o,dares:u,roundConfig:d,gameProgress:m,onRoundEnd:p,onQuestionAsked:y,onDareCompleted:T})=>{const[R,A]=le.useState(null),[k,B]=le.useState(null),[Y,G]=le.useState(new Set),[ne,re]=le.useState(new Set),ie=i[e],me=le.useMemo(()=>o.map((S,x)=>({item:S,index:x})),[o]),he=le.useMemo(()=>u.map((S,x)=>({item:S,index:x})),[u]),_e=S=>{const x=S==="pregunta"?me:he,D=S==="pregunta"?Y:ne,P=S==="pregunta"?G:re,V=x.filter(I=>!D.has(I.index));if(V.length===0){P(new Set);const I=Math.floor(Math.random()*x.length),Ue=x[I];A(Ue.item),P(Le=>new Set(Le).add(Ue.index))}else{const I=Math.floor(Math.random()*V.length),Ue=V[I];A(Ue.item),P(Le=>new Set(Le).add(Ue.index))}B(S),S==="pregunta"&&y?y():S==="reto"&&T&&T()},N=()=>{A(null),B(null),e===i.length-1?m.currentRound+1>d.totalRounds?n():p():n()};return E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center animate-fade-in",children:[E.jsxs(zn,{className:"w-full max-w-lg min-h-[24rem] flex flex-col justify-between",children:[E.jsxs("div",{children:[E.jsx("div",{className:"mb-2",children:E.jsxs("p",{className:"text-sm text-gray-500",children:["Ronda ",m.currentRound," de ",d.totalRounds]})}),E.jsx("p",{className:"text-lg text-gray-400",children:"Turno de:"}),E.jsx("h2",{className:"text-4xl font-bold my-4 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400",children:ie})]}),R?E.jsxs("div",{className:"animate-fade-in",children:[E.jsx("h3",{className:"text-2xl font-bold mb-6 text-cyan-400 capitalize",children:k}),E.jsx("p",{className:"text-xl md:text-2xl leading-relaxed",children:R.text})]}):E.jsxs("div",{className:"animate-fade-in",children:[E.jsx("h3",{className:"text-2xl font-bold mb-6",children:"¿Verdad o Reto?"}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[E.jsx(Ge,{onClick:()=>_e("pregunta"),className:"w-full sm:w-auto",children:"Pregunta"}),E.jsx(Ge,{onClick:()=>_e("reto"),variant:"secondary",className:"w-full sm:w-auto",children:"Reto"})]})]}),E.jsx("div",{className:"mt-8",children:R&&E.jsx(Ge,{onClick:N,children:"Siguiente Jugador"})})]}),E.jsx("button",{onClick:s,className:"mt-6 text-sm text-gray-500 hover:text-gray-300 transition",children:"Empezar nuevo juego"})]})},ZA=({onSelectRounds:i,onBack:e})=>{const n=[{value:5,label:"5 Rondas",description:"Partida rápida (15-20 min)"},{value:10,label:"10 Rondas",description:"Partida estándar (30-40 min)"},{value:15,label:"15 Rondas",description:"Partida larga (45-60 min)"}];return E.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 animate-fade-in",children:E.jsxs(zn,{className:"w-full max-w-2xl text-center",children:[E.jsx("h1",{className:"text-4xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:"Configurar Partida"}),E.jsx("p",{className:"text-gray-400 mb-8",children:"Elige cuántas rondas quieres jugar"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:n.map(s=>E.jsxs("div",{className:"relative p-6 rounded-lg border border-gray-600 bg-gray-800/50 hover:border-purple-500 transition-all duration-200 cursor-pointer group",onClick:()=>i(s.value),children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:s.value}),E.jsx("div",{className:"text-lg font-semibold text-white mb-2",children:s.label}),E.jsx("div",{className:"text-sm text-gray-400",children:s.description})]}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]},s.value))}),E.jsx("div",{className:"text-sm text-gray-500 mb-6",children:"💡 Al final de cada ronda se mostrará un anuncio breve"}),E.jsx("div",{className:"flex gap-4 justify-center",children:E.jsx(Ge,{onClick:e,variant:"secondary",className:"px-6",children:"Volver"})})]})})},J0=({dataAdSlot:i,className:e,style:n,fallbackContent:s,timeout:o=5e3,admobConfig:u})=>{const[d,m]=le.useState("loading"),[p,y]=le.useState(!1),[T,R]=le.useState(!1);return le.useEffect(()=>{let A,k=null,B=!0;return(async()=>{try{A=setTimeout(()=>{B&&d==="loading"&&(console.warn("Ad loading timeout reached"),m("timeout"),y(!0))},o);const G=en.isNativePlatform();if(R(G),G&&u)try{await $i.initialize({...u,bannerAdUnitId:i}),await $i.showBannerAd(),B&&(m("loaded"),clearTimeout(A));return}catch(ne){console.warn("AdMob failed:",ne),B&&(m("error"),y(!0),clearTimeout(A));return}if(typeof window<"u"&&!G){let ne=0;const re=10,ie=()=>{if(B)if(window.adsbygoogle||ne>=re)try{(window.adsbygoogle=window.adsbygoogle||[]).push({}),setTimeout(()=>{if(B){if(k=document.querySelector(`[data-ad-slot="${i}"]`),k){const me=k.innerHTML;me&&me.trim()!==""?m("loaded"):(m("error"),y(!0))}else m("error"),y(!0);clearTimeout(A)}},2e3)}catch(me){console.error("Error loading AdSense ad:",me),B&&(m("error"),y(!0),clearTimeout(A))}else ne++,setTimeout(ie,200)};ie()}else G&&!u&&(console.warn("Native platform detected but no AdMob config provided"),B&&(m("error"),y(!0),clearTimeout(A)))}catch(G){console.error("Error in ad loading process:",G),B&&(m("error"),y(!0),clearTimeout(A))}})(),()=>{B=!1,A&&clearTimeout(A),T&&d==="loaded"&&$i.removeBannerAd().catch(console.error)}},[i,o,u]),p?E.jsx("div",{className:`ad-fallback ${e||""}`,style:n,children:s||E.jsx("div",{className:"ad-fallback-message"})}):E.jsxs("div",{className:`ad-container ${e||""}`,style:n,children:[d==="loading"&&E.jsx("div",{className:"ad-loading",children:E.jsx("div",{className:"loading-spinner"})}),E.jsx("ins",{className:"adsbygoogle",style:{display:d==="loaded"?"block":"none",textAlign:"center",width:"100%",height:"auto"},"data-ad-client":"ca-pub-XXXXXXXXXXXXXXXX","data-ad-slot":i,"data-ad-format":"auto","data-full-width-responsive":"true"})]})},JA=({roundStats:i,currentRound:e,totalRounds:n,onContinue:s,onEndGame:o,hasNoAds:u=!1})=>{var B;const[d,m]=le.useState(!1),[p,y]=le.useState(!1),[T,R]=le.useState(5);le.useEffect(()=>{let Y=!0;const G=async()=>{try{await $i.initialize({appId:"ca-app-pub-9300246128306730~2733575476",interstitialAdUnitId:"ca-app-pub-9300246128306730/5383789546",testMode:!0}),m(!0);const ie=await $i.showInterstitial();Y&&(y(!0),console.log("Anuncio intersticial mostrado:",ie))}catch(ie){console.warn("Fallo al mostrar anuncio nativo:",ie),Y&&(m(!0),y(!0))}};if(!u&&en.isNativePlatform())return G(),()=>{Y=!1};if(u){m(!0),y(!0);return}const ne=setTimeout(()=>{m(!0)},800);let re;return d&&!p&&(re=setInterval(()=>{R(ie=>ie<=1?(y(!0),re&&clearInterval(re),0):ie-1)},1e3)),()=>{clearTimeout(ne),re&&clearInterval(re)}},[u,d,p]);const A=e>=n,k=en.isNativePlatform();return E.jsx("div",{className:"flex flex-col items-center justify-center min-h-[100dvh] p-4 animate-fade-in",children:E.jsxs(zn,{className:"w-full max-w-2xl text-center",children:[E.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-green-500 to-blue-500",children:A?"¡Partida Completada!":`¡Ronda ${i.roundNumber} Completada!`}),!A&&E.jsxs("p",{className:"text-gray-400 mb-6",children:["Ronda ",e," de ",n]}),E.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 mb-6",children:[E.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Estadísticas de la Ronda"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-2xl font-bold text-blue-400",children:i.questionsAsked}),E.jsx("div",{className:"text-sm text-gray-400",children:"Preguntas"})]}),E.jsxs("div",{children:[E.jsx("div",{className:"text-2xl font-bold text-purple-400",children:i.daresCompleted}),E.jsx("div",{className:"text-sm text-gray-400",children:"Retos"})]})]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Jugadores participantes:"}),E.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:((B=i.playersParticipated)==null?void 0:B.map((Y,G)=>E.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white rounded-full text-sm",children:Y},G)))||E.jsx("span",{className:"text-gray-400 text-sm",children:"No hay jugadores registrados"})})]})]}),!u&&E.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[E.jsxs("div",{className:"text-center mb-4",children:[E.jsx("div",{className:"text-lg font-semibold mb-2",children:"📺 Anuncio"}),p?E.jsx("div",{className:"text-green-400 mb-4",children:"✅ Anuncio completado"}):E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"text-gray-400 mb-2",children:["Viendo anuncio... ",k?"":`${T}s`]}),!k&&E.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:E.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-1000",style:{width:`${(5-T)/5*100}%`}})})]})]}),!k&&E.jsx(J0,{dataAdSlot:"1234567890",className:"round-end-ad",style:{minHeight:"250px",width:"100%",maxWidth:"728px",margin:"0 auto"},fallbackContent:E.jsx("div",{className:"text-center text-gray-500 py-4"}),timeout:8e3})]}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:A?E.jsx(Ge,{onClick:o,className:"px-8 py-3 text-lg",disabled:!u&&!p,children:"Ver Resultados Finales"}):E.jsxs(E.Fragment,{children:[E.jsx(Ge,{onClick:o,variant:"secondary",className:"px-6",disabled:!u&&!p,children:"Terminar Partida"}),E.jsx(Ge,{onClick:s,className:"px-8 py-3 text-lg",disabled:!u&&!p,children:"Siguiente Ronda"})]})}),!p&&E.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Los botones se habilitarán cuando termine el anuncio"})]})})},eS=({gameStats:i,players:e,onNewGame:n,onBackToMenu:s,hasNoAds:o=!1,isDemoMode:u=!1,demoPackId:d=null})=>{const m=i.gameEndTime&&i.gameStartTime?Math.round((i.gameEndTime.getTime()-i.gameStartTime.getTime())/1e3/60):0,p=i.totalRounds>0?Math.round(i.totalQuestions/i.totalRounds):0,y=i.totalRounds>0?Math.round(i.totalDares/i.totalRounds):0,[T,R]=le.useState(!1),[A,k]=le.useState(!1),[B,Y]=le.useState(5),G=en.isNativePlatform();return le.useEffect(()=>{let ne=!0;const re=async()=>{try{await $i.initialize({appId:"ca-app-pub-9300246128306730~2733575476",interstitialAdUnitId:"ca-app-pub-9300246128306730/5383789546",testMode:!0}),k(!0);const he=await $i.showInterstitial();ne&&(R(!0),console.log("Anuncio intersticial al final de partida mostrado:",he))}catch(he){console.warn("Error mostrando anuncio al final de partida:",he),ne&&(k(!0),R(!0))}};if(!o&&G)return re(),()=>{ne=!1};if(o){R(!0),k(!0);return}const ie=setTimeout(()=>k(!0),800);let me;return A&&!T&&(me=setInterval(()=>{Y(he=>he<=1?(R(!0),me&&clearInterval(me),0):he-1)},1e3)),()=>{clearTimeout(ie),me&&clearInterval(me)}},[o,G,A,T]),E.jsx("div",{className:"flex flex-col items-center justify-center min-h-[100dvh] p-4 animate-fade-in",children:E.jsxs(zn,{className:"w-full max-w-4xl text-center",children:[E.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-orange-500",children:"🎉 ¡Partida Finalizada! 🎉"}),E.jsx("p",{className:"text-gray-400 mb-8 text-base sm:text-lg",children:"¡Esperamos que se hayan divertido mucho!"}),!o&&E.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[E.jsxs("div",{className:"text-center mb-4",children:[E.jsx("div",{className:"text-lg font-semibold mb-2",children:"📺 Anuncio"}),T?E.jsx("div",{className:"text-green-400 mb-4",children:"✅ Anuncio completado"}):E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"text-gray-400 mb-2",children:["Viendo anuncio... ",G?"":`${B}s`]}),!G&&E.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:E.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-1000",style:{width:`${(5-B)/5*100}%`}})})]})]}),!G&&E.jsx(J0,{dataAdSlot:"1234567890",className:"game-end-ad",style:{minHeight:"250px",width:"100%",maxWidth:"728px",margin:"0 auto"},fallbackContent:E.jsx("div",{className:"text-center text-gray-500 py-4"}),timeout:8e3})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[E.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-blue-800/20 rounded-lg p-6 border border-blue-500/30",children:[E.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-400 mb-2",children:i.totalRounds}),E.jsx("div",{className:"text-base sm:text-lg text-white mb-1",children:"Rondas Jugadas"}),E.jsxs("div",{className:"text-sm text-gray-400",children:[m," minutos"]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 rounded-lg p-6 border border-purple-500/30",children:[E.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-purple-400 mb-2",children:i.totalQuestions}),E.jsx("div",{className:"text-base sm:text-lg text-white mb-1",children:"Preguntas"}),E.jsxs("div",{className:"text-sm text-gray-400",children:[p," por ronda"]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-pink-600/20 to-pink-800/20 rounded-lg p-6 border border-pink-500/30",children:[E.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-pink-400 mb-2",children:i.totalDares}),E.jsx("div",{className:"text-base sm:text-lg text-white mb-1",children:"Retos"}),E.jsxs("div",{className:"text-sm text-gray-400",children:[y," por ronda"]})]})]}),E.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 mb-8",children:[E.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-4 text-white",children:"Jugadores Participantes"}),E.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:e.map((ne,re)=>E.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full",children:[E.jsx("span",{className:"text-lg",children:"🎮"}),E.jsx("span",{className:"font-medium",children:ne})]},re))})]}),i.roundStats.length>0&&E.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6 mb-8",children:[E.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-4 text-white",children:"Resumen por Rondas"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.roundStats.map((ne,re)=>{var ie;return E.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:[E.jsxs("div",{className:"text-base sm:text-lg font-semibold text-purple-400 mb-2",children:["Ronda ",ne.roundNumber]}),E.jsxs("div",{className:"text-sm text-gray-300 space-y-1",children:[E.jsxs("div",{children:["📝 ",ne.questionsAsked," preguntas"]}),E.jsxs("div",{children:["🎯 ",ne.daresCompleted," retos"]}),E.jsxs("div",{children:["👥 ",((ie=ne.playersParticipated)==null?void 0:ie.length)||0," jugadores"]})]})]},re)})})]}),u?E.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 rounded-lg p-6 mb-8 border border-yellow-500/30",children:[E.jsx("div",{className:"text-3xl mb-3",children:"🎮✨"}),E.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"¡Demo Completado!"}),E.jsx("p",{className:"text-gray-300 mb-4",children:"¿Te gustó este pack? ¡Hay muchas más preguntas y retos esperándote!"}),E.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-4 border border-yellow-500/30",children:[E.jsx("p",{className:"text-yellow-200 font-medium mb-2",children:"💡 ¿Sabías que?"}),E.jsx("p",{className:"text-gray-300 text-sm",children:"El pack completo incluye más de 50 preguntas y retos únicos, ¡perfectos para cualquier ocasión!"})]}),E.jsx("div",{className:"mt-4",children:E.jsx(Ge,{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold rounded-lg",children:"🛒 ¡Ir a la Tienda!"})})]}):E.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 rounded-lg p-6 mb-8 border border-purple-500/30",children:[E.jsx("div",{className:"text-2xl mb-2",children:"🌟"}),E.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"¡Gracias por jugar!"}),E.jsx("p",{className:"text-gray-300",children:"Esperamos que hayan creado recuerdos increíbles. ¡No olviden compartir sus mejores momentos!"})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[E.jsx(Ge,{onClick:n,className:"px-8 py-3 text-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:!o&&!T,children:"🎮 Nueva Partida"}),E.jsx(Ge,{onClick:s,variant:"secondary",className:"px-8 py-3 text-lg",disabled:!o&&!T,children:"🏠 Menú Principal"})]}),E.jsxs("div",{className:"mt-8 text-xs text-gray-500",children:[E.jsx("p",{children:"¿Te gustó el juego? ¡Compártelo con tus amigos!"}),E.jsx("p",{className:"mt-1",children:"Verdad o Reto - La diversión nunca termina"})]})]})})},tS=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,T=u>>2,R=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,k=y&63;p||(k=64,d||(A=64)),s.push(n[T],n[R],n[A],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(eE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const R=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new rS;const A=u<<2|m>>4;if(s.push(A),y!==64){const k=m<<4&240|y>>2;if(s.push(k),R!==64){const B=y<<6&192|R;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(i){const e=eE(i);return tE.encodeByteArray(e,!0)},oh=function(i){return iS(i).replace(/\./g,"")},nE=function(i){try{return tE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>sS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof pv>"u")return;const i=pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nE(i[1]);return e&&JSON.parse(e)},Ih=()=>{try{return tS()||aS()||oS()||lS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rE=i=>{var e,n;return(n=(e=Ih())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},uS=i=>{const e=rE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iE=()=>{var i;return(i=Ih())==null?void 0:i.config},sE=i=>{var e;return(e=Ih())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[oh(JSON.stringify(n)),oh(JSON.stringify(d)),""].join(".")}const Fl={};function dS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function fS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let yv=!1;function oE(i,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Fl[i]===e||Fl[i]||yv)return;Fl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=dS().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{yv=!0,d()},A}function T(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function R(){const A=fS(s),k=n("text"),B=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),G=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),T(G,Y);const me=y();p(re,ne),ie.append(re,B,G,me),document.body.appendChild(ie)}u?(B.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function gS(){var e;const i=(e=Ih())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ES(){return!gS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class mi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=bS,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?AS(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new mi(o,m,s)}}function AS(i,e){return i.replace(SS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SS=/\{\$([^}]+)}/g;function RS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ws(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(_v(u)&&_v(d)){if(!Ws(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function xS(i,e){const n=new IS(i,e);return n.subscribe.bind(n)}class IS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class Zs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OS(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(i){return i===Ks?void 0:i}function OS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const MS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},VS=Me.INFO,kS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},LS=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=kS[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const US=(i,e)=>e.some(n=>i instanceof n);let vv,Ev;function jS(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lE=new WeakMap,gm=new WeakMap,uE=new WeakMap,tm=new WeakMap,Gm=new WeakMap;function BS(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Wi(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&lE.set(n,i)}).catch(()=>{}),Gm.set(e,i),e}function qS(i){if(gm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});gm.set(i,e)}let pm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HS(i){pm=i(pm)}function FS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(nm(this),e,...n);return uE.set(s,e.sort?e.sort():[e]),Wi(s)}:zS().includes(i)?function(...e){return i.apply(nm(this),e),Wi(lE.get(this))}:function(...e){return Wi(i.apply(nm(this),e))}}function GS(i){return typeof i=="function"?FS(i):(i instanceof IDBTransaction&&qS(i),US(i,jS())?new Proxy(i,pm):i)}function Wi(i){if(i instanceof IDBRequest)return BS(i);if(tm.has(i))return tm.get(i);const e=GS(i);return e!==i&&(tm.set(i,e),Gm.set(e,i)),e}const nm=i=>Gm.get(i);function QS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=Wi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Wi(d.result),p.oldVersion,p.newVersion,Wi(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const KS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],rm=new Map;function Tv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=YS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KS.includes(n)))return;const u=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return rm.set(e,u),u}HS(i=>({...i,get:(e,n,s)=>Tv(e,n)||i.get(e,n,s),has:(e,n)=>!!Tv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($S(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $S(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",wv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Fm("@firebase/app"),WS="@firebase/app-compat",ZS="@firebase/analytics-compat",JS="@firebase/analytics",e1="@firebase/app-check-compat",t1="@firebase/app-check",n1="@firebase/auth",r1="@firebase/auth-compat",i1="@firebase/database",s1="@firebase/data-connect",a1="@firebase/database-compat",o1="@firebase/functions",l1="@firebase/functions-compat",u1="@firebase/installations",c1="@firebase/installations-compat",h1="@firebase/messaging",d1="@firebase/messaging-compat",f1="@firebase/performance",m1="@firebase/performance-compat",g1="@firebase/remote-config",p1="@firebase/remote-config-compat",y1="@firebase/storage",_1="@firebase/storage-compat",v1="@firebase/firestore",E1="@firebase/ai",T1="@firebase/firestore-compat",w1="firebase",b1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",A1={[ym]:"fire-core",[WS]:"fire-core-compat",[JS]:"fire-analytics",[ZS]:"fire-analytics-compat",[t1]:"fire-app-check",[e1]:"fire-app-check-compat",[n1]:"fire-auth",[r1]:"fire-auth-compat",[i1]:"fire-rtdb",[s1]:"fire-data-connect",[a1]:"fire-rtdb-compat",[o1]:"fire-fn",[l1]:"fire-fn-compat",[u1]:"fire-iid",[c1]:"fire-iid-compat",[h1]:"fire-fcm",[d1]:"fire-fcm-compat",[f1]:"fire-perf",[m1]:"fire-perf-compat",[g1]:"fire-rc",[p1]:"fire-rc-compat",[y1]:"fire-gcs",[_1]:"fire-gcs-compat",[v1]:"fire-fst",[T1]:"fire-fst-compat",[E1]:"fire-vertex","fire-js":"fire-js",[w1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,S1=new Map,vm=new Map;function bv(i,e){try{i.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(vm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,i);for(const n of lh.values())bv(n,i);for(const n of S1.values())bv(n,i);return!0}function Qm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new su("app","Firebase",R1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=b1;function cE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:_m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(n||(n=iE()),!n)throw Zi.create("no-options");const u=lh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const d=new PS(o);for(const p of vm.values())d.addComponent(p);const m=new x1(n,s,d);return lh.set(o,m),m}function hE(i=_m){const e=lh.get(i);if(!e&&i===_m&&iE())return cE();if(!e)throw Zi.create("no-app",{appName:i});return e}function Ji(i,e,n){let s=A1[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}oo(new Zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",C1=1,$l="firebase-heartbeat-store";let im=null;function dE(){return im||(im=QS(I1,C1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zi.create("idb-open",{originalErrorMessage:i.message})})),im}async function N1(i){try{const n=(await dE()).transaction($l),s=await n.objectStore($l).get(fE(i));return await n.done,s}catch(e){if(e instanceof mi)oi.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function Av(i,e){try{const s=(await dE()).transaction($l,"readwrite");await s.objectStore($l).put(e,fE(i)),await s.done}catch(n){if(n instanceof mi)oi.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(s.message)}}}function fE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1024,O1=30;class P1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Sv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>O1){const d=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sv(),{heartbeatsToSend:s,unsentEntries:o}=M1(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return oi.warn(n),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function M1(i,e=D1){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Rv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class V1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await N1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rv(i){return oh(JSON.stringify({version:2,heartbeats:i})).length}function k1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(i){oo(new Zs("platform-logger",e=>new XS(e),"PRIVATE")),oo(new Zs("heartbeat",e=>new P1(e),"PRIVATE")),Ji(ym,wv,i),Ji(ym,wv,"esm2020"),Ji("fire-js","")}L1("");function mE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U1=mE,gE=new su("auth","Firebase",mE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Fm("@firebase/auth");function j1(i,...e){uh.logLevel<=Me.WARN&&uh.warn(`Auth (${yo}): ${i}`,...e)}function Wc(i,...e){uh.logLevel<=Me.ERROR&&uh.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(i,...e){throw Ym(i,...e)}function $n(i,...e){return Ym(i,...e)}function Km(i,e,n){const s={...U1(),[e]:n};return new su("auth","Firebase",s).create(e,{appName:i.name})}function vr(i){return Km(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z1(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Bn(i,"argument-error"),Km(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return gE.create(i,...e)}function Te(i,e,...n){if(!i)throw Ym(e,...n)}function ii(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wc(e),new Error(e)}function li(i,e){i||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function B1(){return xv()==="http:"||xv()==="https:"}function xv(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||yS()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=mS()||_S()}get(){return q1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q1=new ou(3e4,6e4);function gi(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ir(i,e,n,s,o={}){return yE(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=au({key:i.config.apiKey,...d}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return pS()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&po(i.emulatorConfig.host)&&(y.credentials="include"),pE.fetch()(await _E(i,i.config.apiHost,n,m),y)})}async function yE(i,e,n){i._canInitEmulator=!1;const s={...F1,...e};try{const o=new Y1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Hc(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(i,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Hc(i,"email-already-in-use",d);if(p==="USER_DISABLED")throw Hc(i,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Km(i,T,y);Bn(i,T)}}catch(o){if(o instanceof mi)throw o;Bn(i,"network-request-failed",{message:String(o)})}}async function lu(i,e,n,s,o={}){const u=await Ir(i,e,n,s,o);return"mfaPendingCredential"in u&&Bn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function _E(i,e,n,s){const o=`${e}${n}?${s}`,u=i,d=u.config.emulator?Xm(i.config,o):`${i.config.apiScheme}://${o}`;return G1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function K1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s($n(this.auth,"network-request-failed")),Q1.get())})}}function Hc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=$n(i,e,s);return o.customData._tokenResponse=n,o}function Iv(i){return i!==void 0&&i.enterprise!==void 0}class X1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $1(i,e){return Ir(i,"GET","/v2/recaptchaConfig",gi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(i,e){return Ir(i,"POST","/v1/accounts:delete",e)}async function ch(i,e){return Ir(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z1(i,e=!1){const n=It(i),s=await n.getIdToken(e),o=$m(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(sm(o.auth_time)),issuedAtTime:Gl(sm(o.iat)),expirationTime:Gl(sm(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function sm(i){return Number(i)*1e3}function $m(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=nE(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Cv(i){const e=$m(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mi&&J1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function J1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(i){var R;const e=i.auth,n=await i.getIdToken(),s=await lo(i,ch(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=(R=o.providerUserInfo)!=null&&R.length?vE(o.providerUserInfo):[],d=nR(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function tR(i){const e=It(i);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(i,e){const n=await yE(i,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await _E(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&po(i.emulatorConfig.host)&&(p.credentials="include"),pE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iR(i,e){return Ir(i,"POST","/v2/accounts:revokeToken",gi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new to;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z1(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(vr(this.auth));const e=await this.getIdToken();return await lo(this,W1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:R,emailVerified:A,isAnonymous:k,providerData:B,stsTokenManager:Y}=n;Te(R&&Y,e,"internal-error");const G=to.fromJSON(this.name,Y);Te(typeof R=="string",e,"internal-error"),Gi(s,e.name),Gi(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),Gi(u,e.name),Gi(d,e.name),Gi(m,e.name),Gi(p,e.name),Gi(y,e.name),Gi(T,e.name);const ne=new Xn({uid:R,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:d,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:T});return B&&Array.isArray(B)&&(ne.providerData=B.map(re=>({...re}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new to;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function si(i){li(i instanceof Function,"Expected a class definition");let e=Nv.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Nv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EE.type="NONE";const Dv=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(i,e,n){return`firebase:${i}:${e}:${n}`}class no{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new no(si(Dv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||si(Dv);const d=Zc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(d);if(T){let R;if(typeof T=="string"){const A=await ch(e,{idToken:T}).catch(()=>{});if(!A)break;R=await Xn._fromGetAccountInfoResponse(e,A,T)}else R=Xn._fromJSON(e,T);y!==u&&(m=R),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new no(u,e,s):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new no(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(xE(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(SE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TE(i=rn()){return/firefox\//i.test(i)}function wE(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(i=rn()){return/crios\//i.test(i)}function AE(i=rn()){return/iemobile/i.test(i)}function SE(i=rn()){return/android/i.test(i)}function RE(i=rn()){return/blackberry/i.test(i)}function xE(i=rn()){return/webos/i.test(i)}function Wm(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function sR(i=rn()){var e;return Wm(i)&&!!((e=window.navigator)!=null&&e.standalone)}function aR(){return vS()&&document.documentMode===10}function IE(i=rn()){return Wm(i)||SE(i)||xE(i)||RE(i)||/windows phone/i.test(i)||AE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,e=[]){let n;switch(i){case"Browser":n=Ov(rn());break;case"Worker":n=`${Ov(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(i,e={}){return Ir(i,"GET","/v2/passwordPolicy",gi(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=6;class cR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new oR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(mn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(vr(this));const n=e?It(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lR(this),n=new cR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&j1(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Cr(i){return It(i)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(i){Ch=i}function NE(i){return Ch.loadJS(i)}function fR(){return Ch.recaptchaEnterpriseScript}function mR(){return Ch.gapiScript}function gR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pR{constructor(){this.enterprise=new yR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _R="recaptcha-enterprise",DE="NO_RECAPTCHA";class vR{constructor(e){this.type=_R,this.auth=Cr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{$1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new X1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,d,m){const p=window.grecaptcha;Iv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(DE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(m=>{if(!n&&Iv(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fR();p.length!==0&&(p+=m),NE(p).then(()=>{o(m,u,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function Mv(i,e,n,s=!1,o=!1){const u=new vR(i);let d;if(o)d=DE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dh(i,e,n,s,o){var u;if((u=i._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Mv(i,e,n,n==="getOobCode");return s(i,d)}else return s(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Mv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i,e){const n=Qm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function TR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function wR(i,e,n){const s=Cr(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=OE(e),{host:d,port:m}=bR(e),p=m===null?"":`:${m}`,y={url:`${u}//${d}${p}/`},T=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ws(y,s.config.emulator)&&Ws(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,po(d)?(aE(`${u}//${d}${p}`),oE("Auth",!0)):AR()}function OE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function bR(i){const e=OE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Vv(d)}}}function Vv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function AR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function SR(i,e){return Ir(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(i,e){return lu(i,"POST","/v1/accounts:signInWithPassword",gi(i,e))}async function PE(i,e){return Ir(i,"POST","/v1/accounts:sendOobCode",gi(i,e))}async function xR(i,e){return PE(i,e)}async function IR(i,e){return PE(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(i,e){return lu(i,"POST","/v1/accounts:signInWithEmailLink",gi(i,e))}async function NR(i,e){return lu(i,"POST","/v1/accounts:signInWithEmailLink",gi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Zm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",RR);case"emailLink":return CR(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,s,"signUpPassword",SR);case"emailLink":return NR(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return lu(i,"POST","/v1/accounts:signInWithIdp",gi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="http://localhost";class Js extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new Js(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PR(i){const e=Ll(Ul(i)).link,n=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(i)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||e||i}class Jm{constructor(e){const n=Ll(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=OR(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PR(e);try{return new Jm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Jm.parseLink(n);return Te(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends uu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ri.credential(n,s)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends uu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends uu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(i,e){return lu(i,"POST","/v1/accounts:signUp",gi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xn._fromIdTokenResponse(e,s,o),d=kv(s);return new ui({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=kv(s);return new ui({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function kv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(i){var o;if(mn(i.app))return Promise.reject(vr(i));const e=Cr(i);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new ui({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await ME(e,{returnSecureToken:!0}),s=await ui._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends mi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function VE(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(i,u,e,s):u})}async function VR(i,e,n=!1){const s=await lo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ui._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(i,e,n=!1){const{auth:s}=i;if(mn(s.app))return Promise.reject(vr(s));const o="reauthenticate";try{const u=await lo(i,VE(s,o,e,i),n);Te(u.idToken,s,"internal-error");const d=$m(u.idToken);Te(d,s,"internal-error");const{sub:m}=d;return Te(i.uid===m,s,"user-mismatch"),ui._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(i,e,n=!1){if(mn(i.app))return Promise.reject(vr(i));const s="signIn",o=await VE(i,s,e),u=await ui._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function LR(i,e){return kE(Cr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(i){const e=Cr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UR(i,e,n){const s=Cr(i);await dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IR)}async function jR(i,e,n){if(mn(i.app))return Promise.reject(vr(i));const s=Cr(i),d=await dh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ME).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&LE(i),p}),m=await ui._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function zR(i,e,n){return mn(i.app)?Promise.reject(vr(i)):LR(It(i),_o.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&LE(i),s})}async function UE(i,e){const n=It(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await xR(n.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(i,e){return Ir(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=It(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await lo(s,BR(s.auth,u));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function HR(i,e,n,s){return It(i).onIdTokenChanged(e,n,s)}function FR(i,e,n){return It(i).beforeAuthStateChanged(e,n)}function GR(i,e,n,s){return It(i).onAuthStateChanged(e,n,s)}function QR(i){return It(i).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=1e3,YR=10;class zE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);aR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},KR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zE.type="LOCAL";const XR=zE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BE.type="SESSION";const qE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Nh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,u)),p=await $R(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const y=tg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(R){const A=R;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function ZR(i){Er().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function JR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ex(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function tx(){return HE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firebaseLocalStorageDb",nx=1,gh="firebaseLocalStorage",GE="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(i,e){return i.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function rx(){const i=indexedDB.deleteDatabase(FE);return new cu(i).toPromise()}function wm(){const i=indexedDB.open(FE,nx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(gh,{keyPath:GE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(gh)?e(s):(s.close(),await rx(),e(await wm()))})})}async function Lv(i,e,n){const s=Dh(i,!0).put({[GE]:e,value:n});return new cu(s).toPromise()}async function ix(i,e){const n=Dh(i,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function Uv(i,e){const n=Dh(i,!0).delete(e);return new cu(n).toPromise()}const sx=800,ax=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ax)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(tx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await JR(),!this.activeServiceWorker)return;this.sender=new WR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ex()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await Lv(e,mh,"1"),await Uv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Lv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ix(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const ox=QE;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(i,e){return e?si(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lx(i){return kE(i.auth,new ng(i),i.bypassAuthState)}function ux(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),kR(n,new ng(i),i.bypassAuthState)}async function cx(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),VR(n,new ng(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lx;case"linkViaPopup":case"linkViaRedirect":return cx;case"reauthViaPopup":case"reauthViaRedirect":return ux;default:Bn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new ou(2e3,1e4);async function dx(i,e,n){if(mn(i.app))return Promise.reject($n(i,"operation-not-supported-in-this-environment"));const s=Cr(i);z1(i,e,eg);const o=KE(s,n);return new Ys(s,"signInViaPopup",e,o).executeNotNull()}class Ys extends YE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hx.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="pendingRedirect",Jc=new Map;class mx extends YE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gx(i,e){const n=_x(e),s=yx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function px(i,e){Jc.set(i._key(),e)}function yx(i){return si(i._redirectPersistence)}function _x(i){return Zc(fx,i.config.apiKey,i.name)}async function vx(i,e,n=!1){if(mn(i.app))return Promise.reject(vr(i));const s=Cr(i),o=KE(s,e),d=await new mx(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=600*1e3;class Tx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!XE(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError($n(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ex&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function XE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(i,e={}){return Ir(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sx=/^https?/;async function Rx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await bx(i);for(const n of e)try{if(xx(n))return}catch{}Bn(i,"unauthorized-domain")}function xx(i){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Sx.test(n))return!1;if(Ax.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new ou(3e4,6e4);function zv(){const i=Er().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Cx(i){return new Promise((e,n)=>{var o,u,d;function s(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n($n(i,"network-request-failed"))},timeout:Ix.get()})}if((u=(o=Er().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=Er().gapi)!=null&&d.load)s();else{const m=gR("iframefcb");return Er()[m]=()=>{gapi.load?s():n($n(i,"network-request-failed"))},NE(`${mR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw eh=null,e})}let eh=null;function Nx(i){return eh=eh||Cx(i),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new ou(5e3,15e3),Ox="__/auth/iframe",Px="emulator/auth/iframe",Mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kx(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xm(e,Px):`https://${i.config.authDomain}/${Ox}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=Vx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function Lx(i){const e=await Nx(i),n=Er().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:kx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=$n(i,"network-request-failed"),m=Er().setTimeout(()=>{u(d)},Dx.get());function p(){Er().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jx=500,zx=600,Bx="_blank",qx="http://localhost";class Bv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hx(i,e,n,s=jx,o=zx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Ux,width:s.toString(),height:o.toString(),top:u,left:d},y=rn().toLowerCase();n&&(m=bE(y)?Bx:n),TE(y)&&(e=e||qx,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[k,B])=>`${A}${k}=${B},`,"");if(sR(y)&&m!=="_self")return Fx(e||"",m),new Bv(null);const R=window.open(e||"",m,T);Te(R,i,"popup-blocked");try{R.focus()}catch{}return new Bv(R)}function Fx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="__/auth/handler",Qx="emulator/auth/handler",Kx=encodeURIComponent("fac");async function qv(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof eg){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",RS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,R]of Object.entries({}))d[T]=R}if(e instanceof uu){const T=e.getScopes().filter(R=>R!=="");T.length>0&&(d.scopes=T.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await i._getAppCheckToken(),y=p?`#${Kx}=${encodeURIComponent(p)}`:"";return`${Yx(i)}?${au(m).slice(1)}${y}`}function Yx({config:i}){return i.emulator?Xm(i,Qx):`https://${i.authDomain}/${Gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class Xx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=vx,this._overrideRedirectResult=px}async _openPopup(e,n,s,o){var d;li((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await qv(e,n,s,Em(),o);return Hx(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await qv(e,n,s,Em(),o);return ZR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(li(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Lx(e),s=new Tx(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{var d;const u=(d=o==null?void 0:o[0])==null?void 0:d[am];u!==void 0&&n(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IE()||wE()||Wm()}}const $x=Xx;var Hv="@firebase/auth",Fv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jx(i){oo(new Zs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(i)},y=new hR(s,o,u,p);return TR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Zs("auth-internal",e=>{const n=Cr(e.getProvider("auth").getImmediate());return(s=>new Wx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(Hv,Fv,Zx(i)),Ji(Hv,Fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=300,tI=sE("authIdTokenMaxAge")||eI;let Gv=null;const nI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tI)return;const o=n==null?void 0:n.token;Gv!==o&&(Gv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rI(i=hE()){const e=Qm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=ER(i,{popupRedirectResolver:$x,persistence:[ox,XR,qE]}),s=sE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=nI(u.toString());FR(n,d,()=>d(n.currentUser)),HR(n,m=>d(m))}}const o=rE("auth");return o&&wR(n,`http://${o}`),n}function iI(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}dR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=$n("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",iI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jx("Browser");var sI="firebase",aI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(sI,aI,"app");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,$E;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function x(){}x.prototype=S.prototype,N.D=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(D,P,V){for(var I=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)I[Ue-2]=arguments[Ue];return S.prototype[P].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);var D=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)D[P]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(P=0;16>P;++P)D[P]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],P=N.g[2];var V=N.g[3],I=S+(V^x&(P^V))+D[0]+3614090360&4294967295;S=x+(I<<7&4294967295|I>>>25),I=V+(P^S&(x^P))+D[1]+3905402710&4294967295,V=S+(I<<12&4294967295|I>>>20),I=P+(x^V&(S^x))+D[2]+606105819&4294967295,P=V+(I<<17&4294967295|I>>>15),I=x+(S^P&(V^S))+D[3]+3250441966&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(V^x&(P^V))+D[4]+4118548399&4294967295,S=x+(I<<7&4294967295|I>>>25),I=V+(P^S&(x^P))+D[5]+1200080426&4294967295,V=S+(I<<12&4294967295|I>>>20),I=P+(x^V&(S^x))+D[6]+2821735955&4294967295,P=V+(I<<17&4294967295|I>>>15),I=x+(S^P&(V^S))+D[7]+4249261313&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(V^x&(P^V))+D[8]+1770035416&4294967295,S=x+(I<<7&4294967295|I>>>25),I=V+(P^S&(x^P))+D[9]+2336552879&4294967295,V=S+(I<<12&4294967295|I>>>20),I=P+(x^V&(S^x))+D[10]+4294925233&4294967295,P=V+(I<<17&4294967295|I>>>15),I=x+(S^P&(V^S))+D[11]+2304563134&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(V^x&(P^V))+D[12]+1804603682&4294967295,S=x+(I<<7&4294967295|I>>>25),I=V+(P^S&(x^P))+D[13]+4254626195&4294967295,V=S+(I<<12&4294967295|I>>>20),I=P+(x^V&(S^x))+D[14]+2792965006&4294967295,P=V+(I<<17&4294967295|I>>>15),I=x+(S^P&(V^S))+D[15]+1236535329&4294967295,x=P+(I<<22&4294967295|I>>>10),I=S+(P^V&(x^P))+D[1]+4129170786&4294967295,S=x+(I<<5&4294967295|I>>>27),I=V+(x^P&(S^x))+D[6]+3225465664&4294967295,V=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(V^S))+D[11]+643717713&4294967295,P=V+(I<<14&4294967295|I>>>18),I=x+(V^S&(P^V))+D[0]+3921069994&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^V&(x^P))+D[5]+3593408605&4294967295,S=x+(I<<5&4294967295|I>>>27),I=V+(x^P&(S^x))+D[10]+38016083&4294967295,V=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(V^S))+D[15]+3634488961&4294967295,P=V+(I<<14&4294967295|I>>>18),I=x+(V^S&(P^V))+D[4]+3889429448&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^V&(x^P))+D[9]+568446438&4294967295,S=x+(I<<5&4294967295|I>>>27),I=V+(x^P&(S^x))+D[14]+3275163606&4294967295,V=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(V^S))+D[3]+4107603335&4294967295,P=V+(I<<14&4294967295|I>>>18),I=x+(V^S&(P^V))+D[8]+1163531501&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(P^V&(x^P))+D[13]+2850285829&4294967295,S=x+(I<<5&4294967295|I>>>27),I=V+(x^P&(S^x))+D[2]+4243563512&4294967295,V=S+(I<<9&4294967295|I>>>23),I=P+(S^x&(V^S))+D[7]+1735328473&4294967295,P=V+(I<<14&4294967295|I>>>18),I=x+(V^S&(P^V))+D[12]+2368359562&4294967295,x=P+(I<<20&4294967295|I>>>12),I=S+(x^P^V)+D[5]+4294588738&4294967295,S=x+(I<<4&4294967295|I>>>28),I=V+(S^x^P)+D[8]+2272392833&4294967295,V=S+(I<<11&4294967295|I>>>21),I=P+(V^S^x)+D[11]+1839030562&4294967295,P=V+(I<<16&4294967295|I>>>16),I=x+(P^V^S)+D[14]+4259657740&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^V)+D[1]+2763975236&4294967295,S=x+(I<<4&4294967295|I>>>28),I=V+(S^x^P)+D[4]+1272893353&4294967295,V=S+(I<<11&4294967295|I>>>21),I=P+(V^S^x)+D[7]+4139469664&4294967295,P=V+(I<<16&4294967295|I>>>16),I=x+(P^V^S)+D[10]+3200236656&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^V)+D[13]+681279174&4294967295,S=x+(I<<4&4294967295|I>>>28),I=V+(S^x^P)+D[0]+3936430074&4294967295,V=S+(I<<11&4294967295|I>>>21),I=P+(V^S^x)+D[3]+3572445317&4294967295,P=V+(I<<16&4294967295|I>>>16),I=x+(P^V^S)+D[6]+76029189&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(x^P^V)+D[9]+3654602809&4294967295,S=x+(I<<4&4294967295|I>>>28),I=V+(S^x^P)+D[12]+3873151461&4294967295,V=S+(I<<11&4294967295|I>>>21),I=P+(V^S^x)+D[15]+530742520&4294967295,P=V+(I<<16&4294967295|I>>>16),I=x+(P^V^S)+D[2]+3299628645&4294967295,x=P+(I<<23&4294967295|I>>>9),I=S+(P^(x|~V))+D[0]+4096336452&4294967295,S=x+(I<<6&4294967295|I>>>26),I=V+(x^(S|~P))+D[7]+1126891415&4294967295,V=S+(I<<10&4294967295|I>>>22),I=P+(S^(V|~x))+D[14]+2878612391&4294967295,P=V+(I<<15&4294967295|I>>>17),I=x+(V^(P|~S))+D[5]+4237533241&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~V))+D[12]+1700485571&4294967295,S=x+(I<<6&4294967295|I>>>26),I=V+(x^(S|~P))+D[3]+2399980690&4294967295,V=S+(I<<10&4294967295|I>>>22),I=P+(S^(V|~x))+D[10]+4293915773&4294967295,P=V+(I<<15&4294967295|I>>>17),I=x+(V^(P|~S))+D[1]+2240044497&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~V))+D[8]+1873313359&4294967295,S=x+(I<<6&4294967295|I>>>26),I=V+(x^(S|~P))+D[15]+4264355552&4294967295,V=S+(I<<10&4294967295|I>>>22),I=P+(S^(V|~x))+D[6]+2734768916&4294967295,P=V+(I<<15&4294967295|I>>>17),I=x+(V^(P|~S))+D[13]+1309151649&4294967295,x=P+(I<<21&4294967295|I>>>11),I=S+(P^(x|~V))+D[4]+4149444226&4294967295,S=x+(I<<6&4294967295|I>>>26),I=V+(x^(S|~P))+D[11]+3174756917&4294967295,V=S+(I<<10&4294967295|I>>>22),I=P+(S^(V|~x))+D[2]+718787259&4294967295,P=V+(I<<15&4294967295|I>>>17),I=x+(V^(P|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var x=S-this.blockSize,D=this.B,P=this.h,V=0;V<S;){if(P==0)for(;V<=x;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(D[P++]=N.charCodeAt(V++),P==this.blockSize){o(this,D),P=0;break}}else for(;V<S;)if(D[P++]=N[V++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var x=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=x&255,x/=256;for(this.u(N),N=Array(16),S=x=0;4>S;++S)for(var D=0;32>D;D+=8)N[x++]=this.g[S]>>>D&255;return N};function u(N,S){var x=m;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function d(N,S){this.h=S;for(var x=[],D=!0,P=N.length-1;0<=P;P--){var V=N[P]|0;D&&V==S||(x[P]=V,D=!1)}this.g=x}var m={};function p(N){return-128<=N&&128>N?u(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return R;if(0>N)return G(y(-N));for(var S=[],x=1,D=0;N>=x;D++)S[D]=N/x|0,x*=4294967296;return new d(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return G(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(S,8)),D=R,P=0;P<N.length;P+=8){var V=Math.min(8,N.length-P),I=parseInt(N.substring(P,P+V),S);8>V?(V=y(Math.pow(S,V)),D=D.j(V).add(y(I))):(D=D.j(x),D=D.add(y(I)))}return D}var R=p(0),A=p(1),k=p(16777216);i=d.prototype,i.m=function(){if(Y(this))return-G(this).m();for(var N=0,S=1,x=0;x<this.g.length;x++){var D=this.i(x);N+=(0<=D?D:4294967296+D)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(B(this))return"0";if(Y(this))return"-"+G(this).toString(N);for(var S=y(Math.pow(N,6)),x=this,D="";;){var P=me(x,S).g;x=ne(x,P.j(S));var V=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=P,B(x))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function B(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Y(N){return N.h==-1}i.l=function(N){return N=ne(this,N),Y(N)?-1:B(N)?0:1};function G(N){for(var S=N.g.length,x=[],D=0;D<S;D++)x[D]=~N.g[D];return new d(x,~N.h).add(A)}i.abs=function(){return Y(this)?G(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],D=0,P=0;P<=S;P++){var V=D+(this.i(P)&65535)+(N.i(P)&65535),I=(V>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);D=I>>>16,V&=65535,I&=65535,x[P]=I<<16|V}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ne(N,S){return N.add(G(S))}i.j=function(N){if(B(this)||B(N))return R;if(Y(this))return Y(N)?G(this).j(G(N)):G(G(this).j(N));if(Y(N))return G(this.j(G(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,x=[],D=0;D<2*S;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<N.g.length;P++){var V=this.i(D)>>>16,I=this.i(D)&65535,Ue=N.i(P)>>>16,Le=N.i(P)&65535;x[2*D+2*P]+=I*Le,re(x,2*D+2*P),x[2*D+2*P+1]+=V*Le,re(x,2*D+2*P+1),x[2*D+2*P+1]+=I*Ue,re(x,2*D+2*P+1),x[2*D+2*P+2]+=V*Ue,re(x,2*D+2*P+2)}for(D=0;D<S;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=S;D<2*S;D++)x[D]=0;return new d(x,0)};function re(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ie(N,S){this.g=N,this.h=S}function me(N,S){if(B(S))throw Error("division by zero");if(B(N))return new ie(R,R);if(Y(N))return S=me(G(N),S),new ie(G(S.g),G(S.h));if(Y(S))return S=me(N,G(S)),new ie(G(S.g),S.h);if(30<N.g.length){if(Y(N)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var x=A,D=S;0>=D.l(N);)x=he(x),D=he(D);var P=_e(x,1),V=_e(D,1);for(D=_e(D,2),x=_e(x,2);!B(D);){var I=V.add(D);0>=I.l(N)&&(P=P.add(x),V=I),D=_e(D,1),x=_e(x,1)}return S=ne(N,P.j(S)),new ie(P,S)}for(P=R;0<=N.l(S);){for(x=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=y(x),I=V.j(S);Y(I)||0<I.l(N);)x-=D,V=y(x),I=V.j(S);B(V)&&(V=A),P=P.add(V),N=ne(N,I)}return new ie(P,N)}i.A=function(N){return me(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)&N.i(D);return new d(x,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)|N.i(D);return new d(x,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),x=[],D=0;D<S;D++)x[D]=this.i(D)^N.i(D);return new d(x,this.h^N.h)};function he(N){for(var S=N.g.length+1,x=[],D=0;D<S;D++)x[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(x,N.h)}function _e(N,S){var x=S>>5;S%=32;for(var D=N.g.length-x,P=[],V=0;V<D;V++)P[V]=0<S?N.i(V+x)>>>S|N.i(V+x+1)<<32-S:N.i(V+x);return new d(P,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$E=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,es=d}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,jl,ZE,th,bm,JE,eT,tT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in _))break e;_=_[U]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,U={next:function(){if(!b&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function R(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function A(c,g,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,A.apply(null,arguments)}function k(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function B(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,U,F){for(var te=Array(arguments.length-2),je=2;je<arguments.length;je++)te[je-2]=arguments[je];return g.prototype[U].apply(b,te)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function G(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=c.length||0,F=b.length||0;c.length=U+F;for(let te=0;te<F;te++)c[U+te]=b[te]}else c.push(b)}}class ne{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var he=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)c[_]=b[_];for(let F=0;F<x.length;F++)_=x[F],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ue{constructor(){this.h=this.g=null}add(g,_){const b=Le.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Le=new ne(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,He=new Ue,O=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(J)}};var J=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){V(_)}var g=Le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c})();function Ce(c,g){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{me(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,ee);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Rn(c,g,_,b,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=U,this.key=++Ze,this.da=this.fa=!1}function Jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qn(c){this.src=c,this.g={},this.h=0}qn.prototype.add=function(c,g,_,b,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var te=Dr(c,g,b,U);return-1<te?(g=c[te],_||(g.fa=!1)):(g=new Rn(g,this.src,F,!!b,U),g.fa=_,c.push(g)),g};function Nr(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],U=Array.prototype.indexOf.call(b,g,void 0),F;(F=0<=U)&&Array.prototype.splice.call(b,U,1),F&&(Jn(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Dr(c,g,_,b){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==b)return U}return-1}var er="closure_lm_"+(1e6*Math.random()|0),ds={};function ia(c,g,_,b,U){if(Array.isArray(g)){for(var F=0;F<g.length;F++)ia(c,g[F],_,b,U);return null}return _=Eu(_),c&&c[vt]?c.K(g,_,y(b)?!!b.capture:!1,U):sn(c,g,_,!1,b,U)}function sn(c,g,_,b,U,F){if(!g)throw Error("Invalid event type");var te=y(U)?!!U.capture:!!U,je=tr(c);if(je||(c[er]=je=new qn(c)),_=je.add(g,_,b,te,F),_.proxy)return _;if(b=Ro(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)pe||(U=te),U===void 0&&(U=!1),c.addEventListener(g.toString(),b,U);else if(c.attachEvent)c.attachEvent(ge(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ro(){function c(_){return g.call(c.src,c.listener,_)}const g=Se;return c}function fs(c,g,_,b,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)fs(c,g[F],_,b,U);else b=y(b)?!!b.capture:!!b,_=Eu(_),c&&c[vt]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=Dr(F,_,b,U),-1<_&&(Jn(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=tr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Dr(g,_,b,U)),(_=-1<c?g[c]:null)&&pi(_))}function pi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[vt])Nr(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(ge(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=tr(g))?(Nr(_,c),_.h==0&&(_.src=null,g[er]=null)):Jn(c)}}}function ge(c){return c in ds?ds[c]:ds[c]="on"+c}function Se(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&pi(c),c=_.call(b,g)}return c}function tr(c){return c=c[er],c instanceof qn?c:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eu(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(g){return c.handleEvent(g)}),c[xo])}function dt(){ae.call(this),this.i=new qn(this),this.M=this,this.F=null}B(dt,ae),dt.prototype[vt]=!0,dt.prototype.removeEventListener=function(c,g,_,b){fs(this,c,g,_,b)};function Xe(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ee(g,c);else if(g instanceof ee)g.target=g.target||c;else{var U=g;g=new ee(b,c),D(g,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var te=g.g=_[F];U=pn(te,b,!0,g)&&U}if(te=g.g=c,U=pn(te,b,!0,g)&&U,U=pn(te,b,!1,g)&&U,_)for(F=0;F<_.length;F++)te=g.g=_[F],U=pn(te,b,!1,g)&&U}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Jn(_[b]);delete c.g[g],c.h--}}this.F=null},dt.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},dt.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function pn(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,F=0;F<g.length;++F){var te=g[F];if(te&&!te.da&&te.capture==_){var je=te.listener,Nt=te.ha||te.src;te.fa&&Nr(c.i,te),U=je.call(Nt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Xt(c,g,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Tu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Yh extends ae{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){ae.call(this),this.h=c,this.g={}}B(ms,ae);var gs=[];function ps(c){_e(c.g,function(g,_){this.g.hasOwnProperty(_)&&pi(g)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),ps(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,sa=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function No(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){ee.call(this,"d")}B(Pr,ee);function Do(){ee.call(this,"c")}B(Do,ee);var nr={},Oo=null;function yi(){return Oo=Oo||new dt}nr.La="serverreachability";function aa(c){ee.call(this,nr.La,c)}B(aa,ee);function _i(c){const g=yi();Xe(g,new aa(g))}nr.STAT_EVENT="statevent";function wu(c,g){ee.call(this,nr.STAT_EVENT,c),this.stat=g}B(wu,ee);function lt(c){const g=yi();Xe(g,new wu(g,c))}nr.Ma="timingevent";function Ct(c,g){ee.call(this,nr.Ma,c),this.size=g}B(Ct,ee);function Et(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function Po(c,g,_,b,U,F){c.info(function(){if(c.g)if(F)for(var te="",je=F.split("&"),Nt=0;Nt<je.length;Nt++){var ze=je[Nt].split("=");if(1<ze.length){var kt=ze[0];ze=ze[1];var Dt=kt.split("_");te=2<=Dt.length&&Dt[1]=="type"?te+(kt+"="+ze+"&"):te+(kt+"=redacted&")}}else te=null;else te=F;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+_+`
`+te})}function Xh(c,g,_,b,U,F,te){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+_+`
`+F+" "+te})}function vi(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+_s(c,_)+(b?" "+b:"")})}function bu(c,g){c.info(function(){return"TIMEOUT: "+g})}xn.prototype.info=function(){};function _s(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var te=1;te<U.length;te++)U[te]=""}}}}return Hn(_)}catch{return g}}var Ei={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function ir(){}B(ir,Io),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},rr=new ir;function an(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var Mo={},oa={};function Fn(c,g,_){c.L=1,c.v=bs(yn(g)),c.m=_,c.P=!0,Vr(c,null)}function Vr(c,g){c.F=Date.now(),vs(c),c.A=yn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),zo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new gt,c.g=ju(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Yh(A(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(gs[0]=U.toString()),U=gs);for(var F=0;F<U.length;F++){var te=ia(_,U[F],b||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),_i(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}an.prototype.ca=function(c){c=c.target;const g=this.M;g&&Dn(c)==3?g.j():this.Y(c)},an.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=Dn(this.g);var g=this.g.Ba();const Hr=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Dt!=4||g==7||(g==8||0>=Hr?_i(3):_i(2)),Ti(this);var _=this.g.Z();this.X=_;t:if(Au(this)){var b=Du(this.g);c="";var U=b.length,F=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),sr(this);var te="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(F&&g==U-1)});b.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Xh(this.i,this.u,this.A,this.l,this.R,Dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Nt=this.g;if((je=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var ze=je;break t}}ze=null}if(_=ze)vi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,lt(12),Bt(this),sr(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<te.length;)if(qt=Su(this,te),qt==oa){Dt==4&&(this.s=4,lt(14),_=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Mo){this.s=4,lt(15),vi(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else vi(this.i,this.l,qt,null),Es(this,qt);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||te.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)vi(this.i,this.l,te,"[Invalid Chunked Response]"),Bt(this),sr(this);else if(0<te.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ds(kt),kt.M=!0,lt(11))}}else vi(this.i,this.l,te,null),Es(this,te);Dt==4&&Bt(this),this.o&&!this.J&&(Dt==4?ku(this.j,this):(this.o=!1,vs(this)))}else ed(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Bt(this),sr(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?oa:(_=Number(g.substring(_,b)),isNaN(_)?Mo:(b+=1,b+_>g.length?oa:(g=g.slice(b,b+_),c.C=b+_,g)))}an.prototype.cancel=function(){this.J=!0,Bt(this)};function vs(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(A(c.ba,c),g)}function Ti(c){c.B&&(m.clearTimeout(c.B),c.B=null)}an.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(_i(),lt(17)),Bt(this),this.s=2,sr(this)):Ru(this,this.S-c)};function sr(c){c.j.G==0||c.J||ku(c.j,c)}function Bt(c){Ti(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ps(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Es(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Vo(_.h,c))){if(!c.K&&Vo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)va(_),ya(_);else break e;Go(_),lt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(A(_.Za,_),6e3));if(1>=ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qr(_,11)}else if((c.K||_.g==c)&&va(_),!re(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let ze=U[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const kt=ze[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Dt=ze[4];Dt!=null&&(_.Aa=Dt,_.j.info("SVER="+_.Aa));const Hr=ze[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(b=1.5*Hr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const qt=c.g;if(qt){const dr=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var F=b.h;F.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ca(F,F.h),F.h=null))}if(b.D){const Ko=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(b.ya=Ko,Je(b.I,b.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var te=c;if(b.qa=Uu(b,b.J?b.ia:null,b.W),te.K){on(b.h,te);var je=te,Nt=b.L;Nt&&(je.I=Nt),je.B&&(Ti(je),vs(je)),b.g=te}else Mu(b);0<_.i.length&&_a(_)}else ze[0]!="stop"&&ze[0]!="close"||qr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?qr(_,7):Ho(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}_i(4)}catch{}}var xu=class{constructor(c,g){this.g=c,this.map=g}};function kr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function la(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ua(c){return c.h?1:c.g?c.g.size:0}function Vo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ca(c,g){c.g?c.g.add(g):c.h=g}function on(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}kr.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function $h(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function ha(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Lo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ha(c),b=$h(c),U=b.length,F=0;F<U;F++)g.call(void 0,b[F],_&&_[F],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),U=null;if(0<=b){var F=c[_].substring(0,b);U=c[_].substring(b+1)}else F=c[_];g(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var g=c.i,_=new Ur;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Lr(this,_),this.m=c.m}else c&&(g=String(c).match(Ts))?(this.h=!1,ws(this,g[1]||"",!0),this.o=In(g[2]||""),this.g=In(g[3]||"",!0),wi(this,g[4]),this.l=In(g[5]||"",!0),Lr(this,g[6]||"",!0),this.m=In(g[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Tt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(As(g,Uo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(As(g,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(As(_,_.charAt(0)=="/"?Zh:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",As(_,da)),c.join("")};function yn(c){return new Tt(c)}function ws(c,g,_){c.j=_?In(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Lr(c,g,_){g instanceof Ur?(c.i=g,Cu(c.i,c.h)):(_||(g=As(g,Jh)),c.i=new Ur(g,c.h))}function Je(c,g,_){c.i.set(g,_)}function bs(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,Zh=/[#\?]/g,Jh=/[#\?@]/g,da=/#/g;function Ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Ur.prototype,i.add=function(c,g){Cn(this),this.i=null,c=ar(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function jr(c,g){Cn(c),g=ar(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zr(c,g){return Cn(c),g=ar(c,g),c.g.has(g)}i.forEach=function(c,g){Cn(this),this.g.forEach(function(_,b){_.forEach(function(U){c.call(g,U,b,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const U=c[b];for(let F=0;F<U.length;F++)_.push(g[b])}return _},i.V=function(c){Cn(this);let g=[];if(typeof c=="string")zr(this,c)&&(g=g.concat(this.g.get(ar(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return Cn(this),this.i=null,c=ar(this,c),zr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function zo(c,g,_){jr(c,g),0<_.length&&(c.i=null,c.g.set(ar(c,g),Y(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const F=encodeURIComponent(String(b)),te=this.V(b);for(b=0;b<te.length;b++){var U=F;te[b]!==""&&(U+="="+encodeURIComponent(String(te[b]))),c.push(U)}}return this.i=c.join("&")};function ar(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Cu(c,g){g&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(jr(this,b),zo(this,U,_))},c)),c.j=g}function Ss(c,g){const _=new xn;if(m.Image){const b=new Image;b.onload=k(Nn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=k(Nn,_,"TestLoadImage: error",!1,g,b),b.onabort=k(Nn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=k(Nn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Gn(c,g){const _=new xn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(U),F.ok?Nn(_,"TestPingServer: ok",!0,g):Nn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Nn(_,"TestPingServer: error",!1,g)})}function Nn(c,g,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Rs(){this.g=new ys}function or(c,g,_){const b=_||"";try{Lo(c,function(U,F){let te=U;y(U)&&(te=Hn(U)),g.push(b+F+"="+encodeURIComponent(te))})}catch(U){throw g.push(b+"type="+encodeURIComponent("_badmap")),U}}function bi(c){this.l=c.Ub||null,this.j=c.eb||!1}B(bi,Io),bi.prototype.g=function(){return new Br(this.l,this.j)},bi.prototype.i=(function(c){return function(){return c}})({});function Br(c,g){dt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Br,dt),i=Br.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ur(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?lr(this):ur(this),this.readyState==3&&Bo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},i.Qa=function(c){this.g&&(this.response=c,lr(this))},i.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ur(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let g="";return _e(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Vt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,g,_))}function Ke(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Ke,dt);var fa=/^https?$/i,xs=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?Co(this.o):Co(rr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Nu(this,F);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())_.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xs,g,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,te]of _)this.g.setRequestHeader(F,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Nu(this,F)}};function Nu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ma(c),cr(c)}function ma(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),cr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Xt(c.Ea,0,c);else if(Xe(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=te===0){var U=String(c.D).match(Ts)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),b=!fa.test(U?U.toLowerCase():"")}_=b}if(_)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var F=2<Dn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ma(c)}}finally{cr(c)}}}}function cr(c,g){if(c.g){Is(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Xe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),sa(g)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ed(c){const g={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var _=P(c[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[U]||[];g[U]=F,F.push(_)}N(g,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function pa(c){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kr(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=pa.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,b){lt(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Uu(this,null,this.W),_a(this)};function Ho(c){if(Ou(c),c.G==3){var g=c.U++,_=yn(c.I);if(Je(_,"SID",c.K),Je(_,"RID",g),Je(_,"TYPE","terminate"),Ns(c,_),g=new an(c,c.j,g),g.L=2,g.v=bs(yn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=ju(g.j,null),g.g.ea(g.v)),g.F=Date.now(),vs(g)}Lu(c)}function ya(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Ou(c){ya(c),c.u&&(m.clearTimeout(c.u),c.u=null),va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function _a(c){if(!la(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||O(),de||(se(),de=!0),He.add(g,c),c.B=0}}function td(c,g){return ua(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(A(c.Ga,c,g),Qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new an(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Pu(this,U,g),_=yn(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),Ns(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(qo(F)))+"&"+g:this.m&&Vt(_,this.m,F)),ca(this.h,U),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",g),Je(_,"SID","null"),U.T=!0,Fn(U,_,null)):Fn(U,_,g),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||la(this.h)||Fo(this))};function Fo(c,g){var _;g?_=g.l:_=c.U++;const b=yn(c.I);Je(b,"SID",c.K),Je(b,"RID",_),Je(b,"AID",c.T),Ns(c,b),c.m&&c.o&&Vt(b,c.m,c.o),_=new an(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ca(c.h,_),Fn(_,b,g)}function Ns(c,g){c.H&&_e(c.H,function(_,b){Je(g,b,_)}),c.l&&Lo({},function(_,b){Je(g,b,_)})}function Pu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var U=c.i;let F=-1;for(;;){const te=["count="+_];F==-1?0<_?(F=U[0].g,te.push("ofs="+F)):F=0:te.push("ofs="+F);let je=!0;for(let Nt=0;Nt<_;Nt++){let ze=U[Nt].g;const kt=U[Nt].map;if(ze-=F,0>ze)F=Math.max(0,U[Nt].g-100),je=!1;else try{or(kt,te,"req"+ze+"_")}catch{b&&b(kt)}}if(je){b=te.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function Mu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||O(),de||(se(),de=!0),He.add(g,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(A(c.Fa,c),Qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),ya(this),Vu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new an(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=yn(c.qa);Je(g,"RID","rpc"),Je(g,"SID",c.K),Je(g,"AID",c.T),Je(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(g,"TO",c.ja),Je(g,"TYPE","xmlhttp"),Ns(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=bs(yn(g)),_.m=null,_.P=!0,Vr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,ya(this),Go(this),lt(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ku(c,g){var _=null;if(c.g==g){va(c),Ds(c),c.g=null;var b=2}else if(Vo(c.h,g))_=g.D,on(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;b=yi(),Xe(b,new Ct(b,_)),_a(c)}else Mu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(b==1&&td(c,g)||b==2&&Go(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function Qo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function qr(c,g){if(c.j.info("Error code "+g),g==2){var _=A(c.fb,c),b=c.Xa;const U=!b;b=new Tt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ws(b,"https"),bs(b),U?Ss(b.toString(),_):Gn(b.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(g),Lu(c),Ou(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const g=ko(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ka,g),G(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Uu(c,g,_){var b=_ instanceof Tt?yn(_):new Tt(_);if(b.g!="")g&&(b.g=g+"."+b.g),wi(b,b.s);else{var U=m.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var F=new Tt(null);b&&ws(F,b),g&&(F.g=g),U&&wi(F,U),_&&(F.l=_),b=F}return _=c.D,g=c.ya,_&&g&&Je(b,_,g),Je(b,"VER",c.la),Ns(c,b),b}function ju(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new bi({eb:_})):new Ke(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}i=zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ea(){}Ea.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){dt.call(this),this.g=new pa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hr(this)}B(ln,dt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Ho(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);g.i.push(new xu(g.Ya++,c)),g.G==3&&_a(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,ln.aa.N.call(this)};function Bu(c){Pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(Bu,Pr);function qu(){Do.call(this),this.status=1}B(qu,Do);function hr(c){this.g=c}B(hr,zu),hr.prototype.ua=function(){Xe(this.g,"a")},hr.prototype.ta=function(c){Xe(this.g,new Bu(c))},hr.prototype.sa=function(c){Xe(this.g,new qu)},hr.prototype.ra=function(){Xe(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,tT=function(){return new Ea},eT=function(){return yi()},JE=nr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,th=Ei,Mr.COMPLETE="complete",ZE=Mr,No.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",dt.prototype.listen=dt.prototype.K,jl=No,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,WE=Ke}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Yv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Fm("@firebase/firestore");function Xa(){return ea.logLevel}function ue(i,...e){if(ea.logLevel<=Me.DEBUG){const n=e.map(rg);ea.debug(`Firestore (${vo}): ${i}`,...n)}}function ci(i,...e){if(ea.logLevel<=Me.ERROR){const n=e.map(rg);ea.error(`Firestore (${vo}): ${i}`,...n)}}function uo(i,...e){if(ea.logLevel<=Me.WARN){const n=e.map(rg);ea.warn(`Firestore (${vo}): ${i}`,...n)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nT(i,s,n)}function nT(i,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ci(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||nT(e,o,s)}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class lI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ai,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ai)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new rT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class cI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=fI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Am(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Ve(o,u):om(o)?1:-1}return Ve(i.length,e.length)}const mI=55296,gI=57343;function om(i){const e=i.charCodeAt(0);return e>=mI&&e<=gI}function co(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class _r{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=_r.isNumericId(e),o=_r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class at extends _r{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const pI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends _r{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return pI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new Kt([$v])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i,e,n){if(!n)throw new oe($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yI(i,e,n,s){if(e===!0&&s===!0)throw new oe($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Wv(i){if(!ye.isDocumentKey(i))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zv(i){if(ye.isDocumentKey(i))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Oh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function ns(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(i);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i,e){const n={typeString:i};return e&&(n.value=e),n}function hu(i,e){if(!sT(i))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-62135596800,e0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*e0);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jv)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Rt("string",ot._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ot(0,0))}static max(){return new Re(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function _I(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new rs(o,ye.empty(),e)}function vI(i){return new rs(i.readTime,i.key,Zl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Re.min(),ye.empty(),Zl)}static max(){return new rs(Re.max(),ye.empty(),Zl)}}function EI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==TI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++u,d&&u===o&&n()}),(p=>s(p)))})),d=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((T=>{d[y]=T,++m,m===u&&s(d)}),(T=>o(T)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Mh(i){return i==null}function ph(i){return i===0&&1/i==-1/0}function AI(i){return typeof i=="number"&&Number.isInteger(i)&&!ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="";function SI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=t0(e)),e=RI(i.get(n),e);return t0(e)}function RI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case aT:n+="";break;default:n+=u}}return n}function t0(i){return i+aT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function cs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function oT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r0(this.data.getIterator())}getIteratorFrom(e){return new r0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class r0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=xI.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ss(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="server_timestamp",cT="__type__",hT="__previous_value__",dT="__local_write_time__";function ag(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[cT])==null?void 0:s.stringValue)===uT}function Vh(i){const e=i.mapValue.fields[hT];return ag(e)?Vh(e):e}function Jl(i){const e=is(i.mapValue.fields[dT].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,s,o,u,d,m,p,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const yh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="__type__",CI="__max__",Qc={mapValue:{}},mT="__vector__",_h="value";function as(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:DI(i)?9007199254740991:NI(i)?10:11:we(28295,{value:i})}function Rr(i,e){if(i===e)return!0;const n=as(i);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jl(i).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=is(o.timestampValue),m=is(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_t(o.doubleValue),m=_t(u.doubleValue);return d===m?ph(d)===ph(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n0(d)!==n0(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Rr(d[p],m[p])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function tu(i,e){return(i.values||[]).find((n=>Rr(n,e)))!==void 0}function ho(i,e){if(i===e)return 0;const n=as(i),s=as(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const m=_t(u.integerValue||u.doubleValue),p=_t(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return i0(i.timestampValue,e.timestampValue);case 4:return i0(Jl(i),Jl(e));case 5:return Am(i.stringValue,e.stringValue);case 6:return(function(u,d){const m=ss(u),p=ss(d);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const m=u.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Ve(m[y],p[y]);if(T!==0)return T}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const m=Ve(_t(u.latitude),_t(d.latitude));return m!==0?m:Ve(_t(u.longitude),_t(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return s0(i.arrayValue,e.arrayValue);case 10:return(function(u,d){var A,k,B,Y;const m=u.fields||{},p=d.fields||{},y=(A=m[_h])==null?void 0:A.arrayValue,T=(k=p[_h])==null?void 0:k.arrayValue,R=Ve(((B=y==null?void 0:y.values)==null?void 0:B.length)||0,((Y=T==null?void 0:T.values)==null?void 0:Y.length)||0);return R!==0?R:s0(y,T)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Qc.mapValue&&d===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(d===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const A=Am(p[R],T[R]);if(A!==0)return A;const k=ho(m[p[R]],y[T[R]]);if(k!==0)return k}return Ve(p.length,T.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function i0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=is(i),s=is(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function s0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function fo(i){return Sm(i)}function Sm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${Sm(n.fields[d])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function nh(i){switch(as(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(i);return e?16+nh(e):16;case 5:return 2*i.stringValue.length;case 6:return ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return cs(s.fields,((u,d)=>{o+=u.length+nh(d)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function a0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rm(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function o0(i){return!!i&&"nullValue"in i}function l0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rh(i){return!!i&&"mapValue"in i}function NI(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[fT])==null?void 0:s.stringValue)===mT}function Ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return cs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return{...i}}function DI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===CI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=Ql(d):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Ql(this.value))}}function gT(i){const e=[];return cs(i.fields,((n,s)=>{const o=new Kt([n]);if(rh(s)){const u=gT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Re.min(),Re.min(),Re.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Re.min(),Re.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Re.min(),Re.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function u0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),n.key):s=ho(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function c0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Rr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function OI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class St extends pT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new MI(e,n,s):n==="array-contains"?new LI(e,s):n==="in"?new UI(e,s):n==="not-in"?new jI(e,s):n==="array-contains-any"?new zI(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new VI(e,s):new kI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return yT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yT(i){return i.op==="and"}function _T(i){return PI(i)&&yT(i)}function PI(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function xm(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+fo(i.value);if(_T(i))return i.filters.map((e=>xm(e))).join(",");{const e=i.filters.map((n=>xm(n))).join(",");return`${i.op}(${e})`}}function vT(i,e){return i instanceof St?(function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Rr(s.value,o.value)})(i,e):i instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,m)=>u&&vT(d,o.filters[m])),!0):!1})(i,e):void we(19439)}function ET(i){return i instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(i):i instanceof Wn?(function(n){return n.op.toString()+" {"+n.getFilters().map(ET).join(" ,")+"}"})(i):"Filter"}class MI extends St{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class VI extends St{constructor(e,n){super(e,"in",n),this.keys=TT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kI extends St{constructor(e,n){super(e,"not-in",n),this.keys=TT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class LI extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&tu(n.arrayValue,this.value)}}class UI extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class jI extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class zI extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Te=null}}function h0(i,e=null,n=[],s=[],o=null,u=null,d=null){return new BI(i,e,n,s,o,u,d)}function lg(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!OI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!vT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!c0(i.startAt,e.startAt)&&c0(i.endAt,e.endAt)}function Im(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,s=[],o=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qI(i,e,n,s,o,u,d,m){return new du(i,e,n,s,o,u,d,m)}function cg(i){return new du(i)}function d0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function wT(i){return i.collectionGroup!==null}function Kl(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Mt(Kt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Eh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Eh(Kt.keyField(),s))}return e.Ie}function Tr(i){const e=xe(i);return e.Ee||(e.Ee=HI(e,Kl(i))),e.Ee}function HI(i,e){if(i.limitType==="F")return h0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)}));const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return h0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Cm(i,e){const n=i.filters.concat([e]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Nm(i,e,n){return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function kh(i,e){return ug(Tr(i),Tr(e))&&i.limitType===e.limitType}function bT(i){return`${lg(Tr(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ET(o))).join(", ")}]`),Mh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(Tr(i))}; limitType=${i.limitType})`}function Lh(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,m,p){const y=u0(d,m,p);return d.inclusive?y<=0:y<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(d,m,p){const y=u0(d,m,p);return d.inclusive?y>=0:y>0})(s.endAt,Kl(s),o))})(i,e)}function FI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function AT(i){return(e,n)=>{let s=!1;for(const o of Kl(i)){const u=GI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function GI(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,d,m){const p=d.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ho(p,y):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new ht(ye.comparator);function hi(){return QI}const ST=new ht(ye.comparator);function zl(...i){let e=ST;for(const n of i)e=e.insert(n.key,n);return e}function RT(i){let e=ST;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Yl()}function xT(){return Yl()}function Yl(){return new na((i=>i.toString()),((i,e)=>i.isEqual(e)))}const KI=new ht(ye.comparator),YI=new Mt(ye.comparator);function ke(...i){let e=YI;for(const n of i)e=e.add(n);return e}const XI=new Mt(Ve);function $I(){return XI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function IT(i){return{integerValue:""+i}}function WI(i,e){return AI(e)?IT(e):hg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function ZI(i,e,n){return i instanceof Th?(function(o,u){const d={fields:{[cT]:{stringValue:uT},[dT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=Vh(u)),u&&(d.fields[hT]=u),{mapValue:d}})(n,e):i instanceof nu?NT(i,e):i instanceof ru?DT(i,e):(function(o,u){const d=CT(o,u),m=f0(d)+f0(o.Ae);return Rm(d)&&Rm(o.Ae)?IT(m):hg(o.serializer,m)})(i,e)}function JI(i,e,n){return i instanceof nu?NT(i,e):i instanceof ru?DT(i,e):n}function CT(i,e){return i instanceof wh?(function(s){return Rm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Uh{}class nu extends Uh{constructor(e){super(),this.elements=e}}function NT(i,e){const n=OT(e);for(const s of i.elements)n.some((o=>Rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends Uh{constructor(e){super(),this.elements=e}}function DT(i,e){let n=OT(e);for(const s of i.elements)n=n.filter((o=>!Rr(o,s)));return{arrayValue:{values:n}}}class wh extends Uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function f0(i){return _t(i.integerValue||i.doubleValue)}function OT(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function eC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof ru&&o instanceof ru?co(s.elements,o.elements,Rr):s instanceof wh&&o instanceof wh?Rr(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(i.transform,e.transform)}class tC{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jh{}function PT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new VT(i.key,wr.none()):new fu(i.key,i.data,wr.none());{const n=i.data,s=gn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new hs(i.key,s,new Sn(o.toArray()),wr.none())}}function nC(i,e,n){i instanceof fu?(function(o,u,d){const m=o.value.clone(),p=g0(o.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof hs?(function(o,u,d){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=g0(o.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(MT(o)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Xl(i,e,n,s){return i instanceof fu?(function(u,d,m,p){if(!ih(u.precondition,d))return m;const y=u.value.clone(),T=p0(u.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof hs?(function(u,d,m,p){if(!ih(u.precondition,d))return m;const y=p0(u.fieldTransforms,p,d),T=d.data;return T.setAll(MT(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(i,e,n,s):(function(u,d,m){return ih(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function rC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=CT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function m0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,d)=>eC(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class fu extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function MT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function g0(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,JI(d,m,n[o]))}return s}function p0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,ZI(u,d,e))}return s}class VT extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xT();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const p=PT(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>m0(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>m0(n,s)))}}class dg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return KI})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new dg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,qe;function lC(i){switch(i){case $.OK:return we(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function kT(i){if(i===void 0)return ci("GRPC error has no .code"),$.UNKNOWN;switch(i){case At.OK:return $.OK;case At.CANCELLED:return $.CANCELLED;case At.UNKNOWN:return $.UNKNOWN;case At.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case At.INTERNAL:return $.INTERNAL;case At.UNAVAILABLE:return $.UNAVAILABLE;case At.UNAUTHENTICATED:return $.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case At.NOT_FOUND:return $.NOT_FOUND;case At.ALREADY_EXISTS:return $.ALREADY_EXISTS;case At.PERMISSION_DENIED:return $.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case At.ABORTED:return $.ABORTED;case At.OUT_OF_RANGE:return $.OUT_OF_RANGE;case At.UNIMPLEMENTED:return $.UNIMPLEMENTED;case At.DATA_LOSS:return $.DATA_LOSS;default:return we(39323,{code:i})}}(qe=At||(At={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new es([4294967295,4294967295],0);function y0(i){const e=uC().encode(i),n=new $E;return n.update(e),new Uint8Array(n.digest())}function _0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class fg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(cC)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new fg(u,o,n);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=y0(e),[s,o]=_0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new zh(Re.min(),o,new ht(Ve),hi(),ke())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class LT{constructor(e,n){this.targetId=e,this.Ce=n}}class UT{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class v0{constructor(){this.ve=0,this.Fe=E0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=E0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hC{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=Kc(),this.He=Kc(),this.Ye=new ht(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(s===0){const d=new ye(u.path);this.et(n,d,nn.newNoDocument(d,Re.min()))}else Ye(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=ss(s).toUint8Array()}catch(p){if(p instanceof lT)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new fg(d,o,u)}catch(p){return uo(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const m=this.ot(d);if(m){if(u.current&&Im(m.target)){const p=new ye(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,nn.newNoDocument(p,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,d)=>{let m=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new zh(e,n,this.Ye,this.je,s);return this.je=hi(),this.Je=Kc(),this.He=Kc(),this.Ye=new ht(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ht(ye.comparator)}function E0(){return new ht(ye.comparator)}const dC={asc:"ASCENDING",desc:"DESCENDING"},fC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mC={and:"AND",or:"OR"};class gC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(i,e){return i.useProto3Json||Mh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function pC(i,e){return bh(i,e.toTimestamp())}function br(i){return Ye(!!i,49232),Re.fromTimestamp((function(n){const s=is(n);return new ot(s.seconds,s.nanos)})(i))}function mg(i,e){return Om(i,e).canonicalString()}function Om(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function zT(i){const e=at.fromString(i);return Ye(GT(e),10190,{key:e.toString()}),e}function Pm(i,e){return mg(i.databaseId,e.path)}function lm(i,e){const n=zT(e);if(n.get(1)!==i.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(qT(n))}function BT(i,e){return mg(i.databaseId,e)}function yC(i){const e=zT(i);return e.length===4?at.emptyPath():qT(e)}function Mm(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qT(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function T0(i,e,n){return{name:Pm(i,e),fields:n.value.mapValue.fields}}function _C(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ye(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Ye(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:kT(y.code);return new oe(T,y.message||"")})(d);n=new UT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(i,s.document.name),u=br(s.document.updateTime),d=s.document.createTime?br(s.document.createTime):Re.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new sh(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(i,s.document),u=s.readTime?br(s.readTime):Re.min(),d=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(i,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new oC(o,u),m=s.targetId;n=new LT(m,d)}}return n}function vC(i,e){let n;if(e instanceof fu)n={update:T0(i,e.key,e.value)};else if(e instanceof VT)n={delete:Pm(i,e.key)};else if(e instanceof hs)n={update:T0(i,e.key,e.data),updateMask:IC(e.fieldMask)};else{if(!(e instanceof iC))return we(16599,{Vt:e.type});n={verify:Pm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const m=d.transform;if(m instanceof Th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:pC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(i,e.precondition)),n}function EC(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?br(o.updateTime):br(u);return d.isEqual(Re.min())&&(d=br(u)),new tC(d,o.transformResults||[])})(n,e)))):[]}function TC(i,e){return{documents:[BT(i,e.path)]}}function wC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=BT(i,o);const u=(function(y){if(y.length!==0)return FT(Wn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(A){return{field:Wa(A.field),direction:SC(A.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Dm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function bC(i){let e=yC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(R){const A=HT(R);return A instanceof Wn&&_T(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(R){return R.map((A=>(function(B){return new Eh(Za(B.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(R){let A;return A=typeof R=="object"?R.value:R,Mh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(R){const A=!!R.before,k=R.values||[];return new vh(k,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(R){const A=!R.before,k=R.values||[];return new vh(k,A)})(n.endAt)),qI(e,o,d,u,m,"F",p,y)}function AC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(n.unaryFilter.field);return St.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return St.create(Za(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Wn.create(n.compositeFilter.filters.map((s=>HT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function SC(i){return dC[i]}function RC(i){return fC[i]}function xC(i){return mC[i]}function Wa(i){return{fieldPath:i.canonicalString()}}function Za(i){return Kt.fromServerFormat(i.fieldPath)}function FT(i){return i instanceof St?(function(n){if(n.op==="=="){if(l0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(o0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(o0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:RC(n.op),value:n.value}}})(i):i instanceof Wn?(function(n){const s=n.getFilters().map((o=>FT(o)));return s.length===1?s[0]:{compositeFilter:{op:xC(n.op),filters:s}}})(i):we(54877,{filter:i})}function IC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s,o,u=Re.min(),d=Re.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.yt=e}}function NC(i){const e=bC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Cn=new OC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(rs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class OC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(QT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LruGarbageCollector",PC=1048576;function A0([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class MC{constructor(e){this.Ir=e,this.buffer=new Mt(A0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();A0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(b0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ue(b0,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class kC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Ph.ce);const s=new MC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(w0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,d,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(s=R,m=Date.now(),this.removeTargets(e,s,n)))).next((R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(y=Date.now(),Xa()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function LC(i,e){return new kC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Sn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=zl();return u.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,s,o){let u=hi();const d=Yl(),m=(function(){return Yl()})();return n.forEach(((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof hs)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Xl(T.mutation,y,T.mutation.getFieldMask(),ot.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>m.set(y,new jC(T,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new ht(((d,m)=>d-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Sn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const R=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,R)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,R=xT();T.forEach((A=>{if(!u.has(A)){const k=PT(n.get(A),s.get(A));k!==null&&R.set(A,k),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,R))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Xs());let m=Zl,p=u;return d.next((y=>Z.forEach(y,((T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ke()))).next((T=>({batchId:m,changes:RT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(p=>{const y=(function(R,A){return new du(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((R,A)=>{d=d.insert(R,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let m=zl();return d.forEach(((p,y)=>{const T=u.get(p);T!==void 0&&Xl(T.mutation,y,Sn.empty(),ot.now()),Lh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:NC(o.bundledQuery),readTime:br(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,d=new ye(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Xs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new aC(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sC(u,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const m=this.Xr(d.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ve);return n.forEach((o=>{const u=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(m=>{s=s.add(m.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const d=new zt(new ye(u),0);let m=new Mt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),d),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=hi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hi();const d=n.path,m=new ye(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||EI(vI(T),s)<=0||(o.has(T.key)||Lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}ii(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new QC(this)}getSize(e){return Z.resolve(this.size)}}class QC extends UC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.persistence=e,this.si=new na((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new HC,this.referenceDelegate=e(this),this.Pi=new KC(this),this.indexManager=new DC,this.remoteDocumentCache=(function(o){return new GC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CC(n),this.Ii=new BC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new YC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class YC extends wI{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new na((s=>SI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=LC(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(s++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ES()?8:bI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new XC;return this.Ss(e,n,d).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Xa()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xa()<=Me.DEBUG&&ue("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Xa()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):Z.resolve())}ys(e,n){if(d0(n))return Z.resolve(null);let s=Tr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=ke(...u);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,d,p.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return d0(n)||o.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,o)?Z.resolve(null):(Xa()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(e,d,n,_I(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new Mt(AT(e));return n.forEach(((o,u)=>{Lh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",WC=3e8;class ZC{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ve),this.xs=new na((u=>lg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JC(i,e,n,s){return new ZC(i,e,n,s)}async function YT(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],m=[];let p=ke();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function e2(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,T){const R=y.batch,A=R.keys();let k=Z.resolve();return A.forEach((B=>{k=k.next((()=>T.getEntry(p,B))).next((Y=>{const G=y.docVersions.get(B);Ye(G!==null,48541),Y.version.compareTo(G)<0&&(R.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),T.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,R)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function XT(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function t2(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,R)=>{const A=o.get(R);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,R))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(R,k),(function(Y,G,ne){return Y.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=WC?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,k,T)&&m.push(n.Pi.updateTargetData(u,k))}));let p=hi(),y=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(n2(u,d,e.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(Re.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((R=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return Z.waitFor(m).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function n2(i,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=hi();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):ue(_g,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function r2(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function i2(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new Xi(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Vm(i,e,n){const s=xe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!To(d))throw d;ue(_g,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function S0(i,e,n){const s=xe(i);let o=Re.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,T){const R=xe(p),A=R.xs.get(T);return A!==void 0?Z.resolve(R.Ms.get(A)):R.Pi.getTargetData(y,T)})(s,d,Tr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?u:ke()))).next((m=>(s2(s,FI(e),m),{documents:m,Qs:u})))))}function s2(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class R0{constructor(){this.activeTargetIds=$I()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a2{constructor(){this.Mo=new R0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class I0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function km(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",l2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const d=km(),m=this.zo(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),T=po(y);return this.Jo(e,m,p,s,T).then((R=>(ue(um,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw uo(um,`RPC '${e}' ${d} failed with error: `,R,"url: ",m,"request:",s),R}))}Ho(e,n,s,o,u,d){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=l2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class h2 extends u2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=km();return new Promise(((m,p)=>{const y=new WE;y.setWithCredentials(!0),y.listenOnce(ZE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const R=y.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),m(R);break;case th.TIMEOUT:ue(Jt,`RPC '${e}' ${d} timed out`),p(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const A=y.getStatus();if(ue(Jt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k==null?void 0:k.error;if(B&&B.status&&B.message){const Y=(function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(re)>=0?re:$.UNKNOWN})(B.status);p(new oe(Y,B.message))}else p(new oe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe($.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ue(Jt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tT(),m=eT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const R=d.createWebChannel(T,p);this.I_(R);let A=!1,k=!1;const B=new c2({Yo:G=>{k?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),A=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,G),R.send(G))},Zo:()=>R.close()}),Y=(G,ne,re)=>{G.listen(ne,(ie=>{try{re(ie)}catch(me){setTimeout((()=>{throw me}),0)}}))};return Y(R,jl.EventType.OPEN,(()=>{k||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Y(R,jl.EventType.CLOSE,(()=>{k||(k=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(R))})),Y(R,jl.EventType.ERROR,(G=>{k||(k=!0,uo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),B.a_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),Y(R,jl.EventType.MESSAGE,(G=>{var ne;if(!k){const re=G.data[0];Ye(!!re,16349);const ie=re,me=(ie==null?void 0:ie.error)||((ne=ie[0])==null?void 0:ne.error);if(me){ue(Jt,`RPC '${e}' stream ${o} received error:`,me);const he=me.status;let _e=(function(x){const D=At[x];if(D!==void 0)return kT(D)})(he),N=me.message;_e===void 0&&(_e=$.INTERNAL,N="Unknown error status: "+he+" with message "+me.message),k=!0,B.a_(new oe(_e,N)),R.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,re),B.u_(re)}})),Y(m,JE.STAT_EVENT,(G=>{G.stat===bm.PROXY?ue(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===bm.NOPROXY&&ue(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){return new gC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="PersistentStream";class WT{constructor(e,n,s,o,u,d,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $T(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(C0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(C0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d2 extends WT{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_C(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?br(d.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,d){let m;const p=d.target;if(m=Im(p)?{documents:TC(u,p)}:{query:wC(u,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=jT(u,d.resumeToken);const y=Dm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=bh(u,d.snapshotVersion.toTimestamp());const y=Dm(u,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=AC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.q_(n)}}class f2 extends WT{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=EC(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>vC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class g2 extends m2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Om(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe($.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,Om(n,s),o,d,m,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class y2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ra(this)&&(ue(ta,"Restarting streams for network reachability change."),await(async function(p){const y=xe(p);y.Ea.add(4),await gu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await qh(y)})(this))}))})),this.Ra=new p2(s,o)}}async function qh(i){if(ra(i))for(const e of i.da)await e(!0)}async function gu(i){for(const e of i.da)await e(!1)}function ZT(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wg(n)?Tg(n):wo(n).O_()&&Eg(n,e))}function vg(i,e){const n=xe(i),s=wo(n);n.Ia.delete(e),s.O_()&&JT(n,e),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function Eg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(i).Y_(e)}function JT(i,e){i.Va.Ue(e),wo(i).Z_(e)}function Tg(i){i.Va=new hC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),wo(i).start(),i.Ra.ua()}function wg(i){return ra(i)&&!wo(i).x_()&&i.Ia.size>0}function ra(i){return xe(i).Ea.size===0}function ew(i){i.Va=void 0}async function _2(i){i.Ra.set("Online")}async function v2(i){i.Ia.forEach(((e,n)=>{Eg(i,e)}))}async function E2(i,e){ew(i),wg(i)?(i.Ra.ha(e),Tg(i)):i.Ra.set("Unknown")}async function T2(i,e,n){if(i.Ra.set("Online"),e instanceof UT&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(i,s)}else if(e instanceof sh?i.Va.Ze(e):e instanceof LT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await XT(i.localStore);n.compareTo(s)>=0&&await(function(u,d){const m=u.Va.Tt(d);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,y)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),JT(u,p);const R=new Xi(T.target,p,y,T.sequenceNumber);Eg(u,R)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(ta,"Failed to raise snapshot:",s),await Sh(i,s)}}async function Sh(i,e,n){if(!To(e))throw e;i.Ea.add(1),await gu(i),i.Ra.set("Offline"),n||(n=()=>XT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(ta,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await qh(i)}))}function tw(i,e){return e().catch((n=>Sh(i,n,e)))}async function Hh(i){const e=xe(i),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;w2(e);)try{const o=await r2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,b2(e,o)}catch(o){await Sh(e,o)}nw(e)&&rw(e)}function w2(i){return ra(i)&&i.Ta.length<10}function b2(i,e){i.Ta.push(e);const n=os(i);n.O_()&&n.X_&&n.ea(e.mutations)}function nw(i){return ra(i)&&!os(i).x_()&&i.Ta.length>0}function rw(i){os(i).start()}async function A2(i){os(i).ra()}async function S2(i){const e=os(i);for(const n of i.Ta)e.ea(n.mutations)}async function R2(i,e,n){const s=i.Ta.shift(),o=dg.from(s,e,n);await tw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Hh(i)}async function x2(i,e){e&&os(i).X_&&await(async function(s,o){if((function(d){return lC(d)&&d!==$.ABORTED})(o.code)){const u=s.Ta.shift();os(s).B_(),await tw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Hh(s)}})(i,e),nw(i)&&rw(i)}async function N0(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ue(ta,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function I2(i,e){const n=xe(i);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function wo(i){return i.ma||(i.ma=(function(n,s,o){const u=xe(n);return u.sa(),new d2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:_2.bind(null,i),t_:v2.bind(null,i),r_:E2.bind(null,i),H_:T2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),wg(i)?Tg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ew(i))}))),i.ma}function os(i){return i.fa||(i.fa=(function(n,s,o){const u=xe(n);return u.sa(),new f2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:A2.bind(null,i),r_:x2.bind(null,i),ta:S2.bind(null,i),na:R2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Hh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(ta,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,m=new bg(e,n,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ag(i,e){if(ci("AsyncQueue",`${e}: ${i}`),To(i))return new oe($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,d,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new go(e,n,io.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N2{constructor(){this.queries=O0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=O0(),u.forEach(((d,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function O0(){return new na((i=>bT(i)),kh)}async function iw(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new C2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=Ag(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function sw(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function D2(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&Sg(n)}function O2(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Sg(i){i.Ca.forEach((e=>{e.next()}))}var Lm,P0;(P0=Lm||(Lm={})).Ma="default",P0.Cache="cache";class aw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class P2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=AT(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new D0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,R)=>{const A=o.get(T),k=Lh(this.query,R)?R:null,B=!!A&&this.mutatedKeys.has(A.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;A&&k?A.data.isEqual(k.data)?B!==Y&&(s.track({type:3,doc:k}),G=!0):this.su(A,k)||(s.track({type:2,doc:k}),G=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),G=!0):A&&!k&&(s.track({type:1,doc:A}),G=!0,(p||y)&&(m=!0)),G&&(k?(d=d.add(k),u=Y?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,R)=>(function(k,B){const Y=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:G})}};return Y(k)-Y(B)})(T.type,R.type)||this.eu(T.doc,R.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new go(this.query,e.tu,u,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new lw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new ow(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class M2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class V2{constructor(e){this.key=e,this.hu=!1}}class k2{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new na((m=>bT(m)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L2(i,e,n=!0){const s=mw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await uw(s,e,n,!0),o}async function U2(i,e){const n=mw(i);await uw(n,e,!0,!1)}async function uw(i,e,n,s){const o=await i2(i.localStore,Tr(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await j2(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&ZT(i.remoteStore,o),m}async function j2(i,e,n,s,o){i.pu=(R,A,k)=>(async function(Y,G,ne,re){let ie=G.view.ru(ne);ie.Cs&&(ie=await S0(Y.localStore,G.query,!1).then((({documents:N})=>G.view.ru(N,ie))));const me=re&&re.targetChanges.get(G.targetId),he=re&&re.targetMismatches.get(G.targetId)!=null,_e=G.view.applyChanges(ie,Y.isPrimaryClient,me,he);return V0(Y,G.targetId,_e.au),_e.snapshot})(i,R,A,k);const u=await S0(i.localStore,e,!0),d=new P2(e,u.Qs),m=d.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,p);V0(i,n,y.au);const T=new M2(e,n,d);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function z2(i,e,n){const s=xe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!kh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vg(s.remoteStore,o.targetId),Um(s,o.targetId)})).catch(Eo)):(Um(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function B2(i,e){const n=xe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vg(n.remoteStore,s.targetId))}async function q2(i,e,n){const s=X2(i);try{const o=await(function(d,m){const p=xe(d),y=ot.now(),T=m.reduce(((k,B)=>k.add(B.key)),ke());let R,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=hi(),Y=ke();return p.Ns.getEntries(k,T).next((G=>{B=G,B.forEach(((ne,re)=>{re.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,B))).next((G=>{R=G;const ne=[];for(const re of m){const ie=rC(re,R.get(re.key).overlayedDocument);ie!=null&&ne.push(new hs(re.key,ie,gT(ie.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,ne,m)})).next((G=>{A=G;const ne=G.applyToLocalDocumentSet(R,Y);return p.documentOverlayCache.saveOverlays(k,G.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:RT(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ht(Ve)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=Ag(o,"Failed to persist write");n.reject(u)}}async function cw(i,e){const n=xe(i);try{const s=await t2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ye(d.hu,14607):o.removedDocuments.size>0&&(Ye(d.hu,42227),d.hu=!1))})),await pu(n,s,e)}catch(s){await Eo(s)}}function M0(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const p=xe(d);p.onlineState=m;let y=!1;p.queries.forEach(((T,R)=>{for(const A of R.Sa)A.va(m)&&(y=!0)})),y&&Sg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function H2(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new ht(ye.comparator);d=d.insert(u,nn.newNoDocument(u,Re.min()));const m=ke().add(u),p=new zh(Re.min(),new Map,new ht(Ve),d,m);await cw(s,p),s.du=s.du.remove(u),s.Au.delete(e),xg(s)}else await Vm(s.localStore,e,!1).then((()=>Um(s,e,n))).catch(Eo)}async function F2(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await e2(n.localStore,e);dw(n,s,null),hw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Eo(o)}}async function G2(i,e,n){const s=xe(i);try{const o=await(function(d,m){const p=xe(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next((R=>(Ye(R!==null,37113),T=R.keys(),p.mutationQueue.removeMutationBatch(y,R)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);dw(s,e,n),hw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await Eo(o)}}function hw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function dw(i,e,n){const s=xe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Um(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||fw(i,s)}))}function fw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(vg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),xg(i))}function V0(i,e,n){for(const s of n)s instanceof ow?(i.Ru.addReference(s.key,e),Q2(i,s)):s instanceof lw?(ue(Rg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||fw(i,s.key)):we(19791,{wu:s})}function Q2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(Rg,"New document in limbo: "+n),i.Eu.add(s),xg(i))}function xg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(at.fromString(e)),s=i.fu.next();i.Au.set(s,new V2(n)),i.du=i.du.insert(n,s),ZT(i.remoteStore,new Xi(Tr(cg(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function pu(i,e,n){const s=xe(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{d.push(s.pu(p,e,n).then((y=>{var T;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=yg.As(p.targetId,y);u.push(R)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,y){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>Z.forEach(y,(A=>Z.forEach(A.Es,(k=>T.persistence.referenceDelegate.addReference(R,A.targetId,k))).next((()=>Z.forEach(A.ds,(k=>T.persistence.referenceDelegate.removeReference(R,A.targetId,k)))))))))}catch(R){if(!To(R))throw R;ue(_g,"Failed to update sequence numbers: "+R)}for(const R of y){const A=R.targetId;if(!R.fromCache){const k=T.Ms.get(A),B=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(B);T.Ms=T.Ms.insert(A,Y)}}})(s.localStore,u))}async function K2(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ue(Rg,"User change. New user:",e.toKey());const s=await YT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe($.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function Y2(i,e){const n=xe(i),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function mw(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H2.bind(null,e),e.Pu.H_=D2.bind(null,e.eventManager),e.Pu.yu=O2.bind(null,e.eventManager),e}function X2(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JC(this.persistence,new $C,e.initialUser,this.serializer)}Cu(e){return new KT(pg.mi,this.serializer)}Du(e){return new a2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class $2 extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new KT((s=>Ah.mi(s,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),await I2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N2})()}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),s=(function(u){return new h2(u)})(e.databaseInfo);return(function(u,d,m,p){return new g2(u,d,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,d,m){return new y2(s,o,u,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>M0(this.syncEngine,n,0)),(function(){return I0.v()?new I0:new o2})())}createSyncEngine(e,n){return(function(o,u,d,m,p,y,T){const R=new k2(o,u,d,m,p,y);return T&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=xe(o);ue(ta,"RemoteStore shutting down."),u.Ea.add(5),await gu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class W2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ue(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ue(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ag(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function hm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ls,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await YT(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function k0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await Z2(i);ue(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>N0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>N0(e.remoteStore,o))),i._onlineComponents=e}async function Z2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ls,"Using user provided OfflineComponentProvider");try{await hm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await hm(i,new Rh)}}else ue(ls,"Using default OfflineComponentProvider"),await hm(i,new $2(void 0));return i._offlineComponents}async function pw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ls,"Using user provided OnlineComponentProvider"),await k0(i,i._uninitializedComponentsProvider._online)):(ue(ls,"Using default OnlineComponentProvider"),await k0(i,new jm))),i._onlineComponents}function J2(i){return pw(i).then((e=>e.syncEngine))}async function yw(i){const e=await pw(i),n=e.eventManager;return n.onListen=L2.bind(null,e.syncEngine),n.onUnlisten=z2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=U2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=B2.bind(null,e.syncEngine),n}function eN(i,e,n={}){const s=new ai;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,m,p,y){const T=new gw({next:A=>{T.Nu(),d.enqueueAndForget((()=>sw(u,R)));const k=A.docs.has(m);!k&&A.fromCache?y.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),R=new aw(cg(m.path),T,{includeMetadataChanges:!0,qa:!0});return iw(u,R)})(await yw(i),i.asyncQueue,e,n,s))),s.promise}function tN(i,e,n={}){const s=new ai;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,m,p,y){const T=new gw({next:A=>{T.Nu(),d.enqueueAndForget((()=>sw(u,R))),A.fromCache&&p.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),R=new aw(m,T,{includeMetadataChanges:!0,qa:!0});return iw(u,R)})(await yw(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firestore.googleapis.com",U0=!0;class j0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vw,this.ssl=U0}else this.host=e.host,this.ssl=e.ssl??U0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oI;switch(s.type){case"firstParty":return new hI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=L0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),L0.delete(n),s.terminate())})(this),Promise.resolve()}}function nN(i,e,n,s={}){var y;i=ns(i,Fh);const o=po(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(aE(`https://${m}`),oE("Firestore",!0)),u.host!==vw&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,d)&&(i._setSettings(p),s.mockUserToken)){let T,R;if(typeof s.mockUserToken=="string")T=s.mockUserToken,R=tn.MOCK_USER;else{T=hS(s.mockUserToken,(y=i._app)==null?void 0:y.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new oe($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new tn(A)}i._authCredentials=new lI(new rT(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,xt._jsonSchema))return new xt(e,s||null,new ye(at.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Rt("string",xt._jsonSchemaVersion),referencePath:Rt("string")};class ts extends bo{constructor(e,n,s){super(e,n,cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ye(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function di(i,e,...n){if(i=It(i),iT("collection","path",e),i instanceof Fh){const s=at.fromString(e,...n);return Zv(s),new ts(i,null,s)}{if(!(i instanceof xt||i instanceof ts))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Zv(s),new ts(i.firestore,null,s)}}function Ig(i,e,...n){if(i=It(i),arguments.length===1&&(e=ig.newId()),iT("doc","path",e),i instanceof Fh){const s=at.fromString(e,...n);return Wv(s),new xt(i,null,new ye(s))}{if(!(i instanceof xt||i instanceof ts))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return Wv(s),new xt(i.firestore,i instanceof ts?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="AsyncQueue";class B0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $T(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&ue(z0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(z0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class yu extends Fh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new B0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B0(e),this._firestoreClient=void 0,await e}}}function rN(i,e){const n=typeof i=="object"?i:hE(),s=typeof i=="string"?i:yh,o=Qm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uS("firestore");u&&nN(o,...u)}return o}function Cg(i){if(i._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iN(i),i._firestoreClient}function iN(i){var s,o,u;const e=i._freezeSettings(),n=(function(m,p,y,T){return new II(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,_w(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new W2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Yt.fromBase64String(e))}catch(n){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Rt("string",jn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:Rt("string",Ar._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Sr(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:Rt("string",Sr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^__.*__$/;class aN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class Ew{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Dg{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tw(this.Ac)&&sN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Bh(e)}Cc(e,n,s,o=!1){return new Dg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(i){const e=i._freezeSettings(),n=Bh(i._databaseId);return new oN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function lN(i,e,n,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Pg("Data must be an object, but it was:",d,s);const m=ww(s,d);let p,y;if(u.merge)p=new Sn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const R of u.mergeFields){const A=zm(e,R,n);if(!d.contains(A))throw new oe($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Aw(T,A)||T.push(A)}p=new Sn(T),y=d.fieldTransforms.filter((R=>p.covers(R.field)))}else p=null,y=d.fieldTransforms;return new aN(new gn(m),p,y)}class Qh extends Ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function uN(i,e,n,s){const o=i.Cc(1,e,n);Pg("Data must be an object, but it was:",o,s);const u=[],d=gn.empty();cs(s,((p,y)=>{const T=Mg(e,p,n);y=It(y);const R=o.yc(T);if(y instanceof Qh)u.push(T);else{const A=_u(y,R);A!=null&&(u.push(T),d.set(T,A))}}));const m=new Sn(u);return new Ew(d,m,o.fieldTransforms)}function cN(i,e,n,s,o,u){const d=i.Cc(1,e,n),m=[zm(e,s,n)],p=[o];if(u.length%2!=0)throw new oe($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(zm(e,u[A])),p.push(u[A+1]);const y=[],T=gn.empty();for(let A=m.length-1;A>=0;--A)if(!Aw(y,m[A])){const k=m[A];let B=p[A];B=It(B);const Y=d.yc(k);if(B instanceof Qh)y.push(k);else{const G=_u(B,Y);G!=null&&(y.push(k),T.set(k,G))}}const R=new Sn(y);return new Ew(T,R,d.fieldTransforms)}function hN(i,e,n,s=!1){return _u(n,i.Cc(s?4:3,e))}function _u(i,e){if(bw(i=It(i)))return Pg("Unsupported field value:",e,i),ww(i,e);if(i instanceof Ng)return(function(s,o){if(!Tw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const m of s){let p=_u(m,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ar)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:jT(o.serializer,s._byteString)};if(s instanceof xt){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Sr)return(function(d,m){return{mapValue:{fields:{[fT]:{stringValue:mT},[_h]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return hg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Oh(s)}`)})(i,e)}function ww(i,e){const n={};return oT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(i,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof Ar||i instanceof jn||i instanceof xt||i instanceof Ng||i instanceof Sr)}function Pg(i,e,n){if(!bw(n)||!sT(n)){const s=Oh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function zm(i,e,n){if((e=It(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Mg(i,e);throw xh("Field path arguments must be of type string or ",i,!1,void 0,n)}const dN=new RegExp("[~\\*/\\[\\]]");function Mg(i,e,n){if(e.search(dN)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function xh(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new oe($.INVALID_ARGUMENT,m+i+p)}function Aw(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fN extends Sw{data(){return super.data()}}function Vg(i,e){return typeof e=="string"?Mg(i,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class gN extends kg{}function vu(i,e,...n){let s=[];e instanceof kg&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((p=>p instanceof Lg)).length,m=u.filter((p=>p instanceof Kh)).length;if(d>1||d>0&&m>0)throw new oe($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Kh extends gN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kh(e,n,s)}_apply(e){const n=this._parse(e);return Rw(e._query,n),new bo(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=Og(e.firestore);return(function(u,d,m,p,y,T,R){let A;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){F0(R,T);const B=[];for(const Y of R)B.push(H0(p,u,Y));A={arrayValue:{values:B}}}else A=H0(p,u,R)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||F0(R,T),A=hN(m,d,R,T==="in"||T==="not-in");return St.create(y,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fi(i,e,n){const s=e,o=Vg("where",i);return Kh._create(o,s,n)}class Lg extends kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const m=u.getFlattenedFilters();for(const p of m)Rw(d,p),d=Cm(d,p)})(e._query,n),new bo(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function H0(i,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new oe($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(e)&&n.indexOf("/")!==-1)throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ye.isDocumentKey(s))throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a0(i,new ye(s))}if(n instanceof xt)return a0(i,n._key);throw new oe($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function F0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rw(i,e){const n=(function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pN{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[_h].arrayValue)==null?void 0:o.values)==null?void 0:u.map((d=>_t(d.doubleValue)));return new Sr(n)}convertGeoPoint(e){return new Ar(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=is(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ye(GT(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends Sw{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:Rt("string",$s._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class ah extends $s{data(e={}){return super.data(e)}}class so{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:_N(m.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _N(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){i=ns(i,xt);const e=ns(i.firestore,yu);return eN(Cg(e),i._key).then((n=>EN(e,i,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Rt("string",so._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Iw extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function Ao(i){i=ns(i,bo);const e=ns(i.firestore,yu),n=Cg(e),s=new Iw(e);return mN(i._query),tN(n,i._query).then((o=>new so(e,s,i,o)))}function vN(i,e,n,...s){i=ns(i,xt);const o=ns(i.firestore,yu),u=Og(o);let d;return d=typeof(e=It(e))=="string"||e instanceof Gh?cN(u,"updateDoc",i._key,e,n,s):uN(u,"updateDoc",i._key,e),Nw(o,[d.toMutation(i._key,wr.exists(!0))])}function Cw(i,e){const n=ns(i.firestore,yu),s=Ig(i),o=yN(i.converter,e);return Nw(n,[lN(Og(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,wr.exists(!1))]).then((()=>s))}function Nw(i,e){return(function(s,o){const u=new ai;return s.asyncQueue.enqueueAndForget((async()=>q2(await J2(s),o,u))),u.promise})(Cg(i),e)}function EN(i,e,n){const s=n.docs.get(e._key),o=new Iw(i);return new $s(i,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){vo=o})(yo),oo(new Zs("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new yu(new uI(s.getProvider("auth-internal")),new dI(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(y.options.projectId,T)})(d,o),d);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ji(Kv,Yv,e),Ji(Kv,Yv,"esm2020")})();const TN={apiKey:"AIzaSyCDZJqOx5eXpu3cD_FBJ8oi-hYvLCpbDXE",authDomain:"verdadreto-bec6a.firebaseapp.com",projectId:"verdadreto-bec6a",storageBucket:"verdadreto-bec6a.firebasestorage.app",messagingSenderId:"938969209658",appId:"1:938969209658:web:534282f57a8ff381c00e03"},Dw=cE(TN),xr=rN(Dw),Zn=rI(Dw),Ow=new ri;Ow.setCustomParameters({prompt:"select_account"});const So=i=>({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,isAnonymous:i.isAnonymous,emailVerified:i.emailVerified}),Pw=async()=>{try{const i=await dx(Zn,Ow);return So(i.user)}catch(i){throw console.error("Error al iniciar sesión con Google:",i),new Error(i.message||"Error al iniciar sesión con Google")}},Mw=async(i,e)=>{try{const n=await zR(Zn,i,e);return So(n.user)}catch(n){throw console.error("Error al iniciar sesión:",n),new Error(jg(n.code))}},Vw=async(i,e,n)=>{try{const s=await jR(Zn,i,e);return n&&await qR(s.user,{displayName:n}),await UE(s.user),So(s.user)}catch(s){throw console.error("Error al registrarse:",s),new Error(jg(s.code))}},kw=async()=>{try{const i=await MR(Zn);return So(i.user)}catch(i){throw console.error("Error al iniciar sesión anónima:",i),new Error("Error al iniciar sesión anónima")}},wN=async()=>{try{await QR(Zn)}catch(i){throw console.error("Error al cerrar sesión:",i),new Error("Error al cerrar sesión")}},Lw=async i=>{try{await UR(Zn,i)}catch(e){throw console.error("Error al enviar email de restablecimiento:",e),new Error(jg(e.code))}},Uw=async()=>{try{if(Zn.currentUser)await UE(Zn.currentUser);else throw new Error("No hay usuario autenticado")}catch(i){throw console.error("Error al reenviar verificación:",i),new Error("Error al reenviar verificación de email")}},jw=i=>GR(Zn,e=>{i(e?So(e):null)}),Ug=()=>Zn.currentUser?So(Zn.currentUser):null,Bm=()=>{const i=Ug();return i!==null&&!i.isAnonymous&&i.emailVerified},jg=i=>{switch(i){case"auth/user-not-found":return"No existe una cuenta con este email";case"auth/wrong-password":return"Contraseña incorrecta";case"auth/email-already-in-use":return"Ya existe una cuenta con este email";case"auth/weak-password":return"La contraseña debe tener al menos 6 caracteres";case"auth/invalid-email":return"Email inválido";case"auth/too-many-requests":return"Demasiados intentos fallidos. Intenta más tarde";case"auth/network-request-failed":return"Error de conexión. Verifica tu internet";default:return"Error de autenticación. Intenta nuevamente"}},bN=Object.freeze(Object.defineProperty({__proto__:null,canPurchase:Bm,getCurrentUser:Ug,logout:wN,onAuthStateChange:jw,registerWithEmail:Vw,resendEmailVerification:Uw,resetPassword:Lw,signInAnonymous:kw,signInWithEmail:Mw,signInWithGoogle:Pw},Symbol.toStringTag,{value:"Module"})),zw=le.createContext(void 0),AN=({children:i})=>{const[e,n]=le.useState({user:null,isLoading:!0,isAuthenticated:!1});le.useEffect(()=>{const m=jw(p=>{n({user:p,isLoading:!1,isAuthenticated:p!==null&&!p.isAnonymous})});return()=>m()},[]);const d={...e,login:()=>{},logout:async()=>{try{const{logout:m}=await W0(async()=>{const{logout:p}=await Promise.resolve().then(()=>bN);return{logout:p}},void 0,import.meta.url);await m()}catch(m){console.error("Error al cerrar sesión:",m)}},refreshUser:()=>{const m=Ug();n(p=>({...p,user:m,isAuthenticated:m!==null&&!m.isAnonymous}))}};return E.jsx(zw.Provider,{value:d,children:i})},zg=()=>{const i=le.useContext(zw);if(i===void 0)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return i},us={PURCHASED_PACKS:"verdad_reto_purchased_packs",CACHED_GAME_ITEMS:"verdad_reto_cached_items",CACHED_CATEGORIES:"verdad_reto_cached_categories",CACHE_PERMISSION:"verdad_reto_cache_permission",LAST_SYNC:"verdad_reto_last_sync"},SN=()=>{const i=localStorage.getItem(us.CACHE_PERMISSION);if(i==="granted")return!0;if(i==="denied")return!1;const e=window.confirm(`¿Deseas permitir que la aplicación guarde los packs comprados localmente para poder jugar sin conexión?

Esto mejorará tu experiencia permitiéndote acceder a tus packs incluso sin internet.`);return localStorage.setItem(us.CACHE_PERMISSION,e?"granted":"denied"),e},iu=()=>localStorage.getItem(us.CACHE_PERMISSION)==="granted",RN=async(i,e,n)=>{if(!iu()){console.log("Cache permission not granted, skipping cache");return}try{const s={pack:i,gameData:{items:e,categories:n,timestamp:Date.now()},timestamp:Date.now()},o=Bg();o[i.id]=s,localStorage.setItem(us.PURCHASED_PACKS,JSON.stringify(o)),localStorage.setItem(us.LAST_SYNC,Date.now().toString()),console.log(`Pack ${i.name} cached successfully`)}catch(s){console.error("Error caching pack:",s)}},Bg=()=>{try{const i=localStorage.getItem(us.PURCHASED_PACKS);return i?JSON.parse(i):{}}catch(i){return console.error("Error reading cached packs:",i),{}}},xN=i=>{if(!iu())return null;try{const e=Bg(),n=[],s=[];for(const o of i){const u=e[o];u&&(n.push(...u.gameData.items),s.push(...u.gameData.categories))}return n.length===0?null:{items:n,categories:[...new Set(s)]}}catch(e){return console.error("Error reading cached game data:",e),null}},IN=()=>{Object.values(us).forEach(i=>{localStorage.removeItem(i)}),console.log("Cache cleared successfully")},Bw=()=>{const i=Bg(),e=localStorage.getItem(us.LAST_SYNC);return{hasPermission:iu(),packsCount:Object.keys(i).length,lastSync:e?new Date(parseInt(e)):null,packs:Object.keys(i)}};var qw="basil",CN=function(e){return e===3?"v3":e},Hw="https://js.stripe.com",NN="".concat(Hw,"/").concat(qw,"/stripe.js"),DN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ON=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var PN=function(e){return DN.test(e)||ON.test(e)},MN=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Hw,'"]')),n=0;n<e.length;n++){var s=e[n];if(PN(s.src))return s}return null},G0=function(e){var n="",s=document.createElement("script");s.src="".concat(NN).concat(n);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(s),s},VN=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},Vl=null,Xc=null,$c=null,kN=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},LN=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},UN=function(e){return Vl!==null?Vl:(Vl=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var o=MN();if(!(o&&e)){if(!o)o=G0(e);else if(o&&$c!==null&&Xc!==null){var u;o.removeEventListener("load",$c),o.removeEventListener("error",Xc),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=G0(e)}}$c=LN(n,s),Xc=kN(s),o.addEventListener("load",$c),o.addEventListener("error",Xc)}catch(d){s(d);return}}),Vl.catch(function(n){return Vl=null,Promise.reject(n)}))},jN=function(e,n,s){if(e===null)return null;var o=n[0],u=o.match(/^pk_test/),d=CN(e.version),m=qw;u&&d!==m&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var p=e.apply(void 0,n);return VN(p,s),p},kl,Fw=!1,Gw=function(){return kl||(kl=UN(null).catch(function(e){return kl=null,Promise.reject(e)}),kl)};Promise.resolve().then(function(){return Gw()}).catch(function(i){Fw||console.warn(i)});var zN=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];Fw=!0;var o=Date.now();return Gw().then(function(u){return jN(u,n,o)})};const BN="pk_live_51S2dpMEamlsERKowyMSm4kgm11dMknJLyZGy9gZsIBBd3BQo3l9Vnn0TYKWcmuDtnq23YEsHo7FL69hGEM3UAboz00Onx53LCm";let dm=null;const qN=()=>(dm||(dm=zN(BN)),dm),Qw=async()=>{try{const i=await xw(Ig(xr,"config","stripe"));return i.exists()?i.data():null}catch(i){return console.error("Error obteniendo configuración de Stripe:",i),null}},HN=async(i,e,n)=>{try{if(!i.isPremium)throw new Error("Este pack no requiere pago");const s=await Qw();if(!s)throw new Error("Configuración de Stripe no disponible");const o=i.priceAmount||0,u=i.originalPriceAmount||i.priceAmount||0;console.log("Creando sesión de checkout:",{packId:i.id,originalAmount:u,finalAmount:o,hasDiscount:i.hasDiscount,discountReason:i.discountReason});const d=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packId:i.id,priceId:i.stripePriceId,userEmail:e,userId:n,successUrl:`${window.location.origin}${s.successUrl}&pack=${i.id}`,cancelUrl:`${window.location.origin}${s.cancelUrl}`,hasDiscount:i.hasDiscount,finalAmount:o,originalAmount:u,discountReason:i.discountReason})});if(!d.ok){const p=await d.json();throw new Error(p.error||"Error creando sesión de pago")}const m=await d.json();return{sessionId:m.id,url:m.url}}catch(s){throw console.error("Error creando sesión de checkout:",s),s}},FN=async(i,e,n)=>{try{const s=await qN();if(!s)throw new Error("Stripe no está disponible");const o=await HN(i,e,n);if(!o)throw new Error("No se pudo crear la sesión de pago");await GN({userId:n,packId:i.id,stripeSessionId:o.sessionId,purchaseDate:new Date,amount:i.priceAmount||0,currency:i.currency||"EUR",status:"pending",email:e});const{error:u}=await s.redirectToCheckout({sessionId:o.sessionId});if(u)throw new Error(u.message)}catch(s){throw console.error("Error redirigiendo a checkout:",s),s}},GN=async i=>{try{return(await Cw(di(xr,"userPurchases"),{...i,purchaseDate:i.purchaseDate.toISOString()})).id}catch(e){throw console.error("Error guardando compra pendiente:",e),e}},QN=async i=>{try{const e=vu(di(xr,"userPurchases"),fi("userId","==",i),fi("status","==","completed"));return(await Ao(e)).docs.map(s=>({id:s.id,...s.data(),purchaseDate:new Date(s.data().purchaseDate)}))}catch(e){return console.error("Error obteniendo compras del usuario:",e),[]}},Q0=async i=>{try{return(await QN(i)).map(n=>n.packId)}catch(e){return console.error("Error obteniendo packs comprados:",e),[]}},KN=({onClose:i})=>{const[e,n]=le.useState(null),[s,o]=le.useState(!1);le.useEffect(()=>{u()},[]);const u=()=>{const p=Bw();n(p)},d=async()=>{o(!0);try{SN()&&u()}finally{o(!1)}},m=()=>{window.confirm("¿Estás seguro de que quieres eliminar todos los datos guardados localmente?")&&(IN(),u())};return e?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Almacenamiento Local"}),E.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold mb-2",children:"Estado del Caché"}),E.jsxs("div",{className:"space-y-2 text-sm",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Permiso:"}),E.jsx("span",{className:`font-medium ${e.hasPermission?"text-green-600":"text-red-600"}`,children:e.hasPermission?"Activado":"Desactivado"})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Packs guardados:"}),E.jsx("span",{className:"font-medium",children:e.packsCount})]}),e.lastSync&&E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{children:"Última sincronización:"}),E.jsxs("span",{className:"font-medium text-xs",children:[e.lastSync.toLocaleDateString()," ",e.lastSync.toLocaleTimeString()]})]})]})]}),e.packsCount>0&&E.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold mb-2",children:"Packs Disponibles Sin Conexión"}),E.jsx("div",{className:"space-y-1 text-sm",children:e.packs.map(p=>E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),E.jsx("span",{className:"capitalize",children:p.replace("-"," ")})]},p))})]}),E.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[E.jsx("h3",{className:"font-semibold mb-2",children:"¿Qué es el almacenamiento local?"}),E.jsx("p",{className:"text-sm text-gray-700",children:"Permite guardar los packs que compres en tu dispositivo para poder jugar sin conexión a internet. Los datos se mantienen seguros en tu navegador."})]}),E.jsxs("div",{className:"flex flex-col space-y-2",children:[e.hasPermission?E.jsx("div",{className:"text-center text-green-600 font-medium",children:"✓ Almacenamiento local activado"}):E.jsx(Ge,{onClick:d,disabled:s,className:"w-full bg-green-600 hover:bg-green-700",children:s?"Procesando...":"Activar Almacenamiento Local"}),e.packsCount>0&&E.jsx(Ge,{onClick:m,className:"w-full bg-red-600 hover:bg-red-700",children:"Limpiar Datos Guardados"}),E.jsx(Ge,{onClick:i,className:"w-full bg-gray-600 hover:bg-gray-700",children:"Cerrar"})]})]})]})}):E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:E.jsx("div",{className:"text-center",children:"Cargando información del caché..."})})})},YN=({pack:i,onBack:e,onSuccess:n})=>{const{user:s}=zg(),[o,u]=le.useState(!1),[d,m]=le.useState(null),[p,y]=le.useState(null);le.useEffect(()=>{(async()=>{try{const k=await Qw();y(k)}catch{m("Error cargando configuración de pago")}})()},[]);const T=async()=>{if(!s||!s.email){m("Debes estar autenticado para realizar una compra");return}if(!i.isPremium){m("Este pack no requiere pago");return}u(!0),m(null);try{await FN(i,s.email,s.uid),n&&n()}catch(A){m(A.message||"Error procesando el pago"),u(!1)}},R=(A,k)=>new Intl.NumberFormat("es-ES",{style:"currency",currency:k.toUpperCase()}).format(A/100);return p?E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"w-full max-w-md",children:[E.jsxs("div",{className:"relative text-center mb-8",children:[E.jsx("button",{onClick:e,className:"absolute left-0 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:E.jsx(X0,{className:"w-8 h-8"})}),E.jsx("h1",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:"Checkout"})]}),E.jsxs(zn,{className:"p-6",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("div",{className:"text-6xl mb-4",children:i.icon}),E.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-2",children:i.name}),E.jsx("p",{className:"text-gray-400 mb-4",children:i.description}),i.priceAmount&&i.currency&&E.jsxs("div",{className:"bg-gradient-to-r from-pink-500/20 to-purple-500/20 rounded-lg p-4 mb-4",children:[E.jsx("div",{className:"text-3xl font-bold text-white",children:R(i.priceAmount,i.currency)}),E.jsx("div",{className:"text-sm text-gray-300",children:"Pago único"})]})]}),E.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 mb-6",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.jsx(eo,{className:"w-5 h-5 text-green-400"}),E.jsx("span",{className:"text-green-400 font-semibold",children:"Pago seguro"})]}),E.jsx("p",{className:"text-sm text-gray-300",children:"Tu pago está protegido por Stripe. No almacenamos información de tarjetas de crédito."})]}),s&&E.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:[E.jsxs("div",{className:"text-sm text-gray-300",children:[E.jsx("strong",{children:"Cuenta:"})," ",s.displayName||s.email]}),E.jsxs("div",{className:"text-sm text-gray-300",children:[E.jsx("strong",{children:"Email:"})," ",s.email]})]}),d&&E.jsx("div",{className:"bg-red-500/20 border border-red-500 rounded-lg p-4 mb-6",children:E.jsx("p",{className:"text-red-200 text-sm",children:d})}),E.jsx(Ge,{onClick:T,disabled:o||!s,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600",children:o?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Procesando..."]}):E.jsxs(E.Fragment,{children:[E.jsx($0,{className:"w-5 h-5"}),"Pagar con Stripe"]})}),E.jsx("div",{className:"mt-4 text-center",children:E.jsx("p",{className:"text-xs text-gray-400",children:"Al continuar, aceptas nuestros términos de servicio y política de privacidad."})})]}),E.jsxs("div",{className:"mt-6 text-center",children:[E.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Métodos de pago aceptados:"}),E.jsxs("div",{className:"flex justify-center gap-2",children:[E.jsx("div",{className:"bg-gray-700 rounded px-2 py-1 text-xs text-gray-300",children:"Visa"}),E.jsx("div",{className:"bg-gray-700 rounded px-2 py-1 text-xs text-gray-300",children:"Mastercard"}),E.jsx("div",{className:"bg-gray-700 rounded px-2 py-1 text-xs text-gray-300",children:"American Express"})]})]})]})}):E.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),E.jsx("p",{className:"text-gray-400",children:"Cargando configuración de pago..."})]})})},XN=({availablePacks:i,purchasedPacks:e,onPurchase:n,onBack:s,onGoToLogin:o})=>{const{user:u,isAuthenticated:d}=zg(),[m,p]=le.useState(!1),[y,T]=le.useState(!1),[R,A]=le.useState(!1),[k,B]=le.useState(null),[Y,G]=le.useState([]),[ne,re]=le.useState(!1);le.useEffect(()=>{(async()=>{if(u&&d){re(!0);try{const S=await Q0(u.uid);G(S)}catch(S){console.error("Error cargando compras del usuario:",S)}finally{re(!1)}}else G([])})()},[u,d]);const ie=N=>{const S=i.find(x=>x.id===N);if(S){if(!S.isPremium||S.id==="base"){if(!Bm()){p(!0),setTimeout(()=>p(!1),3e3);return}n(N);return}if(!Bm()){p(!0),setTimeout(()=>p(!1),3e3);return}B(S),A(!0)}},me=async()=>{if(A(!1),B(null),u&&d)try{const N=await Q0(u.uid);G(N),k&&N.includes(k.id)&&n(k.id)}catch(N){console.error("Error actualizando compras:",N)}},he=()=>{A(!1),B(null)},_e=Bw();return E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"w-full max-w-2xl",children:[E.jsxs("div",{className:"relative text-center mb-8",children:[E.jsx("button",{onClick:s,className:"absolute left-0 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:E.jsx(X0,{className:"w-8 h-8"})}),E.jsx("button",{onClick:()=>T(!0),className:"absolute right-0 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",title:"Gestionar almacenamiento local",children:E.jsxs("div",{className:"relative",children:[E.jsx(Y0,{className:"w-8 h-8"}),_e.packsCount>0&&E.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:_e.packsCount})]})}),E.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:"Tienda de Paquetes"}),E.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2 text-sm",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(PA,{className:"w-4 h-4"}),u?E.jsx("span",{className:`${d?"text-green-400":"text-yellow-400"}`,children:d?`Conectado como ${u.displayName||u.email}`:"Usuario anónimo - Inicia sesión para comprar"}):E.jsx("span",{className:"text-gray-400",children:"No conectado"})]}),u&&d&&E.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:E.jsx("a",{href:"https://verdad-reto.es.eu.org/delete-account.html",target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-400 transition-colors",children:"Eliminar cuenta"})})]})]}),m&&E.jsxs("div",{className:"mb-6 p-4 bg-yellow-500/20 border border-yellow-500 rounded-lg text-center",children:[E.jsx("p",{className:"text-yellow-100 mb-2",children:"Necesitas iniciar sesión y verificar tu email para comprar packs premium"}),o&&E.jsx(Ge,{onClick:o,className:"bg-yellow-600 hover:bg-yellow-700",children:"Ir a Iniciar Sesión"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(N=>{const S=e.includes(N.id),x=Y.includes(N.id),D=S||x,P=N.id==="base",V=N.isPremium&&!P,I=V&&!D;return E.jsxs(zn,{className:`flex flex-col text-center border-2 transition-all ${D?"border-green-500/50":I?"border-yellow-500/50 opacity-75":"border-transparent hover:border-pink-500/50"}`,children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"text-5xl mb-4",children:N.icon}),I&&E.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 rounded-full p-1",children:E.jsx(eo,{className:"w-4 h-4 text-black"})})]}),E.jsx("h2",{className:`text-2xl font-bold ${D?"text-green-400":I?"text-yellow-400":"text-cyan-400"}`,children:N.name}),E.jsx("p",{className:"text-gray-400 mt-2 mb-2 flex-grow",children:N.description}),V&&N.priceAmount&&N.currency&&E.jsxs("div",{className:"mb-4",children:[N.hasDiscount&&N.originalPriceAmount?E.jsxs("div",{className:"space-y-1",children:[E.jsx("div",{className:"text-sm text-gray-500 line-through",children:new Intl.NumberFormat("es-ES",{style:"currency",currency:N.currency.toUpperCase()}).format(N.originalPriceAmount/100)}),E.jsx("div",{className:`text-lg font-bold ${D?"text-green-400":"text-red-400"}`,children:new Intl.NumberFormat("es-ES",{style:"currency",currency:N.currency.toUpperCase()}).format(N.priceAmount/100)}),E.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400",children:N.discountPercentage?`-${N.discountPercentage}%`:`-${new Intl.NumberFormat("es-ES",{style:"currency",currency:N.currency.toUpperCase()}).format((N.originalPriceAmount-N.priceAmount)/100)}`}),N.discountReason&&E.jsx("div",{className:"text-xs text-yellow-400 italic",children:N.discountReason})]}):E.jsx("div",{className:`text-lg font-bold ${D?"text-green-400":"text-yellow-400"}`,children:new Intl.NumberFormat("es-ES",{style:"currency",currency:N.currency.toUpperCase()}).format(N.priceAmount/100)}),E.jsx("div",{className:"text-xs text-gray-500",children:"Pago único"})]}),D?E.jsx("div",{className:"mt-auto w-full px-6 py-3 font-bold rounded-lg bg-green-700 text-green-200",children:"✓ Comprado"}):P?E.jsx("div",{className:"mt-auto w-full px-6 py-3 font-bold rounded-lg bg-blue-700 text-blue-200",children:"Incluido"}):V?E.jsx(Ge,{onClick:()=>ie(N.id),variant:"secondary",className:"mt-auto w-full flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",disabled:ne,children:ne?E.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):E.jsxs(E.Fragment,{children:[E.jsx($0,{className:"w-4 h-4"}),"Comprar ",N.price]})}):E.jsxs(Ge,{onClick:()=>ie(N.id),variant:"secondary",className:"mt-auto w-full flex items-center justify-center gap-2",children:[E.jsx(eo,{className:"w-4 h-4"}),"Desbloquear (",N.price,")"]})]},N.id)})}),y&&E.jsx(KN,{onClose:()=>T(!1)}),R&&k&&E.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:E.jsx("div",{className:"w-full h-full",children:E.jsx(YN,{pack:k,onBack:he,onSuccess:me})})})]})})},$N=({onBack:i,onSuccess:e})=>{const[n,s]=le.useState("login"),[o,u]=le.useState(""),[d,m]=le.useState(""),[p,y]=le.useState(""),[T,R]=le.useState(""),[A,k]=le.useState(!1),[B,Y]=le.useState(""),[G,ne]=le.useState(""),{refreshUser:re}=zg(),ie=async()=>{k(!0),Y("");try{await Pw(),re(),e()}catch(x){Y(x.message)}finally{k(!1)}},me=async()=>{k(!0),Y("");try{await kw(),re(),e()}catch(x){Y(x.message)}finally{k(!1)}},he=async x=>{x.preventDefault(),k(!0),Y(""),ne("");try{if(n==="login"){const D=await Mw(o,d);if(re(),!D.emailVerified){ne("Tu email no está verificado. Revisa tu bandeja de entrada o reenvía la verificación.");return}e()}else if(n==="register"){if(d!==p)throw new Error("Las contraseñas no coinciden");await Vw(o,d,T),ne("Cuenta creada exitosamente. Revisa tu email para verificar tu cuenta antes de poder comprar packs premium."),s("login")}else n==="forgot-password"&&(await Lw(o),ne("Email de restablecimiento enviado. Revisa tu bandeja de entrada."),s("login"))}catch(D){Y(D.message)}finally{k(!1)}},_e=async()=>{k(!0),Y("");try{await Uw(),ne("Email de verificación reenviado.")}catch(x){Y(x.message)}finally{k(!1)}},N=()=>{u(""),m(""),y(""),R(""),Y(""),ne("")},S=x=>{s(x),N()};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 flex items-center justify-center p-4",children:E.jsxs(zn,{className:"w-full max-w-md p-8 space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n==="login"?"Iniciar Sesión":n==="register"?"Crear Cuenta":"Recuperar Contraseña"}),E.jsx("p",{className:"text-white/80",children:n==="login"?"Accede a tu cuenta para comprar packs premium":n==="register"?"Crea una cuenta para acceder a contenido premium":"Ingresa tu email para recuperar tu contraseña"})]}),B&&E.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-100 px-4 py-3 rounded",children:B}),G&&E.jsxs("div",{className:"bg-green-500/20 border border-green-500 text-green-100 px-4 py-3 rounded",children:[E.jsx("p",{children:G}),G.includes("no está verificado")&&E.jsx(Ge,{onClick:_e,disabled:A,className:"mt-2 bg-green-600 hover:bg-green-700 text-sm",children:"Reenviar verificación"})]}),E.jsxs("form",{onSubmit:he,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Email"}),E.jsx("input",{type:"email",value:o,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"tu@email.com",required:!0})]}),n!=="forgot-password"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Contraseña"}),E.jsx("input",{type:"password",value:d,onChange:x=>m(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"••••••••",required:!0,minLength:6})]}),n==="register"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Confirmar Contraseña"}),E.jsx("input",{type:"password",value:p,onChange:x=>y(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"••••••••",required:!0,minLength:6})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Nombre (opcional)"}),E.jsx("input",{type:"text",value:T,onChange:x=>R(x.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50",placeholder:"Tu nombre"})]})]}),E.jsx(Ge,{type:"submit",disabled:A,className:"w-full",children:A?"Cargando...":n==="login"?"Iniciar Sesión":n==="register"?"Crear Cuenta":"Enviar Email"})]}),n!=="forgot-password"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-white/20"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-transparent text-white/60",children:"o"})})]}),E.jsxs(Ge,{onClick:ie,disabled:A,className:"w-full bg-white text-gray-900 hover:bg-gray-100",children:[E.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})]}),E.jsxs("div",{className:"text-center space-y-2",children:[n==="login"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{type:"button",onClick:()=>S("forgot-password"),className:"text-white/80 hover:text-white text-sm underline",children:"¿Olvidaste tu contraseña?"}),E.jsxs("div",{children:[E.jsx("span",{className:"text-white/60 text-sm",children:"¿No tienes cuenta? "}),E.jsx("button",{type:"button",onClick:()=>S("register"),className:"text-white hover:text-white/80 text-sm underline",children:"Regístrate"})]})]}),n==="register"&&E.jsxs("div",{children:[E.jsx("span",{className:"text-white/60 text-sm",children:"¿Ya tienes cuenta? "}),E.jsx("button",{type:"button",onClick:()=>S("login"),className:"text-white hover:text-white/80 text-sm underline",children:"Inicia sesión"})]}),n==="forgot-password"&&E.jsx("button",{type:"button",onClick:()=>S("login"),className:"text-white hover:text-white/80 text-sm underline",children:"Volver al inicio de sesión"})]}),E.jsxs("div",{className:"border-t border-white/20 pt-4",children:[E.jsx(Ge,{onClick:me,disabled:A,className:"w-full bg-white/10 hover:bg-white/20 text-white border border-white/20",children:"Continuar sin cuenta"}),E.jsx("p",{className:"text-white/60 text-xs text-center mt-2",children:"Podrás jugar pero no comprar packs premium"})]}),E.jsx("div",{className:"text-center",children:E.jsx(Ge,{onClick:i,className:"text-white/80 hover:text-white bg-transparent",children:"← Volver"})})]})})},WN=i=>{var n;if(!i.hasDiscount||!i.priceAmount)return i;if(i.discountValidUntil&&new Date>i.discountValidUntil)return{...i,hasDiscount:!1};let e=i.priceAmount;return i.discountPercentage?e=i.priceAmount*(1-i.discountPercentage/100):i.discountAmount&&(e=i.priceAmount-i.discountAmount),e=Math.max(0,Math.round(e)),{...i,originalPriceAmount:i.priceAmount,priceAmount:e,price:new Intl.NumberFormat("es-ES",{style:"currency",currency:((n=i.currency)==null?void 0:n.toUpperCase())||"EUR"}).format(e/100)}},Kw=async()=>{try{const i=di(xr,"packs"),e=await Ao(i);return e.empty?(console.warn("No packs found in Firebase database"),[]):e.docs.map(o=>{const u=o.data();return{id:o.id,name:u.name,description:u.description,price:u.price,icon:u.icon,isActive:u.isActive??!0,priceAmount:u.priceAmount,currency:u.currency,isPremium:u.isPremium??!1,stripeProductId:u.stripeProductId,stripePriceId:u.stripePriceId,hasDiscount:u.hasDiscount??!1,discountPercentage:u.discountPercentage,discountAmount:u.discountAmount,discountReason:u.discountReason,discountValidUntil:u.discountValidUntil?u.discountValidUntil.toDate():void 0,originalPriceAmount:u.originalPriceAmount,allowDemo:u.allowDemo??!1,demoPlaysCount:u.demoPlaysCount??0}}).filter(o=>o.isActive).map(o=>WN(o))}catch(i){throw console.error("Error connecting to Firebase:",i),new Error("No se pudo conectar a la base de datos. Verifica tu conexión a internet.")}},ZN=async i=>{try{if(!i||i.length===0)return console.warn("No categories provided for questions query"),[];const e=di(xr,"gameItems"),n=vu(e,fi("type","==","question"),fi("category","in",i)),s=await Ao(n);return s.empty?(console.warn("No questions found in Firebase database for categories:",i),[]):s.docs.map(u=>{const d=u.data();return{text:d.text,category:d.category}})}catch(e){throw console.error("Error fetching questions from Firebase:",e),new Error("No se pudieron cargar las preguntas. Verifica tu conexión a internet.")}},JN=async i=>{try{if(!i||i.length===0)return console.warn("No categories provided for dares query"),[];const e=di(xr,"gameItems"),n=vu(e,fi("type","==","dare"),fi("category","in",i)),s=await Ao(n);return s.empty?(console.warn("No dares found in Firebase database for categories:",i),[]):s.docs.map(u=>{const d=u.data();return{text:d.text,category:d.category}})}catch(e){throw console.error("Error fetching dares from Firebase:",e),new Error("No se pudieron cargar los retos. Verifica tu conexión a internet.")}},eD=async i=>{try{if(!i||i.length===0)return console.warn("No pack IDs provided for categories query"),[];const e=di(xr,"gameItems"),n=vu(e,fi("packId","in",i)),s=await Ao(n);return s.empty?(console.warn("No categories found in Firebase database for packs:",i),[]):[...new Set(s.docs.map(u=>u.data().category))]}catch(e){throw console.error("Error fetching categories from Firebase:",e),new Error("No se pudieron cargar las categorías. Verifica tu conexión a internet.")}},tD=async i=>{try{if(!i||i.length===0)return console.warn("No pack IDs provided for game data query"),{questions:[],dares:[],categories:[]};const e=await eD(i),[n,s]=await Promise.all([ZN(e),JN(e)]);if(iu()&&(n.length>0||s.length>0)){const o=[...n,...s],u=i.reduce((d,m)=>{const p=o.filter(T=>T.packId===m),y=e.filter(T=>p.some(R=>R.category===T));return p.length>0&&(d[m]={items:p,categories:y}),d},{});for(const[d,m]of Object.entries(u)){const y=(await Kw()).find(T=>T.id===d);y&&await RN(y,m.items,m.categories)}}return{questions:n,dares:s,categories:e}}catch(e){console.error("Error fetching game data from Firebase:",e);const n=xN(i);if(n){console.log("Using cached game data for offline play");const s=n.items.filter(u=>!("type"in u)||u.type==="question"),o=n.items.filter(u=>"type"in u&&u.type==="dare");return{questions:s,dares:o,categories:n.categories}}throw iu()?new Error("No hay conexión a internet y no tienes datos guardados para estos packs."):new Error("No hay conexión a internet y no tienes packs guardados localmente. ¿Deseas activar el almacenamiento local para jugar sin conexión?")}},nD=async i=>{try{const e=di(xr,"gameItems"),n=vu(e,fi("packId","==",i),fi("isDemo","==",!0)),o=(await Ao(n)).docs.map(p=>({id:p.id,...p.data()})),u=o.filter(p=>p.type==="question").map(p=>({text:p.text,category:p.category,isDemo:!0,packId:p.packId})),d=o.filter(p=>p.type==="dare").map(p=>({text:p.text,category:p.category,isDemo:!0,packId:p.packId})),m=[...new Set(o.map(p=>p.category))];return{questions:u,dares:d,categories:m}}catch(e){return console.error("Error fetching demo data:",e),{questions:[],dares:[],categories:[]}}},rD=async(i,e)=>{try{const n={packId:i,userId:e||"anonymous",timestamp:new Date,type:"demo_play"};await Cw(di(xr,"demoLogs"),n);const s=di(xr,"packs"),o=Ig(s,i),u=await xw(o);if(u.exists()){const d=u.data().demoPlaysCount||0;await vN(o,{demoPlaysCount:d+1})}console.log("Demo play logged successfully")}catch(n){console.error("Error logging demo play:",n)}},iD=()=>{const[i,e]=le.useState(it.Setup),[n,s]=le.useState([]),[o,u]=le.useState([]),[d,m]=le.useState([]),[p,y]=le.useState(0),[T,R]=le.useState({totalRounds:5}),[A,k]=le.useState({currentRound:1,playersCompletedInRound:0}),[B,Y]=le.useState({totalRounds:0,totalQuestions:0,totalDares:0,gameStartTime:null,gameEndTime:null,roundStats:[]}),[G,ne]=le.useState({roundNumber:1,questionsAsked:0,daresCompleted:0,playersParticipated:[],roundStartTime:new Date,roundEndTime:null}),[re,ie]=le.useState({isLoading:!0,error:null}),[me,he]=le.useState([]),[_e,N]=le.useState(()=>{try{const ge=window.localStorage.getItem("purchasedPacks");return ge?JSON.parse(ge):[]}catch(ge){return console.error("Error reading from localStorage",ge),[]}}),[S,x]=le.useState(!1),[D,P]=le.useState(null),[V,I]=le.useState(!1),[Ue,Le]=le.useState(null),[Q,se]=le.useState([]);le.useEffect(()=>{(async()=>{try{const Se=await Kw();he(Se)}catch(Se){console.error("Error loading available packs:",Se)}})()},[]),le.useEffect(()=>{try{window.localStorage.setItem("purchasedPacks",JSON.stringify(_e))}catch(ge){console.error("Error writing to localStorage",ge)}},[_e]);const de=le.useCallback(async()=>{ie({isLoading:!0,error:null});try{const ge=["base",..._e.filter(tr=>tr!=="base")],Se=await tD(ge);u(Se.questions),m(Se.dares),ie({isLoading:!1,error:null})}catch(ge){console.error("Error loading game data:",ge),ie({isLoading:!1,error:ge instanceof Error?ge.message:"Error desconocido"})}},[_e]);le.useEffect(()=>{de()},[de]);const He=()=>{if(n.length<2){alert("Se necesitan al menos 2 jugadores para empezar.");return}e(it.PackSelection)},O=()=>{e(it.RoundConfiguration)},J=()=>{e(it.Setup)},ae=()=>{e(it.Shop)},ee=()=>{e(it.Login)},pe=()=>{e(it.Setup)},Ce=()=>{e(it.Setup)},be=ge=>{const Se=me.find(tr=>tr.id===ge);Se&&(Le(Se),I(!0))},vt=()=>{I(!1),Le(null)},Ze=ge=>{se(Se=>Se.includes(ge)?Se:[...Se,ge])},Rn=async()=>{if(Ue)try{const ge=await nD(Ue.id);if(ge.questions.length===0&&ge.dares.length===0){alert("Este pack no tiene contenido demo disponible.");return}x(!0),P(Ue.id),u(ge.questions),m(ge.dares),await rD(Ue.id),e(it.RoundConfiguration)}catch(ge){console.error("Error starting demo:",ge),alert("Error al cargar el demo. Inténtalo de nuevo.")}},Jn=ge=>{R(ge),Y({totalRounds:0,totalQuestions:0,totalDares:0,gameStartTime:new Date,gameEndTime:null,roundStats:[]}),ne({roundNumber:1,questionsAsked:0,daresCompleted:0,playersParticipated:[],roundStartTime:new Date,roundEndTime:null}),k({currentRound:1,playersCompletedInRound:0}),e(it.Game)},qn=()=>{const ge=(p+1)%n.length;if(y(ge),ge===0){const Se=A.currentRound+1;Se>T.totalRounds?er():(k({currentRound:Se,playersCompletedInRound:0}),ne({roundNumber:Se,questionsAsked:0,daresCompleted:0,playersParticipated:[],roundStartTime:new Date,roundEndTime:null}))}else k(Se=>({...Se,playersCompletedInRound:Se.playersCompletedInRound+1}))},Nr=()=>{const ge={...G,roundEndTime:new Date};Y(Se=>({...Se,totalRounds:Se.totalRounds+1,roundStats:[...Se.roundStats,ge]})),e(it.RoundEnd)},Dr=()=>{const ge=A.currentRound+1;k({currentRound:ge,playersCompletedInRound:0}),ne({roundNumber:ge,questionsAsked:0,daresCompleted:0,playersParticipated:[],roundStartTime:new Date,roundEndTime:null}),y(0),e(it.Game)},er=()=>{Y(ge=>({...ge,gameEndTime:new Date})),e(it.GameEnd)},ds=()=>{const ge=n[p];ne(Se=>({...Se,questionsAsked:Se.questionsAsked+1,playersParticipated:Se.playersParticipated.includes(ge)?Se.playersParticipated:[...Se.playersParticipated,ge]})),Y(Se=>({...Se,totalQuestions:Se.totalQuestions+1}))},ia=()=>{const ge=n[p];ne(Se=>({...Se,daresCompleted:Se.daresCompleted+1,playersParticipated:Se.playersParticipated.includes(ge)?Se.playersParticipated:[...Se.playersParticipated,ge]})),Y(Se=>({...Se,totalDares:Se.totalDares+1}))},sn=le.useCallback(()=>{e(it.Setup),s([]),y(0),R({totalRounds:5}),k({currentRound:1,playersCompletedInRound:0}),Y({totalRounds:0,totalQuestions:0,totalDares:0,gameStartTime:null,gameEndTime:null,roundStats:[]}),ne({roundNumber:1,questionsAsked:0,daresCompleted:0,playersParticipated:[],roundStartTime:new Date,roundEndTime:null}),x(!1),P(null),I(!1),Le(null),se([])},[]),Ro=ge=>{_e.includes(ge)||N([..._e,ge])},fs=()=>_e.includes("no-ads"),pi=()=>{switch(i){case it.Setup:return E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-900 bg-opacity-50 backdrop-blur-sm",children:E.jsxs("div",{className:"w-full max-w-md mx-auto animate-fade-in",children:[E.jsx("h1",{className:"text-5xl font-extrabold text-center mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-purple-500",children:"Verdad o Reto"}),E.jsx("p",{className:"text-center text-gray-400 mb-8",children:"El juego para animar la fiesta"}),E.jsxs("div",{className:"space-y-6",children:[E.jsx(kA,{players:n,setPlayers:s}),re.isLoading&&E.jsx(zn,{className:"text-center text-gray-400",children:E.jsx("p",{children:"Cargando datos desde Firebase..."})}),re.error&&E.jsxs(zn,{className:"text-center text-red-400",children:[E.jsxs("p",{children:["Error de conexión: ",re.error]}),E.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Verifica tu configuración de Firebase"}),E.jsx(Ge,{onClick:de,className:"mt-4",variant:"secondary",children:"Reintentar"})]}),!re.isLoading&&!re.error&&E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx(Ge,{onClick:He,className:"w-full text-lg",disabled:n.length<2||o.length===0||d.length===0,children:"Empezar a Jugar"}),E.jsxs(Ge,{onClick:()=>e(it.Shop),variant:"secondary",className:"w-full text-lg flex items-center justify-center gap-2",children:[E.jsx(Y0,{className:"w-6 h-6"}),"Tienda de Paquetes"]}),E.jsx(Ge,{onClick:ee,variant:"secondary",className:"w-full text-lg",children:"Iniciar Sesión"})]})]})]})});case it.Login:return E.jsx($N,{onBack:Ce,onSuccess:pe});case it.Shop:return E.jsx(XN,{availablePacks:me,purchasedPacks:_e,onPurchase:Ro,onBack:()=>e(it.Setup),onGoToLogin:ee});case it.PackSelection:return E.jsxs(E.Fragment,{children:[E.jsx(LA,{availablePacks:me,purchasedPacks:_e,adWatchedPacks:Q,onContinue:O,onBack:J,onGoToShop:ae,onPlayDemo:be}),E.jsx($A,{pack:Ue,isOpen:V,onClose:vt,onStartDemo:Rn,onAdWatched:Ze})]});case it.RoundConfiguration:return E.jsx(ZA,{onSelectRounds:ge=>{Jn({totalRounds:ge})},onBack:()=>e(it.PackSelection)});case it.Game:return E.jsx(WA,{players:n,currentPlayerIndex:p,onNextPlayer:qn,onNewGame:sn,questions:o,dares:d,roundConfig:T,gameProgress:A,onRoundEnd:Nr,onQuestionAsked:ds,onDareCompleted:ia});case it.RoundEnd:return E.jsx(JA,{roundStats:G,currentRound:A.currentRound,totalRounds:T.totalRounds,onContinue:Dr,onEndGame:er,hasNoAds:fs()});case it.GameEnd:return E.jsx(eS,{gameStats:B,players:n,onNewGame:sn,onBackToMenu:()=>e(it.Setup),isDemoMode:S,demoPackId:D});default:return E.jsx("div",{children:"Error: Estado de juego desconocido."})}};return E.jsx(AN,{children:E.jsxs("main",{className:"relative min-h-screen bg-gray-900 overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-purple-900/30 via-transparent to-pink-900/30"}),E.jsx("div",{className:"absolute top-[-20%] left-[-20%] w-96 h-96 bg-purple-600 rounded-full filter blur-3xl opacity-20 animate-blob"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[5%] w-96 h-96 bg-pink-600 rounded-full filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute top-[10%] right-[-15%] w-80 h-80 bg-cyan-600 rounded-full filter blur-3xl opacity-10 animate-blob animation-delay-4000"}),E.jsx("div",{className:"relative z-10",children:pi()}),E.jsx("style",{children:`
          .animate-blob {
            animation: blob 7s infinite;
          }
          .animation-delay-2000 {
            animation-delay: 2s;
          }
          .animation-delay-4000 {
            animation-delay: 4s;
          }
          @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
          }
          .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
          }
          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }
        `})]})})},Yw=document.getElementById("root");if(!Yw)throw new Error("Could not find root element to mount to");const sD=NA.createRoot(Yw);sD.render(E.jsx(wA.StrictMode,{children:E.jsx(iD,{})}));export{mv as A,Z0 as W};
